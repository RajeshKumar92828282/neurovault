var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),e}const LOAD_BASE=r=>Promise.reject(new Error(`No base found for "${r}"`));class Multibases{constructor(t){this._basesByName={},this._basesByPrefix={},this._loadBase=t.loadBase||LOAD_BASE;for(const e of t.bases)this.addBase(e)}addBase(t){if(this._basesByName[t.name]||this._basesByPrefix[t.prefix])throw new Error(`Codec already exists for codec "${t.name}"`);this._basesByName[t.name]=t,this._basesByPrefix[t.prefix]=t}removeBase(t){delete this._basesByName[t.name],delete this._basesByPrefix[t.prefix]}async getBase(t){if(this._basesByName[t])return this._basesByName[t];if(this._basesByPrefix[t])return this._basesByPrefix[t];const e=await this._loadBase(t);return this._basesByName[e.name]==null&&this._basesByPrefix[e.prefix]==null&&this.addBase(e),e}listBases(){return Object.values(this._basesByName)}}const LOAD_CODEC=r=>Promise.reject(new Error(`No codec found for "${r}"`));class Multicodecs{constructor(t){this._codecsByName={},this._codecsByCode={},this._loadCodec=t.loadCodec||LOAD_CODEC;for(const e of t.codecs)this.addCodec(e)}addCodec(t){if(this._codecsByName[t.name]||this._codecsByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._codecsByName[t.name]=t,this._codecsByCode[t.code]=t}removeCodec(t){delete this._codecsByName[t.name],delete this._codecsByCode[t.code]}async getCodec(t){const e=typeof t=="string"?this._codecsByName:this._codecsByCode;if(e[t])return e[t];const n=await this._loadCodec(t);return e[t]==null&&this.addCodec(n),n}listCodecs(){return Object.values(this._codecsByName)}}const LOAD_HASHER=r=>Promise.reject(new Error(`No hasher found for "${r}"`));class Multihashes{constructor(t){this._hashersByName={},this._hashersByCode={},this._loadHasher=t.loadHasher||LOAD_HASHER;for(const e of t.hashers)this.addHasher(e)}addHasher(t){if(this._hashersByName[t.name]||this._hashersByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._hashersByName[t.name]=t,this._hashersByCode[t.code]=t}removeHasher(t){delete this._hashersByName[t.name],delete this._hashersByCode[t.code]}async getHasher(t){const e=typeof t=="string"?this._hashersByName:this._hashersByCode;if(e[t])return e[t];const n=await this._loadHasher(t);return e[t]==null&&this.addHasher(n),n}listHashers(){return Object.values(this._hashersByName)}}function equals$b(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}function coerce$d(r){if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}function base$d(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$g=base$d,_brrp__multiformats_scope_baseX$d=src$g;let Encoder$d=class{name;prefix;baseEncode;constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$d=class{name;prefix;baseDecode;prefixCodePoint;constructor(t,e,n){this.name=t,this.prefix=e;const i=e.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$d(this,t)}},ComposedDecoder$d=class{decoders;constructor(t){this.decoders=t}or(t){return or$d(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n!=null)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$d(r,t){return new ComposedDecoder$d({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}let Codec$d=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$d(t,e,n),this.decoder=new Decoder$d(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function from$e({name:r,prefix:t,encode:e,decode:n}){return new Codec$d(r,t,e,n)}function baseX$d({name:r,prefix:t,alphabet:e}){const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$d(e,r);return from$e({prefix:t,name:r,encode:n,decode:o=>coerce$d(i(o))})}function decode$K(r,t,e,n){let i=r.length;for(;r[i-1]==="=";)--i;const o=new Uint8Array(i*e/8|0);let s=0,a=0,c=0;for(let y=0;y<i;++y){const g=t[r[y]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<e|g,s+=e,s>=8&&(s-=8,o[c++]=255&a>>s)}if(s>=e||(255&a<<8-s)!==0)throw new SyntaxError("Unexpected end of data");return o}function encode$z(r,t,e){const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s!==0&&(o+=t[i&a<<e-s]),n)for(;(o.length*e&7)!==0;)o+="=";return o}function createAlphabetIdx$3(r){const t={};for(let e=0;e<r.length;++e)t[r[e]]=e;return t}function rfc4648$d({name:r,prefix:t,bitsPerChar:e,alphabet:n}){const i=createAlphabetIdx$3(n);return from$e({prefix:t,name:r,encode(o){return encode$z(o,n,e)},decode(o){return decode$K(o,i,e,r)}})}const base32$a=rfc4648$d({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$d({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$d({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$d({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$d({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$d({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$d({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$d({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$d({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36$a=baseX$d({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$d({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc$6=baseX$d({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$d({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$5=encode$y,MSB$5=128,MSBALL$4=-128,INT$4=Math.pow(2,31);function encode$y(r,t,e){t=t||[],e=e||0;for(var n=e;r>=INT$4;)t[e++]=r&255|MSB$5,r/=128;for(;r&MSBALL$4;)t[e++]=r&255|MSB$5,r>>>=7;return t[e]=r|0,encode$y.bytes=e-n+1,t}var decode$J=read$4,MSB$1$5=128,REST$1$4=127;function read$4(r,n){var e=0,n=n||0,i=0,o=n,s,a=r.length;do{if(o>=a)throw read$4.bytes=0,new RangeError("Could not decode varint");s=r[o++],e+=i<28?(s&REST$1$4)<<i:(s&REST$1$4)*Math.pow(2,i),i+=7}while(s>=MSB$1$5);return read$4.bytes=o-n,e}var N1$5=Math.pow(2,7),N2$5=Math.pow(2,14),N3$5=Math.pow(2,21),N4$5=Math.pow(2,28),N5$5=Math.pow(2,35),N6$5=Math.pow(2,42),N7$5=Math.pow(2,49),N8$4=Math.pow(2,56),N9$4=Math.pow(2,63),length$5=function(r){return r<N1$5?1:r<N2$5?2:r<N3$5?3:r<N4$5?4:r<N5$5?5:r<N6$5?6:r<N7$5?7:r<N8$4?8:r<N9$4?9:10},varint$6={encode:encode_1$5,decode:decode$J,encodingLength:length$5},_brrp_varint$4=varint$6;function decode$I(r,t=0){return[_brrp_varint$4.decode(r,t),_brrp_varint$4.decode.bytes]}function encodeTo$4(r,t,e=0){return _brrp_varint$4.encode(r,t,e),t}function encodingLength$5(r){return _brrp_varint$4.encodingLength(r)}function create$5(r,t){const e=t.byteLength,n=encodingLength$5(r),i=n+encodingLength$5(e),o=new Uint8Array(i+e);return encodeTo$4(r,o,0),encodeTo$4(e,o,n),o.set(t,i),new Digest$4(r,e,t,o)}function decode$H(r){const t=coerce$d(r),[e,n]=decode$I(t),[i,o]=decode$I(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Digest$4(e,i,s,t)}function equals$a(r,t){if(r===t)return!0;{const e=t;return r.code===e.code&&r.size===e.size&&e.bytes instanceof Uint8Array&&equals$b(r.bytes,e.bytes)}}let Digest$4=class{code;size;digest;bytes;constructor(t,e,n,i){this.code=t,this.size=e,this.digest=n,this.bytes=i}};function format$5(r,t){const{bytes:e,version:n}=r;switch(n){case 0:return toStringV0$4(e,baseCache$4(r),t??base58btc$6.encoder);default:return toStringV1$4(e,baseCache$4(r),t??base32$a.encoder)}}const cache$4=new WeakMap;function baseCache$4(r){const t=cache$4.get(r);if(t==null){const e=new Map;return cache$4.set(r,e),e}return t}let CID$4=class ie{code;version;multihash;bytes;"/";constructor(t,e,n,i){this.code=e,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:e}=this;if(t!==DAG_PB_CODE$4)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==SHA_256_CODE$4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ie.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:e}=this.multihash,n=create$5(t,e);return ie.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return ie.equals(this,t)}static equals(t,e){const n=e;return n!=null&&t.code===n.code&&t.version===n.version&&equals$a(t.multihash,n.multihash)}toString(t){return format$5(this,t)}toJSON(){return{"/":format$5(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const e=t;if(e instanceof ie)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){const{version:n,code:i,multihash:o,bytes:s}=e;return new ie(n,i,o,s??encodeCID$5(n,i,o.bytes))}else if(e[cidSymbol$4]===!0){const{version:n,multihash:i,code:o}=e,s=decode$H(i);return ie.create(n,o,s)}else return null}static create(t,e,n){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(e!==DAG_PB_CODE$4)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$4}) block encoding`);return new ie(t,e,n,n.bytes)}case 1:{const i=encodeCID$5(t,e,n.bytes);return new ie(t,e,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return ie.create(0,DAG_PB_CODE$4,t)}static createV1(t,e){return ie.create(1,t,e)}static decode(t){const[e,n]=ie.decodeFirst(t);if(n.length!==0)throw new Error("Incorrect length");return e}static decodeFirst(t){const e=ie.inspectBytes(t),n=e.size-e.multihashSize,i=coerce$d(t.subarray(n,n+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");const o=i.subarray(e.multihashSize-e.digestSize),s=new Digest$4(e.multihashCode,e.digestSize,o,i);return[e.version===0?ie.createV0(s):ie.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0;const n=()=>{const[h,l]=decode$I(t.subarray(e));return e+=l,h};let i=n(),o=DAG_PB_CODE$4;if(i===18?(i=0,e=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const s=e,a=n(),c=n(),y=e+c,g=y-s;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:g,size:y}}static parse(t,e){const[n,i]=parseCIDtoBytes$4(t,e),o=ie.decode(i);if(o.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$4(o).set(n,t),o}};function parseCIDtoBytes$4(r,t){switch(r[0]){case"Q":{const e=t??base58btc$6;return[base58btc$6.prefix,e.decode(`${base58btc$6.prefix}${r}`)]}case base58btc$6.prefix:{const e=t??base58btc$6;return[base58btc$6.prefix,e.decode(r)]}case base32$a.prefix:{const e=t??base32$a;return[base32$a.prefix,e.decode(r)]}case base36$a.prefix:{const e=t??base36$a;return[base36$a.prefix,e.decode(r)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}}function toStringV0$4(r,t,e){const{prefix:n}=e;if(n!==base58btc$6.prefix)throw Error(`Cannot string encode V0 in ${e.name} encoding`);const i=t.get(n);if(i==null){const o=e.encode(r).slice(1);return t.set(n,o),o}else return i}function toStringV1$4(r,t,e){const{prefix:n}=e,i=t.get(n);if(i==null){const o=e.encode(r);return t.set(n,o),o}else return i}const DAG_PB_CODE$4=112,SHA_256_CODE$4=18;function encodeCID$5(r,t,e){const n=encodingLength$5(r),i=n+encodingLength$5(t),o=new Uint8Array(i+e.byteLength);return encodeTo$4(r,o,0),encodeTo$4(t,o,n),o.set(e,i),o}const cidSymbol$4=Symbol.for("@ipld/js-cid/CID"),textDecoder$2=new TextDecoder;function decodeVarint(r,t){let e=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const i=r[t++];if(e+=n<28?(i&127)<<n:(i&127)*2**n,i<128)break}return[e,t]}function decodeBytes(r,t){let e;[e,t]=decodeVarint(r,t);const n=t+e;if(e<0||n<0)throw new Error("protobuf: invalid length");if(n>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,n),n]}function decodeKey(r,t){let e;return[e,t]=decodeVarint(r,t),[e&7,e>>3,t]}function decodeLink(r){const t={},e=r.length;let n=0;for(;n<e;){let i,o;if([i,o,n]=decodeKey(r,n),o===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(i!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=decodeBytes(r,n)}else if(o===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(i!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,n]=decodeBytes(r,n),t.Name=textDecoder$2.decode(s)}else if(o===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(i!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Tsize`);[t.Tsize,n]=decodeVarint(r,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${o}`)}if(n>e)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function decodeNode(r){const t=r.length;let e=0,n,i=!1,o;for(;e<t;){let a,c;if([a,c,e]=decodeKey(r,e),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(c===1){if(o)throw new Error("protobuf: (PBNode) duplicate Data section");[o,e]=decodeBytes(r,e),n&&(i=!0)}else if(c===2){if(i)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let y;[y,e]=decodeBytes(r,e),n.push(decodeLink(y))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(e>t)throw new Error("protobuf: (PBNode) unexpected end of data");const s={};return o&&(s.Data=o),s.Links=n||[],s}const textEncoder$6=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(r,t){let e=t.length;if(typeof r.Tsize=="number"){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");e=encodeVarint(t,e,r.Tsize)-1,t[e]=24}if(typeof r.Name=="string"){const n=textEncoder$6.encode(r.Name);e-=n.length,t.set(n,e),e=encodeVarint(t,e,n.length)-1,t[e]=18}return r.Hash&&(e-=r.Hash.length,t.set(r.Hash,e),e=encodeVarint(t,e,r.Hash.length)-1,t[e]=10),t.length-e}function encodeNode(r){const t=sizeNode(r),e=new Uint8Array(t);let n=t;if(r.Data&&(n-=r.Data.length,e.set(r.Data,n),n=encodeVarint(e,n,r.Data.length)-1,e[n]=10),r.Links)for(let i=r.Links.length-1;i>=0;i--){const o=encodeLink(r.Links[i],e.subarray(0,n));n-=o,n=encodeVarint(e,n,o)-1,e[n]=18}return e}function sizeLink(r){let t=0;if(r.Hash){const e=r.Hash.length;t+=1+e+sov(e)}if(typeof r.Name=="string"){const e=textEncoder$6.encode(r.Name).length;t+=1+e+sov(e)}return typeof r.Tsize=="number"&&(t+=1+sov(r.Tsize)),t}function sizeNode(r){let t=0;if(r.Data){const e=r.Data.length;t+=1+e+sov(e)}if(r.Links)for(const e of r.Links){const n=sizeLink(e);t+=1+n+sov(n)}return t}function encodeVarint(r,t,e){t-=sov(e);const n=t;for(;e>=maxUInt32;)r[t++]=e&127|128,e/=128;for(;e>=128;)r[t++]=e&127|128,e>>>=7;return r[t]=e,n}function sov(r){return r%2===0&&r++,Math.floor((len64(r)+6)/7)}function len64(r){let t=0;return r>=maxInt32&&(r=Math.floor(r/maxInt32),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+len8tab[r]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder$5=new TextEncoder;function linkComparator(r,t){if(r===t)return 0;const e=r.Name?textEncoder$5.encode(r.Name):[],n=t.Name?textEncoder$5.encode(t.Name):[];let i=e.length,o=n.length;for(let s=0,a=Math.min(i,o);s<a;++s)if(e[s]!==n[s]){i=e[s],o=n[s];break}return i<o?-1:o<i?1:0}function hasOnlyProperties(r,t){return!Object.keys(r).some(e=>!t.includes(e))}function asLink(r){if(typeof r.asCID=="object"){const e=CID$4.asCID(r);if(!e)throw new TypeError("Invalid DAG-PB form");return{Hash:e}}if(typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let e=CID$4.asCID(r.Hash);try{e||(typeof r.Hash=="string"?e=CID$4.parse(r.Hash):r.Hash instanceof Uint8Array&&(e=CID$4.decode(r.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}e&&(t.Hash=e)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof r.Name=="string"&&(t.Name=r.Name),typeof r.Tsize=="number"&&(t.Tsize=r.Tsize),t}function prepare(r){if((r instanceof Uint8Array||typeof r=="string")&&(r={Data:r}),typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Data!==void 0)if(typeof r.Data=="string")t.Data=textEncoder$5.encode(r.Data);else if(r.Data instanceof Uint8Array)t.Data=r.Data;else throw new TypeError("Invalid DAG-PB form");if(r.Links!==void 0)if(Array.isArray(r.Links))t.Links=r.Links.map(asLink),t.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function validate$2(r){if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(r,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(r.Data!==void 0&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const e=r.Links[t];if(!e||typeof e!="object"||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!hasOnlyProperties(e,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(e.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(e.Hash==null||!e.Hash["/"]||e.Hash["/"]!==e.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(e.Name!==void 0&&typeof e.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(e.Tsize!==void 0){if(typeof e.Tsize!="number"||e.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(e.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&linkComparator(e,r.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(r,t=[]){return prepare({Data:r,Links:t})}function createLink(r,t,e){return asLink({Hash:e,Name:r,Tsize:t})}function toByteView$2(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}const name$6="dag-pb",code$6=112;function encode$x(r){validate$2(r);const t={};return r.Links&&(t.Links=r.Links.map(e=>{const n={};return e.Hash&&(n.Hash=e.Hash.bytes),e.Name!==void 0&&(n.Name=e.Name),e.Tsize!==void 0&&(n.Tsize=e.Tsize),n})),r.Data&&(t.Data=r.Data),encodeNode(t)}function decode$G(r){const t=toByteView$2(r),e=decodeNode(t),n={};return e.Data&&(n.Data=e.Data),e.Links&&(n.Links=e.Links.map(i=>{const o={};try{o.Hash=CID$4.decode(i.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(o.Name=i.Name),i.Tsize!==void 0&&(o.Tsize=i.Tsize),o})),n}const dagPB=Object.freeze(Object.defineProperty({__proto__:null,code:code$6,createLink,createNode,decode:decode$G,encode:encode$x,name:name$6,prepare,validate:validate$2},Symbol.toStringTag,{value:"Module"})),typeofs$3=["string","number","bigint","symbol"],objectTypeNames$3=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is$3(r){if(r===null)return"null";if(r===void 0)return"undefined";if(r===!0||r===!1)return"boolean";const t=typeof r;if(typeofs$3.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(r))return"Array";if(isBuffer$7(r))return"Buffer";const e=getObjectType$3(r);return e||"Object"}function isBuffer$7(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}function getObjectType$3(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(objectTypeNames$3.includes(t))return t}let Type$3=class{constructor(t,e,n){this.major=t,this.majorEncoded=t<<5,this.name=e,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};Type$3.uint=new Type$3(0,"uint",!0);Type$3.negint=new Type$3(1,"negint",!0);Type$3.bytes=new Type$3(2,"bytes",!0);Type$3.string=new Type$3(3,"string",!0);Type$3.array=new Type$3(4,"array",!1);Type$3.map=new Type$3(5,"map",!1);Type$3.tag=new Type$3(6,"tag",!1);Type$3.float=new Type$3(7,"float",!0);Type$3.false=new Type$3(7,"false",!0);Type$3.true=new Type$3(7,"true",!0);Type$3.null=new Type$3(7,"null",!0);Type$3.undefined=new Type$3(7,"undefined",!0);Type$3.break=new Type$3(7,"break",!0);let Token$3=class{constructor(t,e,n){this.type=t,this.value=e,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};const useBuffer$3=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$4=new TextEncoder;function isBuffer$6(r){return useBuffer$3&&globalThis.Buffer.isBuffer(r)}function asU8A(r){return r instanceof Uint8Array?isBuffer$6(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const toString$9=useBuffer$3?(r,t,e)=>e-t>64?globalThis.Buffer.from(r.subarray(t,e)).toString("utf8"):utf8Slice(r,t,e):(r,t,e)=>e-t>64?textDecoder$1.decode(r.subarray(t,e)):utf8Slice(r,t,e),fromString$e=useBuffer$3?r=>r.length>64?globalThis.Buffer.from(r):utf8ToBytes$3(r):r=>r.length>64?textEncoder$4.encode(r):utf8ToBytes$3(r),fromArray=r=>Uint8Array.from(r),slice=useBuffer$3?(r,t,e)=>isBuffer$6(r)?new Uint8Array(r.subarray(t,e)):r.slice(t,e):(r,t,e)=>r.slice(t,e),concat$4=useBuffer$3?(r,t)=>(r=r.map(e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e)),asU8A(globalThis.Buffer.concat(r,t))):(r,t)=>{const e=new Uint8Array(t);let n=0;for(let i of r)n+i.length>e.length&&(i=i.subarray(0,e.length-n)),e.set(i,n),n+=i.length;return e},alloc=useBuffer$3?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function compare$3(r,t){if(isBuffer$6(r)&&isBuffer$6(t))return r.compare(t);for(let e=0;e<r.length;e++)if(r[e]!==t[e])return r[e]<t[e]?-1:1;return 0}function utf8ToBytes$3(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t}function utf8Slice(r,t,e){const n=[];for(;t<e;){const i=r[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=e){let a,c,y,g;switch(s){case 1:i<128&&(o=i);break;case 2:a=r[t+1],(a&192)===128&&(g=(i&31)<<6|a&63,g>127&&(o=g));break;case 3:a=r[t+1],c=r[t+2],(a&192)===128&&(c&192)===128&&(g=(i&15)<<12|(a&63)<<6|c&63,g>2047&&(g<55296||g>57343)&&(o=g));break;case 4:a=r[t+1],c=r[t+2],y=r[t+3],(a&192)===128&&(c&192)===128&&(y&192)===128&&(g=(i&15)<<18|(a&63)<<12|(c&63)<<6|y&63,g>65535&&g<1114112&&(o=g))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),t+=s}return decodeCodePointsArray(n)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(r){const t=r.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,r);let e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=MAX_ARGUMENTS_LENGTH));return e}const defaultChunkSize=256;class Bl{constructor(t=defaultChunkSize){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let e=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const i=e.length-(this.maxCursor-this.cursor)-1;e.set(t,i)}else{if(e){const i=e.length-(this.maxCursor-this.cursor)-1;i<e.length&&(this.chunks[this.chunks.length-1]=e.subarray(0,i),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(e=alloc(this.chunkSize),this.chunks.push(e),this.maxCursor+=e.length,this._initReuseChunk===null&&(this._initReuseChunk=e),e.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let e;if(this.chunks.length===1){const n=this.chunks[0];t&&this.cursor>n.length/2?(e=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=slice(n,0,this.cursor)}else e=concat$4(this.chunks,this.cursor);return t&&this.reset(),e}}const decodeErrPrefix$3="CBOR decode error:",encodeErrPrefix$3="CBOR encode error:";function assertEnoughData(r,t,e){if(r.length-t<e)throw new Error(`${decodeErrPrefix$3} not enough data for type`)}const uintBoundaries$3=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(r,t,e){assertEnoughData(r,t,1);const n=r[t];if(e.strict===!0&&n<uintBoundaries$3[0])throw new Error(`${decodeErrPrefix$3} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16(r,t,e){assertEnoughData(r,t,2);const n=r[t]<<8|r[t+1];if(e.strict===!0&&n<uintBoundaries$3[1])throw new Error(`${decodeErrPrefix$3} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32(r,t,e){assertEnoughData(r,t,4);const n=r[t]*16777216+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(e.strict===!0&&n<uintBoundaries$3[2])throw new Error(`${decodeErrPrefix$3} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64(r,t,e){assertEnoughData(r,t,8);const n=r[t]*16777216+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3],i=r[t+4]*16777216+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(e.strict===!0&&o<uintBoundaries$3[3])throw new Error(`${decodeErrPrefix$3} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(e.allowBigInt===!0)return o;throw new Error(`${decodeErrPrefix$3} integers outside of the safe integer range are not supported`)}function decodeUint8(r,t,e,n){return new Token$3(Type$3.uint,readUint8(r,t+1,n),2)}function decodeUint16(r,t,e,n){return new Token$3(Type$3.uint,readUint16(r,t+1,n),3)}function decodeUint32(r,t,e,n){return new Token$3(Type$3.uint,readUint32(r,t+1,n),5)}function decodeUint64(r,t,e,n){return new Token$3(Type$3.uint,readUint64(r,t+1,n),9)}function encodeUint$3(r,t){return encodeUintValue$3(r,0,t.value)}function encodeUintValue$3(r,t,e){if(e<uintBoundaries$3[0]){const n=Number(e);r.push([t|n])}else if(e<uintBoundaries$3[1]){const n=Number(e);r.push([t|24,n])}else if(e<uintBoundaries$3[2]){const n=Number(e);r.push([t|25,n>>>8,n&255])}else if(e<uintBoundaries$3[3]){const n=Number(e);r.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(e);if(n<uintBoundaries$3[4]){const i=[t|27,0,0,0,0,0,0,0];let o=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=s&255,s=s>>8,i[3]=s&255,s=s>>8,i[2]=s&255,s=s>>8,i[1]=s&255,r.push(i)}else throw new Error(`${decodeErrPrefix$3} encountered BigInt larger than allowable range`)}}encodeUint$3.encodedSize=function(t){return encodeUintValue$3.encodedSize(t.value)};encodeUintValue$3.encodedSize=function(t){return t<uintBoundaries$3[0]?1:t<uintBoundaries$3[1]?2:t<uintBoundaries$3[2]?3:t<uintBoundaries$3[3]?5:9};encodeUint$3.compareTokens=function(t,e){return t.value<e.value?-1:t.value>e.value?1:0};function decodeNegint8(r,t,e,n){return new Token$3(Type$3.negint,-1-readUint8(r,t+1,n),2)}function decodeNegint16(r,t,e,n){return new Token$3(Type$3.negint,-1-readUint16(r,t+1,n),3)}function decodeNegint32(r,t,e,n){return new Token$3(Type$3.negint,-1-readUint32(r,t+1,n),5)}const neg1b$3=BigInt(-1),pos1b$3=BigInt(1);function decodeNegint64(r,t,e,n){const i=readUint64(r,t+1,n);if(typeof i!="bigint"){const o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new Token$3(Type$3.negint,o,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix$3} integers outside of the safe integer range are not supported`);return new Token$3(Type$3.negint,neg1b$3-BigInt(i),9)}function encodeNegint$3(r,t){const e=t.value,n=typeof e=="bigint"?e*neg1b$3-pos1b$3:e*-1-1;encodeUintValue$3(r,t.type.majorEncoded,n)}encodeNegint$3.encodedSize=function(t){const e=t.value,n=typeof e=="bigint"?e*neg1b$3-pos1b$3:e*-1-1;return n<uintBoundaries$3[0]?1:n<uintBoundaries$3[1]?2:n<uintBoundaries$3[2]?3:n<uintBoundaries$3[3]?5:9};encodeNegint$3.compareTokens=function(t,e){return t.value<e.value?1:t.value>e.value?-1:0};function toToken$3(r,t,e,n){assertEnoughData(r,t,e+n);const i=slice(r,t+e,t+e+n);return new Token$3(Type$3.bytes,i,e+n)}function decodeBytesCompact(r,t,e,n){return toToken$3(r,t,1,e)}function decodeBytes8(r,t,e,n){return toToken$3(r,t,2,readUint8(r,t+1,n))}function decodeBytes16(r,t,e,n){return toToken$3(r,t,3,readUint16(r,t+1,n))}function decodeBytes32(r,t,e,n){return toToken$3(r,t,5,readUint32(r,t+1,n))}function decodeBytes64(r,t,e,n){const i=readUint64(r,t+1,n);if(typeof i=="bigint")throw new Error(`${decodeErrPrefix$3} 64-bit integer bytes lengths not supported`);return toToken$3(r,t,9,i)}function tokenBytes$3(r){return r.encodedBytes===void 0&&(r.encodedBytes=r.type===Type$3.string?fromString$e(r.value):r.value),r.encodedBytes}function encodeBytes$3(r,t){const e=tokenBytes$3(t);encodeUintValue$3(r,t.type.majorEncoded,e.length),r.push(e)}encodeBytes$3.encodedSize=function(t){const e=tokenBytes$3(t);return encodeUintValue$3.encodedSize(e.length)+e.length};encodeBytes$3.compareTokens=function(t,e){return compareBytes$3(tokenBytes$3(t),tokenBytes$3(e))};function compareBytes$3(r,t){return r.length<t.length?-1:r.length>t.length?1:compare$3(r,t)}function toToken$2(r,t,e,n,i){const o=e+n;assertEnoughData(r,t,o);const s=new Token$3(Type$3.string,toString$9(r,t+e,t+o),o);return i.retainStringBytes===!0&&(s.byteValue=slice(r,t+e,t+o)),s}function decodeStringCompact(r,t,e,n){return toToken$2(r,t,1,e,n)}function decodeString8(r,t,e,n){return toToken$2(r,t,2,readUint8(r,t+1,n),n)}function decodeString16(r,t,e,n){return toToken$2(r,t,3,readUint16(r,t+1,n),n)}function decodeString32(r,t,e,n){return toToken$2(r,t,5,readUint32(r,t+1,n),n)}function decodeString64(r,t,e,n){const i=readUint64(r,t+1,n);if(typeof i=="bigint")throw new Error(`${decodeErrPrefix$3} 64-bit integer string lengths not supported`);return toToken$2(r,t,9,i,n)}const encodeString$3=encodeBytes$3;function toToken$1(r,t,e,n){return new Token$3(Type$3.array,n,e)}function decodeArrayCompact(r,t,e,n){return toToken$1(r,t,1,e)}function decodeArray8(r,t,e,n){return toToken$1(r,t,2,readUint8(r,t+1,n))}function decodeArray16(r,t,e,n){return toToken$1(r,t,3,readUint16(r,t+1,n))}function decodeArray32(r,t,e,n){return toToken$1(r,t,5,readUint32(r,t+1,n))}function decodeArray64(r,t,e,n){const i=readUint64(r,t+1,n);if(typeof i=="bigint")throw new Error(`${decodeErrPrefix$3} 64-bit integer array lengths not supported`);return toToken$1(r,t,9,i)}function decodeArrayIndefinite(r,t,e,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix$3} indefinite length items not allowed`);return toToken$1(r,t,1,1/0)}function encodeArray$3(r,t){encodeUintValue$3(r,Type$3.array.majorEncoded,t.value)}encodeArray$3.compareTokens=encodeUint$3.compareTokens;encodeArray$3.encodedSize=function(t){return encodeUintValue$3.encodedSize(t.value)};function toToken(r,t,e,n){return new Token$3(Type$3.map,n,e)}function decodeMapCompact(r,t,e,n){return toToken(r,t,1,e)}function decodeMap8(r,t,e,n){return toToken(r,t,2,readUint8(r,t+1,n))}function decodeMap16(r,t,e,n){return toToken(r,t,3,readUint16(r,t+1,n))}function decodeMap32(r,t,e,n){return toToken(r,t,5,readUint32(r,t+1,n))}function decodeMap64(r,t,e,n){const i=readUint64(r,t+1,n);if(typeof i=="bigint")throw new Error(`${decodeErrPrefix$3} 64-bit integer map lengths not supported`);return toToken(r,t,9,i)}function decodeMapIndefinite(r,t,e,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix$3} indefinite length items not allowed`);return toToken(r,t,1,1/0)}function encodeMap$3(r,t){encodeUintValue$3(r,Type$3.map.majorEncoded,t.value)}encodeMap$3.compareTokens=encodeUint$3.compareTokens;encodeMap$3.encodedSize=function(t){return encodeUintValue$3.encodedSize(t.value)};function decodeTagCompact(r,t,e,n){return new Token$3(Type$3.tag,e,1)}function decodeTag8(r,t,e,n){return new Token$3(Type$3.tag,readUint8(r,t+1,n),2)}function decodeTag16(r,t,e,n){return new Token$3(Type$3.tag,readUint16(r,t+1,n),3)}function decodeTag32(r,t,e,n){return new Token$3(Type$3.tag,readUint32(r,t+1,n),5)}function decodeTag64(r,t,e,n){return new Token$3(Type$3.tag,readUint64(r,t+1,n),9)}function encodeTag$3(r,t){encodeUintValue$3(r,Type$3.tag.majorEncoded,t.value)}encodeTag$3.compareTokens=encodeUint$3.compareTokens;encodeTag$3.encodedSize=function(t){return encodeUintValue$3.encodedSize(t.value)};const MINOR_FALSE$3=20,MINOR_TRUE$3=21,MINOR_NULL$3=22,MINOR_UNDEFINED$3=23;function decodeUndefined(r,t,e,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix$3} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token$3(Type$3.null,null,1):new Token$3(Type$3.undefined,void 0,1)}function decodeBreak(r,t,e,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix$3} indefinite length items not allowed`);return new Token$3(Type$3.break,void 0,1)}function createToken(r,t,e){if(e){if(e.allowNaN===!1&&Number.isNaN(r))throw new Error(`${decodeErrPrefix$3} NaN values are not supported`);if(e.allowInfinity===!1&&(r===1/0||r===-1/0))throw new Error(`${decodeErrPrefix$3} Infinity values are not supported`)}return new Token$3(Type$3.float,r,t)}function decodeFloat16(r,t,e,n){return createToken(readFloat16$3(r,t+1),3,n)}function decodeFloat32(r,t,e,n){return createToken(readFloat32$3(r,t+1),5,n)}function decodeFloat64(r,t,e,n){return createToken(readFloat64$3(r,t+1),9,n)}function encodeFloat$3(r,t,e){const n=t.value;if(n===!1)r.push([Type$3.float.majorEncoded|MINOR_FALSE$3]);else if(n===!0)r.push([Type$3.float.majorEncoded|MINOR_TRUE$3]);else if(n===null)r.push([Type$3.float.majorEncoded|MINOR_NULL$3]);else if(n===void 0)r.push([Type$3.float.majorEncoded|MINOR_UNDEFINED$3]);else{let i,o=!1;(!e||e.float64!==!0)&&(encodeFloat16$3(n),i=readFloat16$3(ui8a$3,1),n===i||Number.isNaN(n)?(ui8a$3[0]=249,r.push(ui8a$3.slice(0,3)),o=!0):(encodeFloat32$3(n),i=readFloat32$3(ui8a$3,1),n===i&&(ui8a$3[0]=250,r.push(ui8a$3.slice(0,5)),o=!0))),o||(encodeFloat64$3(n),i=readFloat64$3(ui8a$3,1),ui8a$3[0]=251,r.push(ui8a$3.slice(0,9)))}}encodeFloat$3.encodedSize=function(t,e){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!e||e.float64!==!0){encodeFloat16$3(n);let i=readFloat16$3(ui8a$3,1);if(n===i||Number.isNaN(n))return 3;if(encodeFloat32$3(n),i=readFloat32$3(ui8a$3,1),n===i)return 5}return 9};const buffer$4=new ArrayBuffer(9),dataView$3=new DataView(buffer$4,1),ui8a$3=new Uint8Array(buffer$4,0);function encodeFloat16$3(r){if(r===1/0)dataView$3.setUint16(0,31744,!1);else if(r===-1/0)dataView$3.setUint16(0,64512,!1);else if(Number.isNaN(r))dataView$3.setUint16(0,32256,!1);else{dataView$3.setFloat32(0,r);const t=dataView$3.getUint32(0),e=(t&2139095040)>>23,n=t&8388607;if(e===255)dataView$3.setUint16(0,31744,!1);else if(e===0)dataView$3.setUint16(0,(r&2147483648)>>16|n>>13,!1);else{const i=e-127;i<-24?dataView$3.setUint16(0,0):i<-14?dataView$3.setUint16(0,(t&2147483648)>>16|1<<24+i,!1):dataView$3.setUint16(0,(t&2147483648)>>16|i+15<<10|n>>13,!1)}}}function readFloat16$3(r,t){if(r.length-t<2)throw new Error(`${decodeErrPrefix$3} not enough data for float16`);const e=(r[t]<<8)+r[t+1];if(e===31744)return 1/0;if(e===64512)return-1/0;if(e===32256)return NaN;const n=e>>10&31,i=e&1023;let o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,e&32768?-o:o}function encodeFloat32$3(r){dataView$3.setFloat32(0,r,!1)}function readFloat32$3(r,t){if(r.length-t<4)throw new Error(`${decodeErrPrefix$3} not enough data for float32`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,4).getFloat32(0,!1)}function encodeFloat64$3(r){dataView$3.setFloat64(0,r,!1)}function readFloat64$3(r,t){if(r.length-t<8)throw new Error(`${decodeErrPrefix$3} not enough data for float64`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,8).getFloat64(0,!1)}encodeFloat$3.compareTokens=encodeUint$3.compareTokens;function invalidMinor(r,t,e){throw new Error(`${decodeErrPrefix$3} encountered invalid minor (${e}) for major ${r[t]>>>5}`)}function errorer(r){return()=>{throw new Error(`${decodeErrPrefix$3} ${r}`)}}const jump=[];for(let r=0;r<=23;r++)jump[r]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let r=32;r<=55;r++)jump[r]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let r=64;r<=87;r++)jump[r]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)jump[r]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)jump[r]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let r=160;r<=183;r++)jump[r]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let r=192;r<=215;r++)jump[r]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let r=224;r<=243;r++)jump[r]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let r=0;r<24;r++)quick[r]=new Token$3(Type$3.uint,r,1);for(let r=-1;r>=-24;r--)quick[31-r]=new Token$3(Type$3.negint,r,1);quick[64]=new Token$3(Type$3.bytes,new Uint8Array(0),1);quick[96]=new Token$3(Type$3.string,"",1);quick[128]=new Token$3(Type$3.array,0,1);quick[160]=new Token$3(Type$3.map,0,1);quick[244]=new Token$3(Type$3.false,!1,1);quick[245]=new Token$3(Type$3.true,!0,1);quick[246]=new Token$3(Type$3.null,null,1);function quickEncodeToken(r){switch(r.type){case Type$3.false:return fromArray([244]);case Type$3.true:return fromArray([245]);case Type$3.null:return fromArray([246]);case Type$3.bytes:return r.value.length?void 0:fromArray([64]);case Type$3.string:return r.value===""?fromArray([96]):void 0;case Type$3.array:return r.value===0?fromArray([128]):void 0;case Type$3.map:return r.value===0?fromArray([160]):void 0;case Type$3.uint:return r.value<24?fromArray([Number(r.value)]):void 0;case Type$3.negint:if(r.value>=-24)return fromArray([31-Number(r.value)])}}const defaultEncodeOptions$1={float64:!1,mapSorter:mapSorter$1,quickEncodeToken};function makeCborEncoders$3(){const r=[];return r[Type$3.uint.major]=encodeUint$3,r[Type$3.negint.major]=encodeNegint$3,r[Type$3.bytes.major]=encodeBytes$3,r[Type$3.string.major]=encodeString$3,r[Type$3.array.major]=encodeArray$3,r[Type$3.map.major]=encodeMap$3,r[Type$3.tag.major]=encodeTag$3,r[Type$3.float.major]=encodeFloat$3,r}const cborEncoders=makeCborEncoders$3(),buf=new Bl;let Ref$3=class _e{constructor(t,e){this.obj=t,this.parent=e}includes(t){let e=this;do if(e.obj===t)return!0;while(e=e.parent);return!1}static createCheck(t,e){if(t&&t.includes(e))throw new Error(`${encodeErrPrefix$3} object contains circular references`);return new _e(e,t)}};const simpleTokens$3={null:new Token$3(Type$3.null,null),undefined:new Token$3(Type$3.undefined,void 0),true:new Token$3(Type$3.true,!0),false:new Token$3(Type$3.false,!1),emptyArray:new Token$3(Type$3.array,0),emptyMap:new Token$3(Type$3.map,0)},typeEncoders$3={number(r,t,e,n){return!Number.isInteger(r)||!Number.isSafeInteger(r)?new Token$3(Type$3.float,r):r>=0?new Token$3(Type$3.uint,r):new Token$3(Type$3.negint,r)},bigint(r,t,e,n){return r>=BigInt(0)?new Token$3(Type$3.uint,r):new Token$3(Type$3.negint,r)},Uint8Array(r,t,e,n){return new Token$3(Type$3.bytes,r)},string(r,t,e,n){return new Token$3(Type$3.string,r)},boolean(r,t,e,n){return r?simpleTokens$3.true:simpleTokens$3.false},null(r,t,e,n){return simpleTokens$3.null},undefined(r,t,e,n){return simpleTokens$3.undefined},ArrayBuffer(r,t,e,n){return new Token$3(Type$3.bytes,new Uint8Array(r))},DataView(r,t,e,n){return new Token$3(Type$3.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))},Array(r,t,e,n){if(!r.length)return e.addBreakTokens===!0?[simpleTokens$3.emptyArray,new Token$3(Type$3.break)]:simpleTokens$3.emptyArray;n=Ref$3.createCheck(n,r);const i=[];let o=0;for(const s of r)i[o++]=objectToTokens$3(s,e,n);return e.addBreakTokens?[new Token$3(Type$3.array,r.length),i,new Token$3(Type$3.break)]:[new Token$3(Type$3.array,r.length),i]},Object(r,t,e,n){const i=t!=="Object",o=i?r.keys():Object.keys(r),s=i?r.size:o.length;if(!s)return e.addBreakTokens===!0?[simpleTokens$3.emptyMap,new Token$3(Type$3.break)]:simpleTokens$3.emptyMap;n=Ref$3.createCheck(n,r);const a=[];let c=0;for(const y of o)a[c++]=[objectToTokens$3(y,e,n),objectToTokens$3(i?r.get(y):r[y],e,n)];return sortMapEntries$3(a,e),e.addBreakTokens?[new Token$3(Type$3.map,s),a,new Token$3(Type$3.break)]:[new Token$3(Type$3.map,s),a]}};typeEncoders$3.Map=typeEncoders$3.Object;typeEncoders$3.Buffer=typeEncoders$3.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders$3[`${r}Array`]=typeEncoders$3.DataView;function objectToTokens$3(r,t={},e){const n=is$3(r),i=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders$3[n];if(typeof i=="function"){const s=i(r,n,t,e);if(s!=null)return s}const o=typeEncoders$3[n];if(!o)throw new Error(`${encodeErrPrefix$3} unsupported type: ${n}`);return o(r,n,t,e)}function sortMapEntries$3(r,t){t.mapSorter&&r.sort(t.mapSorter)}function mapSorter$1(r,t){const e=Array.isArray(r[0])?r[0][0]:r[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(e.type!==n.type)return e.type.compare(n.type);const i=e.type.major,o=cborEncoders[i].compareTokens(e,n);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function tokensToEncoded(r,t,e,n){if(Array.isArray(t))for(const i of t)tokensToEncoded(r,i,e,n);else e[t.type.major](r,t,n)}function encodeCustom(r,t,e){const n=objectToTokens$3(r,e);if(!Array.isArray(n)&&e.quickEncodeToken){const i=e.quickEncodeToken(n);if(i)return i;const o=t[n.type.major];if(o.encodedSize){const s=o.encodedSize(n,e),a=new Bl(s);if(o(a,n,e),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A(a.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,t,e),buf.toBytes(!0)}function encode$w(r,t){return t=Object.assign({},defaultEncodeOptions$1,t),encodeCustom(r,cborEncoders,t)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(t,e={}){this._pos=0,this.data=t,this.options=e}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const t=this.data[this._pos];let e=quick[t];if(e===void 0){const n=jump[t];if(!n)throw new Error(`${decodeErrPrefix$3} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const i=t&31;e=n(this.data,this._pos,i,this.options)}return this._pos+=e.encodedLength,e}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(r,t,e){const n=[];for(let i=0;i<r.value;i++){const o=tokensToObject(t,e);if(o===BREAK){if(r.value===1/0)break;throw new Error(`${decodeErrPrefix$3} got unexpected break to lengthed array`)}if(o===DONE)throw new Error(`${decodeErrPrefix$3} found array but not enough entries (got ${i}, expected ${r.value})`);n[i]=o}return n}function tokenToMap(r,t,e){const n=e.useMaps===!0,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<r.value;s++){const a=tokensToObject(t,e);if(a===BREAK){if(r.value===1/0)break;throw new Error(`${decodeErrPrefix$3} got unexpected break to lengthed map`)}if(a===DONE)throw new Error(`${decodeErrPrefix$3} found map but not enough entries (got ${s} [no key], expected ${r.value})`);if(n!==!0&&typeof a!="string")throw new Error(`${decodeErrPrefix$3} non-string keys not supported (got ${typeof a})`);if(e.rejectDuplicateMapKeys===!0&&(n&&o.has(a)||!n&&a in i))throw new Error(`${decodeErrPrefix$3} found repeat map key "${a}"`);const c=tokensToObject(t,e);if(c===DONE)throw new Error(`${decodeErrPrefix$3} found map but not enough entries (got ${s} [no value], expected ${r.value})`);n?o.set(a,c):i[a]=c}return n?o:i}function tokensToObject(r,t){if(r.done())return DONE;const e=r.next();if(e.type===Type$3.break)return BREAK;if(e.type.terminal)return e.value;if(e.type===Type$3.array)return tokenToArray(e,r,t);if(e.type===Type$3.map)return tokenToMap(e,r,t);if(e.type===Type$3.tag){if(t.tags&&typeof t.tags[e.value]=="function"){const n=tokensToObject(r,t);return t.tags[e.value](n)}throw new Error(`${decodeErrPrefix$3} tag not supported (${e.value})`)}throw new Error("unsupported")}function decodeFirst(r,t){if(!(r instanceof Uint8Array))throw new Error(`${decodeErrPrefix$3} data to decode must be a Uint8Array`);t=Object.assign({},defaultDecodeOptions,t);const e=t.tokenizer||new Tokeniser(r,t),n=tokensToObject(e,t);if(n===DONE)throw new Error(`${decodeErrPrefix$3} did not find any content to decode`);if(n===BREAK)throw new Error(`${decodeErrPrefix$3} got unexpected break`);return[n,r.subarray(e.pos())]}function decode$F(r,t){const[e,n]=decodeFirst(r,t);if(n.length>0)throw new Error(`${decodeErrPrefix$3} too many terminals, data makes no sense`);return e}function equals$9(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}function coerce$c(r){if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}function base$c(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$f=base$c,_brrp__multiformats_scope_baseX$c=src$f;let Encoder$c=class{name;prefix;baseEncode;constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$c=class{name;prefix;baseDecode;prefixCodePoint;constructor(t,e,n){this.name=t,this.prefix=e;const i=e.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$c(this,t)}},ComposedDecoder$c=class{decoders;constructor(t){this.decoders=t}or(t){return or$c(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n!=null)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$c(r,t){return new ComposedDecoder$c({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}let Codec$c=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$c(t,e,n),this.decoder=new Decoder$c(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function from$d({name:r,prefix:t,encode:e,decode:n}){return new Codec$c(r,t,e,n)}function baseX$c({name:r,prefix:t,alphabet:e}){const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$c(e,r);return from$d({prefix:t,name:r,encode:n,decode:o=>coerce$c(i(o))})}function decode$E(r,t,e,n){let i=r.length;for(;r[i-1]==="=";)--i;const o=new Uint8Array(i*e/8|0);let s=0,a=0,c=0;for(let y=0;y<i;++y){const g=t[r[y]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<e|g,s+=e,s>=8&&(s-=8,o[c++]=255&a>>s)}if(s>=e||(255&a<<8-s)!==0)throw new SyntaxError("Unexpected end of data");return o}function encode$v(r,t,e){const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s!==0&&(o+=t[i&a<<e-s]),n)for(;(o.length*e&7)!==0;)o+="=";return o}function createAlphabetIdx$2(r){const t={};for(let e=0;e<r.length;++e)t[r[e]]=e;return t}function rfc4648$c({name:r,prefix:t,bitsPerChar:e,alphabet:n}){const i=createAlphabetIdx$2(n);return from$d({prefix:t,name:r,encode(o){return encode$v(o,n,e)},decode(o){return decode$E(o,i,e,r)}})}const base32$9=rfc4648$c({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$c({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$c({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$c({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$c({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$c({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$c({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$c({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$c({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36$9=baseX$c({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$c({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc$5=baseX$c({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$c({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$4=encode$u,MSB$4=128,MSBALL$3=-128,INT$3=Math.pow(2,31);function encode$u(r,t,e){t=t||[],e=e||0;for(var n=e;r>=INT$3;)t[e++]=r&255|MSB$4,r/=128;for(;r&MSBALL$3;)t[e++]=r&255|MSB$4,r>>>=7;return t[e]=r|0,encode$u.bytes=e-n+1,t}var decode$D=read$3,MSB$1$4=128,REST$1$3=127;function read$3(r,n){var e=0,n=n||0,i=0,o=n,s,a=r.length;do{if(o>=a)throw read$3.bytes=0,new RangeError("Could not decode varint");s=r[o++],e+=i<28?(s&REST$1$3)<<i:(s&REST$1$3)*Math.pow(2,i),i+=7}while(s>=MSB$1$4);return read$3.bytes=o-n,e}var N1$4=Math.pow(2,7),N2$4=Math.pow(2,14),N3$4=Math.pow(2,21),N4$4=Math.pow(2,28),N5$4=Math.pow(2,35),N6$4=Math.pow(2,42),N7$4=Math.pow(2,49),N8$3=Math.pow(2,56),N9$3=Math.pow(2,63),length$4=function(r){return r<N1$4?1:r<N2$4?2:r<N3$4?3:r<N4$4?4:r<N5$4?5:r<N6$4?6:r<N7$4?7:r<N8$3?8:r<N9$3?9:10},varint$5={encode:encode_1$4,decode:decode$D,encodingLength:length$4},_brrp_varint$3=varint$5;function decode$C(r,t=0){return[_brrp_varint$3.decode(r,t),_brrp_varint$3.decode.bytes]}function encodeTo$3(r,t,e=0){return _brrp_varint$3.encode(r,t,e),t}function encodingLength$4(r){return _brrp_varint$3.encodingLength(r)}function create$4(r,t){const e=t.byteLength,n=encodingLength$4(r),i=n+encodingLength$4(e),o=new Uint8Array(i+e);return encodeTo$3(r,o,0),encodeTo$3(e,o,n),o.set(t,i),new Digest$3(r,e,t,o)}function decode$B(r){const t=coerce$c(r),[e,n]=decode$C(t),[i,o]=decode$C(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Digest$3(e,i,s,t)}function equals$8(r,t){if(r===t)return!0;{const e=t;return r.code===e.code&&r.size===e.size&&e.bytes instanceof Uint8Array&&equals$9(r.bytes,e.bytes)}}let Digest$3=class{code;size;digest;bytes;constructor(t,e,n,i){this.code=t,this.size=e,this.digest=n,this.bytes=i}};function format$4(r,t){const{bytes:e,version:n}=r;switch(n){case 0:return toStringV0$3(e,baseCache$3(r),t??base58btc$5.encoder);default:return toStringV1$3(e,baseCache$3(r),t??base32$9.encoder)}}const cache$3=new WeakMap;function baseCache$3(r){const t=cache$3.get(r);if(t==null){const e=new Map;return cache$3.set(r,e),e}return t}let CID$3=class oe{code;version;multihash;bytes;"/";constructor(t,e,n,i){this.code=e,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:e}=this;if(t!==DAG_PB_CODE$3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==SHA_256_CODE$3)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return oe.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:e}=this.multihash,n=create$4(t,e);return oe.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return oe.equals(this,t)}static equals(t,e){const n=e;return n!=null&&t.code===n.code&&t.version===n.version&&equals$8(t.multihash,n.multihash)}toString(t){return format$4(this,t)}toJSON(){return{"/":format$4(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const e=t;if(e instanceof oe)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){const{version:n,code:i,multihash:o,bytes:s}=e;return new oe(n,i,o,s??encodeCID$4(n,i,o.bytes))}else if(e[cidSymbol$3]===!0){const{version:n,multihash:i,code:o}=e,s=decode$B(i);return oe.create(n,o,s)}else return null}static create(t,e,n){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(e!==DAG_PB_CODE$3)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$3}) block encoding`);return new oe(t,e,n,n.bytes)}case 1:{const i=encodeCID$4(t,e,n.bytes);return new oe(t,e,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return oe.create(0,DAG_PB_CODE$3,t)}static createV1(t,e){return oe.create(1,t,e)}static decode(t){const[e,n]=oe.decodeFirst(t);if(n.length!==0)throw new Error("Incorrect length");return e}static decodeFirst(t){const e=oe.inspectBytes(t),n=e.size-e.multihashSize,i=coerce$c(t.subarray(n,n+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");const o=i.subarray(e.multihashSize-e.digestSize),s=new Digest$3(e.multihashCode,e.digestSize,o,i);return[e.version===0?oe.createV0(s):oe.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0;const n=()=>{const[h,l]=decode$C(t.subarray(e));return e+=l,h};let i=n(),o=DAG_PB_CODE$3;if(i===18?(i=0,e=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const s=e,a=n(),c=n(),y=e+c,g=y-s;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:g,size:y}}static parse(t,e){const[n,i]=parseCIDtoBytes$3(t,e),o=oe.decode(i);if(o.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$3(o).set(n,t),o}};function parseCIDtoBytes$3(r,t){switch(r[0]){case"Q":{const e=t??base58btc$5;return[base58btc$5.prefix,e.decode(`${base58btc$5.prefix}${r}`)]}case base58btc$5.prefix:{const e=t??base58btc$5;return[base58btc$5.prefix,e.decode(r)]}case base32$9.prefix:{const e=t??base32$9;return[base32$9.prefix,e.decode(r)]}case base36$9.prefix:{const e=t??base36$9;return[base36$9.prefix,e.decode(r)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}}function toStringV0$3(r,t,e){const{prefix:n}=e;if(n!==base58btc$5.prefix)throw Error(`Cannot string encode V0 in ${e.name} encoding`);const i=t.get(n);if(i==null){const o=e.encode(r).slice(1);return t.set(n,o),o}else return i}function toStringV1$3(r,t,e){const{prefix:n}=e,i=t.get(n);if(i==null){const o=e.encode(r);return t.set(n,o),o}else return i}const DAG_PB_CODE$3=112,SHA_256_CODE$3=18;function encodeCID$4(r,t,e){const n=encodingLength$4(r),i=n+encodingLength$4(t),o=new Uint8Array(i+e.byteLength);return encodeTo$3(r,o,0),encodeTo$3(t,o,n),o.set(e,i),o}const cidSymbol$3=Symbol.for("@ipld/js-cid/CID"),CID_CBOR_TAG=42;function toByteView$1(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}function cidEncoder$1(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=CID$3.asCID(r);if(!t)return null;const e=new Uint8Array(t.bytes.byteLength+1);return e.set(t.bytes,1),[new Token$3(Type$3.tag,CID_CBOR_TAG),new Token$3(Type$3.bytes,e)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}function mapEncoder(r){for(const t of r.keys())if(typeof t!="string"||t.length===0)throw new Error("Non-string Map keys are not supported by the IPLD Data Model and cannot be encoded");return null}const _encodeOptions={float64:!0,typeEncoders:{Map:mapEncoder,Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}},encodeOptions$1={..._encodeOptions,typeEncoders:{..._encodeOptions.typeEncoders}};function cidDecoder(r){if(r[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$3.decode(r.subarray(1))}const _decodeOptions={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};_decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const decodeOptions$1={..._decodeOptions,tags:_decodeOptions.tags.slice()},name$5="dag-cbor",code$5=113,encode$t=r=>encode$w(r,_encodeOptions),decode$A=r=>decode$F(toByteView$1(r),_decodeOptions),dagCBOR=Object.freeze(Object.defineProperty({__proto__:null,code:code$5,decode:decode$A,decodeOptions:decodeOptions$1,encode:encode$t,encodeOptions:encodeOptions$1,name:name$5,toByteView:toByteView$1},Symbol.toStringTag,{value:"Module"}));class JSONEncoder extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){const e=this.inRecursive[this.inRecursive.length-1];e&&(e.type===Type$3.array&&(e.elements++,e.elements!==1&&t.push([44])),e.type===Type$3.map&&(e.elements++,e.elements!==1&&(e.elements%2===1?t.push([44]):t.push([58]))))}[Type$3.uint.major](t,e){this.prefix(t);const n=String(e.value),i=[];for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);t.push(i)}[Type$3.negint.major](t,e){this[Type$3.uint.major](t,e)}[Type$3.bytes.major](t,e){throw new Error(`${encodeErrPrefix$3} unsupported type: Uint8Array`)}[Type$3.string.major](t,e){this.prefix(t);const n=fromString$e(JSON.stringify(e.value));t.push(n.length>32?asU8A(n):n)}[Type$3.array.major](t,e){this.prefix(t),this.inRecursive.push({type:Type$3.array,elements:0}),t.push([91])}[Type$3.map.major](t,e){this.prefix(t),this.inRecursive.push({type:Type$3.map,elements:0}),t.push([123])}[Type$3.tag.major](t,e){}[Type$3.float.major](t,e){if(e.type.name==="break"){const s=this.inRecursive.pop();if(s){if(s.type===Type$3.array)t.push([93]);else if(s.type===Type$3.map)t.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(e.value===void 0)throw new Error(`${encodeErrPrefix$3} unsupported type: undefined`);if(this.prefix(t),e.type.name==="true"){t.push([116,114,117,101]);return}else if(e.type.name==="false"){t.push([102,97,108,115,101]);return}else if(e.type.name==="null"){t.push([110,117,108,108]);return}const n=String(e.value),i=[];let o=!1;for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s),!o&&(i[s]===46||i[s]===101||i[s]===69)&&(o=!0);o||(i.push(46),i.push(48)),t.push(i)}}function mapSorter(r,t){if(Array.isArray(r[0])||Array.isArray(t[0]))throw new Error(`${encodeErrPrefix$3} complex map keys are not supported`);const e=r[0],n=t[0];if(e.type!==Type$3.string||n.type!==Type$3.string)throw new Error(`${encodeErrPrefix$3} non-string map keys are not supported`);if(e<n)return-1;if(e>n)return 1;throw new Error(`${encodeErrPrefix$3} unexpected duplicate map keys, this is not supported`)}const defaultEncodeOptions={addBreakTokens:!0,mapSorter};function encode$s(r,t){return t=Object.assign({},defaultEncodeOptions,t),encodeCustom(r,new JSONEncoder,t)}class Tokenizer{constructor(t,e={}){this._pos=0,this.data=t,this.options=e,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let t=this.ch();for(;t===32||t===9||t===13||t===10;)t=this.data[++this._pos]}expect(t){if(this.data.length-this._pos<t.length)throw new Error(`${decodeErrPrefix$3} unexpected end of input at position ${this._pos}`);for(let e=0;e<t.length;e++)if(this.data[this._pos++]!==t[e])throw new Error(`${decodeErrPrefix$3} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...t)}'`)}parseNumber(){const t=this._pos;let e=!1,n=!1;const i=a=>{for(;!this.done();){const c=this.ch();if(a.includes(c))this._pos++;else break}};if(this.ch()===45&&(e=!0,this._pos++),this.ch()===48)if(this._pos++,this.ch()===46)this._pos++,n=!0;else return new Token$3(Type$3.uint,0,this._pos-t);if(i([48,49,50,51,52,53,54,55,56,57]),e&&this._pos===t+1)throw new Error(`${decodeErrPrefix$3} unexpected token at position ${this._pos}`);if(!this.done()&&this.ch()===46){if(n)throw new Error(`${decodeErrPrefix$3} unexpected token at position ${this._pos}`);n=!0,this._pos++,i([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(n=!0,this._pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this._pos++,i([48,49,50,51,52,53,54,55,56,57]));const o=String.fromCharCode.apply(null,this.data.subarray(t,this._pos)),s=parseFloat(o);return n?new Token$3(Type$3.float,s,this._pos-t):this.options.allowBigInt!==!0||Number.isSafeInteger(s)?new Token$3(s>=0?Type$3.uint:Type$3.negint,s,this._pos-t):new Token$3(s>=0?Type$3.uint:Type$3.negint,BigInt(o),this._pos-t)}parseString(){if(this.ch()!==34)throw new Error(`${decodeErrPrefix$3} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let o=this._pos,s=0;o<this.data.length&&s<65536;o++,s++){const a=this.data[o];if(a===92||a<32||a>=128)break;if(a===34){const c=String.fromCharCode.apply(null,this.data.subarray(this._pos,o));return this._pos=o+1,new Token$3(Type$3.string,c,s)}}const t=this._pos,e=[],n=()=>{if(this._pos+4>=this.data.length)throw new Error(`${decodeErrPrefix$3} unexpected end of unicode escape sequence at position ${this._pos}`);let o=0;for(let s=0;s<4;s++){let a=this.ch();if(a>=48&&a<=57)a-=48;else if(a>=97&&a<=102)a=a-97+10;else if(a>=65&&a<=70)a=a-65+10;else throw new Error(`${decodeErrPrefix$3} unexpected unicode escape character at position ${this._pos}`);o=o*16+a,this._pos++}return o},i=()=>{const o=this.ch();let s=null,a=o>239?4:o>223?3:o>191?2:1;if(this._pos+a>this.data.length)throw new Error(`${decodeErrPrefix$3} unexpected unicode sequence at position ${this._pos}`);let c,y,g,h;switch(a){case 1:o<128&&(s=o);break;case 2:c=this.data[this._pos+1],(c&192)===128&&(h=(o&31)<<6|c&63,h>127&&(s=h));break;case 3:c=this.data[this._pos+1],y=this.data[this._pos+2],(c&192)===128&&(y&192)===128&&(h=(o&15)<<12|(c&63)<<6|y&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:c=this.data[this._pos+1],y=this.data[this._pos+2],g=this.data[this._pos+3],(c&192)===128&&(y&192)===128&&(g&192)===128&&(h=(o&15)<<18|(c&63)<<12|(y&63)<<6|g&63,h>65535&&h<1114112&&(s=h))}s===null?(s=65533,a=1):s>65535&&(s-=65536,e.push(s>>>10&1023|55296),s=56320|s&1023),e.push(s),this._pos+=a};for(;!this.done();){const o=this.ch();let s;switch(o){case 92:if(this._pos++,this.done())throw new Error(`${decodeErrPrefix$3} unexpected string termination at position ${this._pos}`);switch(s=this.ch(),this._pos++,s){case 34:case 39:case 92:case 47:e.push(s);break;case 98:e.push(8);break;case 116:e.push(9);break;case 110:e.push(10);break;case 102:e.push(12);break;case 114:e.push(13);break;case 117:e.push(n());break;default:throw new Error(`${decodeErrPrefix$3} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new Token$3(Type$3.string,decodeCodePointsArray(e),this._pos-t);default:if(o<32)throw new Error(`${decodeErrPrefix$3} invalid control character at position ${this._pos}`);o<128?(e.push(o),this._pos++):i()}}throw new Error(`${decodeErrPrefix$3} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new Token$3(Type$3.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new Token$3(Type$3.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Token$3(Type$3.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Token$3(Type$3.false,!1,5);case 116:return this.expect([116,114,117,101]),new Token$3(Type$3.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${decodeErrPrefix$3} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this._pos++,this.skipWhitespace(),new Token$3(Type$3.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix$3} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this._pos++,this.skipWhitespace(),new Token$3(Type$3.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new Token$3(Type$3.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix$3} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this._pos++,this.skipWhitespace(),new Token$3(Type$3.break,void 0,1);const t=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${decodeErrPrefix$3} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),t}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${decodeErrPrefix$3} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}function decode$z(r,t){return t=Object.assign({tokenizer:new Tokenizer(r,t)},t),decode$F(r,t)}function equals$7(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}function coerce$b(r){if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}function base$b(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$e=base$b,_brrp__multiformats_scope_baseX$b=src$e;let Encoder$b=class{name;prefix;baseEncode;constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$b=class{name;prefix;baseDecode;prefixCodePoint;constructor(t,e,n){this.name=t,this.prefix=e;const i=e.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$b(this,t)}},ComposedDecoder$b=class{decoders;constructor(t){this.decoders=t}or(t){return or$b(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n!=null)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$b(r,t){return new ComposedDecoder$b({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}let Codec$b=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$b(t,e,n),this.decoder=new Decoder$b(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function from$c({name:r,prefix:t,encode:e,decode:n}){return new Codec$b(r,t,e,n)}function baseX$b({name:r,prefix:t,alphabet:e}){const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$b(e,r);return from$c({prefix:t,name:r,encode:n,decode:o=>coerce$b(i(o))})}function decode$y(r,t,e,n){let i=r.length;for(;r[i-1]==="=";)--i;const o=new Uint8Array(i*e/8|0);let s=0,a=0,c=0;for(let y=0;y<i;++y){const g=t[r[y]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<e|g,s+=e,s>=8&&(s-=8,o[c++]=255&a>>s)}if(s>=e||(255&a<<8-s)!==0)throw new SyntaxError("Unexpected end of data");return o}function encode$r(r,t,e){const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s!==0&&(o+=t[i&a<<e-s]),n)for(;(o.length*e&7)!==0;)o+="=";return o}function createAlphabetIdx$1(r){const t={};for(let e=0;e<r.length;++e)t[r[e]]=e;return t}function rfc4648$b({name:r,prefix:t,bitsPerChar:e,alphabet:n}){const i=createAlphabetIdx$1(n);return from$c({prefix:t,name:r,encode(o){return encode$r(o,n,e)},decode(o){return decode$y(o,i,e,r)}})}const base32$8=rfc4648$b({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$b({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$b({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$b({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$b({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$b({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$b({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$b({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$b({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36$8=baseX$b({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$b({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc$4=baseX$b({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$b({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$3=encode$q,MSB$3=128,MSBALL$2=-128,INT$2=Math.pow(2,31);function encode$q(r,t,e){t=t||[],e=e||0;for(var n=e;r>=INT$2;)t[e++]=r&255|MSB$3,r/=128;for(;r&MSBALL$2;)t[e++]=r&255|MSB$3,r>>>=7;return t[e]=r|0,encode$q.bytes=e-n+1,t}var decode$x=read$2,MSB$1$3=128,REST$1$2=127;function read$2(r,n){var e=0,n=n||0,i=0,o=n,s,a=r.length;do{if(o>=a)throw read$2.bytes=0,new RangeError("Could not decode varint");s=r[o++],e+=i<28?(s&REST$1$2)<<i:(s&REST$1$2)*Math.pow(2,i),i+=7}while(s>=MSB$1$3);return read$2.bytes=o-n,e}var N1$3=Math.pow(2,7),N2$3=Math.pow(2,14),N3$3=Math.pow(2,21),N4$3=Math.pow(2,28),N5$3=Math.pow(2,35),N6$3=Math.pow(2,42),N7$3=Math.pow(2,49),N8$2=Math.pow(2,56),N9$2=Math.pow(2,63),length$3=function(r){return r<N1$3?1:r<N2$3?2:r<N3$3?3:r<N4$3?4:r<N5$3?5:r<N6$3?6:r<N7$3?7:r<N8$2?8:r<N9$2?9:10},varint$4={encode:encode_1$3,decode:decode$x,encodingLength:length$3},_brrp_varint$2=varint$4;function decode$w(r,t=0){return[_brrp_varint$2.decode(r,t),_brrp_varint$2.decode.bytes]}function encodeTo$2(r,t,e=0){return _brrp_varint$2.encode(r,t,e),t}function encodingLength$3(r){return _brrp_varint$2.encodingLength(r)}function create$3(r,t){const e=t.byteLength,n=encodingLength$3(r),i=n+encodingLength$3(e),o=new Uint8Array(i+e);return encodeTo$2(r,o,0),encodeTo$2(e,o,n),o.set(t,i),new Digest$2(r,e,t,o)}function decode$v(r){const t=coerce$b(r),[e,n]=decode$w(t),[i,o]=decode$w(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Digest$2(e,i,s,t)}function equals$6(r,t){if(r===t)return!0;{const e=t;return r.code===e.code&&r.size===e.size&&e.bytes instanceof Uint8Array&&equals$7(r.bytes,e.bytes)}}let Digest$2=class{code;size;digest;bytes;constructor(t,e,n,i){this.code=t,this.size=e,this.digest=n,this.bytes=i}};function format$3(r,t){const{bytes:e,version:n}=r;switch(n){case 0:return toStringV0$2(e,baseCache$2(r),t??base58btc$4.encoder);default:return toStringV1$2(e,baseCache$2(r),t??base32$8.encoder)}}const cache$2=new WeakMap;function baseCache$2(r){const t=cache$2.get(r);if(t==null){const e=new Map;return cache$2.set(r,e),e}return t}let CID$2=class se{code;version;multihash;bytes;"/";constructor(t,e,n,i){this.code=e,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:e}=this;if(t!==DAG_PB_CODE$2)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==SHA_256_CODE$2)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return se.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:e}=this.multihash,n=create$3(t,e);return se.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return se.equals(this,t)}static equals(t,e){const n=e;return n!=null&&t.code===n.code&&t.version===n.version&&equals$6(t.multihash,n.multihash)}toString(t){return format$3(this,t)}toJSON(){return{"/":format$3(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const e=t;if(e instanceof se)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){const{version:n,code:i,multihash:o,bytes:s}=e;return new se(n,i,o,s??encodeCID$3(n,i,o.bytes))}else if(e[cidSymbol$2]===!0){const{version:n,multihash:i,code:o}=e,s=decode$v(i);return se.create(n,o,s)}else return null}static create(t,e,n){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(e!==DAG_PB_CODE$2)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$2}) block encoding`);return new se(t,e,n,n.bytes)}case 1:{const i=encodeCID$3(t,e,n.bytes);return new se(t,e,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return se.create(0,DAG_PB_CODE$2,t)}static createV1(t,e){return se.create(1,t,e)}static decode(t){const[e,n]=se.decodeFirst(t);if(n.length!==0)throw new Error("Incorrect length");return e}static decodeFirst(t){const e=se.inspectBytes(t),n=e.size-e.multihashSize,i=coerce$b(t.subarray(n,n+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");const o=i.subarray(e.multihashSize-e.digestSize),s=new Digest$2(e.multihashCode,e.digestSize,o,i);return[e.version===0?se.createV0(s):se.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0;const n=()=>{const[h,l]=decode$w(t.subarray(e));return e+=l,h};let i=n(),o=DAG_PB_CODE$2;if(i===18?(i=0,e=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const s=e,a=n(),c=n(),y=e+c,g=y-s;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:g,size:y}}static parse(t,e){const[n,i]=parseCIDtoBytes$2(t,e),o=se.decode(i);if(o.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$2(o).set(n,t),o}};function parseCIDtoBytes$2(r,t){switch(r[0]){case"Q":{const e=t??base58btc$4;return[base58btc$4.prefix,e.decode(`${base58btc$4.prefix}${r}`)]}case base58btc$4.prefix:{const e=t??base58btc$4;return[base58btc$4.prefix,e.decode(r)]}case base32$8.prefix:{const e=t??base32$8;return[base32$8.prefix,e.decode(r)]}case base36$8.prefix:{const e=t??base36$8;return[base36$8.prefix,e.decode(r)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}}function toStringV0$2(r,t,e){const{prefix:n}=e;if(n!==base58btc$4.prefix)throw Error(`Cannot string encode V0 in ${e.name} encoding`);const i=t.get(n);if(i==null){const o=e.encode(r).slice(1);return t.set(n,o),o}else return i}function toStringV1$2(r,t,e){const{prefix:n}=e,i=t.get(n);if(i==null){const o=e.encode(r);return t.set(n,o),o}else return i}const DAG_PB_CODE$2=112,SHA_256_CODE$2=18;function encodeCID$3(r,t,e){const n=encodingLength$3(r),i=n+encodingLength$3(t),o=new Uint8Array(i+e.byteLength);return encodeTo$2(r,o,0),encodeTo$2(t,o,n),o.set(e,i),o}const cidSymbol$2=Symbol.for("@ipld/js-cid/CID"),base64$9=rfc4648$b({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$b({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$b({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$b({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function toByteView(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}function cidEncoder(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=CID$2.asCID(r);if(!t)return null;const e=t.toString();return[new Token$3(Type$3.map,1/0,1),new Token$3(Type$3.string,"/",1),new Token$3(Type$3.string,e,e.length),new Token$3(Type$3.break,void 0,1)]}function bytesEncoder(r){const t=base64$9.encode(r).slice(1);return[new Token$3(Type$3.map,1/0,1),new Token$3(Type$3.string,"/",1),new Token$3(Type$3.map,1/0,1),new Token$3(Type$3.string,"bytes",5),new Token$3(Type$3.string,t,t.length),new Token$3(Type$3.break,void 0,1),new Token$3(Type$3.break,void 0,1)]}function taBytesEncoder(r){return bytesEncoder(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}function abBytesEncoder(r){return bytesEncoder(new Uint8Array(r))}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={typeEncoders:{Object:cidEncoder,Buffer:bytesEncoder,Uint8Array:bytesEncoder,Int8Array:taBytesEncoder,Uint16Array:taBytesEncoder,Int16Array:taBytesEncoder,Uint32Array:taBytesEncoder,Int32Array:taBytesEncoder,Float32Array:taBytesEncoder,Float64Array:taBytesEncoder,Uint8ClampedArray:taBytesEncoder,BigInt64Array:taBytesEncoder,BigUint64Array:taBytesEncoder,DataView:taBytesEncoder,ArrayBuffer:abBytesEncoder,undefined:undefinedEncoder,number:numberEncoder}};class DagJsonTokenizer extends Tokenizer{constructor(t,e){super(t,e),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const t=this._next();if(t.type===Type$3.map){const e=this._next();if(e.type===Type$3.string&&e.value==="/"){const n=this._next();if(n.type===Type$3.string){if(this._next().type!==Type$3.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(n),new Token$3(Type$3.tag,42,0)}if(n.type===Type$3.map){const i=this._next();if(i.type===Type$3.string&&i.value==="bytes"){const o=this._next();if(o.type===Type$3.string){for(let a=0;a<2;a++)if(this._next().type!==Type$3.break)throw new Error("Invalid encoded Bytes form");const s=base64$9.decode(`m${o.value}`);return new Token$3(Type$3.bytes,s,o.value.length)}this.tokenBuffer.push(o)}this.tokenBuffer.push(i)}this.tokenBuffer.push(n)}this.tokenBuffer.push(e)}return t}}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};decodeOptions.tags[42]=CID$2.parse;const name$4="dag-json",code$4=297,encode$p=r=>encode$s(r,encodeOptions),decode$u=r=>{const t=toByteView(r),e=Object.assign(decodeOptions,{tokenizer:new DagJsonTokenizer(t,decodeOptions)});return decode$z(t,e)},format$2=r=>utf8Decoder.decode(encode$p(r)),utf8Decoder=new TextDecoder,parse$1=r=>decode$u(utf8Encoder.encode(r)),utf8Encoder=new TextEncoder,dagJSON=Object.freeze(Object.defineProperty({__proto__:null,code:code$4,decode:decode$u,encode:encode$p,format:format$2,name:name$4,parse:parse$1,stringify:format$2},Symbol.toStringTag,{value:"Module"}));function base$a(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$d=base$a,_brrp__multiformats_scope_baseX$a=src$d;const equals$5=(r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0},coerce$a=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},fromString$d=r=>new TextEncoder().encode(r),toString$8=r=>new TextDecoder().decode(r);let Encoder$a=class{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$a=class{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$a(this,t)}},ComposedDecoder$a=class{constructor(t){this.decoders=t}or(t){return or$a(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$a=(r,t)=>new ComposedDecoder$a({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});let Codec$a=class{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$a(t,e,n),this.decoder=new Decoder$a(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const from$b=({name:r,prefix:t,encode:e,decode:n})=>new Codec$a(r,t,e,n),baseX$a=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$a(e,t);return from$b({prefix:r,name:t,encode:n,decode:o=>coerce$a(i(o))})},decode$t=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode$o=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648$a=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from$b({prefix:t,name:r,encode(i){return encode$o(i,n,e)},decode(i){return decode$t(i,n,e,r)}}),base64$7=rfc4648$a({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$3=rfc4648$a({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$3=rfc4648$a({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$3=rfc4648$a({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$8=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$7,base64pad:base64pad$3,base64url:base64url$3,base64urlpad:base64urlpad$3},Symbol.toStringTag,{value:"Module"}));function toBase64url(r){return base64url$3.encode(r).slice(1)}function fromBase64url(r){return base64url$3.decode(`u${r}`)}var encode_1$2=encode$n,MSB$2=128,MSBALL$1=-128,INT$1=Math.pow(2,31);function encode$n(r,t,e){t=t||[],e=e||0;for(var n=e;r>=INT$1;)t[e++]=r&255|MSB$2,r/=128;for(;r&MSBALL$1;)t[e++]=r&255|MSB$2,r>>>=7;return t[e]=r|0,encode$n.bytes=e-n+1,t}var decode$s=read$1,MSB$1$2=128,REST$1$1=127;function read$1(r,n){var e=0,n=n||0,i=0,o=n,s,a=r.length;do{if(o>=a)throw read$1.bytes=0,new RangeError("Could not decode varint");s=r[o++],e+=i<28?(s&REST$1$1)<<i:(s&REST$1$1)*Math.pow(2,i),i+=7}while(s>=MSB$1$2);return read$1.bytes=o-n,e}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$2=Math.pow(2,21),N4$2=Math.pow(2,28),N5$2=Math.pow(2,35),N6$2=Math.pow(2,42),N7$2=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$2=function(r){return r<N1$2?1:r<N2$2?2:r<N3$2?3:r<N4$2?4:r<N5$2?5:r<N6$2?6:r<N7$2?7:r<N8$1?8:r<N9$1?9:10},varint$3={encode:encode_1$2,decode:decode$s,encodingLength:length$2},_brrp_varint$1=varint$3;const decode$r=(r,t=0)=>[_brrp_varint$1.decode(r,t),_brrp_varint$1.decode.bytes],encodeTo$1=(r,t,e=0)=>(_brrp_varint$1.encode(r,t,e),t),encodingLength$2=r=>_brrp_varint$1.encodingLength(r),create$2=(r,t)=>{const e=t.byteLength,n=encodingLength$2(r),i=n+encodingLength$2(e),o=new Uint8Array(i+e);return encodeTo$1(r,o,0),encodeTo$1(e,o,n),o.set(t,i),new Digest$1(r,e,t,o)},decode$q=r=>{const t=coerce$a(r),[e,n]=decode$r(t),[i,o]=decode$r(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Digest$1(e,i,s,t)},equals$4=(r,t)=>{if(r===t)return!0;{const e=t;return r.code===e.code&&r.size===e.size&&e.bytes instanceof Uint8Array&&equals$5(r.bytes,e.bytes)}};let Digest$1=class{constructor(t,e,n,i){this.code=t,this.size=e,this.digest=n,this.bytes=i}};const base58btc$3=baseX$a({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$3=baseX$a({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$3=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$3,base58flickr:base58flickr$3},Symbol.toStringTag,{value:"Module"})),base32$6=rfc4648$a({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$3=rfc4648$a({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$3=rfc4648$a({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$3=rfc4648$a({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$3=rfc4648$a({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$3=rfc4648$a({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$3=rfc4648$a({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$3=rfc4648$a({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$3=rfc4648$a({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$7=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$6,base32hex:base32hex$3,base32hexpad:base32hexpad$3,base32hexpadupper:base32hexpadupper$3,base32hexupper:base32hexupper$3,base32pad:base32pad$3,base32padupper:base32padupper$3,base32upper:base32upper$3,base32z:base32z$3},Symbol.toStringTag,{value:"Module"})),format$1=(r,t)=>{const{bytes:e,version:n}=r;switch(n){case 0:return toStringV0$1(e,baseCache$1(r),t||base58btc$3.encoder);default:return toStringV1$1(e,baseCache$1(r),t||base32$6.encoder)}},cache$1=new WeakMap,baseCache$1=r=>{const t=cache$1.get(r);if(t==null){const e=new Map;return cache$1.set(r,e),e}return t};let CID$1=class ae{constructor(t,e,n,i){this.code=e,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:e}=this;if(t!==DAG_PB_CODE$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==SHA_256_CODE$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ae.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:e}=this.multihash,n=create$2(t,e);return ae.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return ae.equals(this,t)}static equals(t,e){const n=e;return n&&t.code===n.code&&t.version===n.version&&equals$4(t.multihash,n.multihash)}toString(t){return format$1(this,t)}toJSON(){return{"/":format$1(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const e=t;if(e instanceof ae)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){const{version:n,code:i,multihash:o,bytes:s}=e;return new ae(n,i,o,s||encodeCID$2(n,i,o.bytes))}else if(e[cidSymbol$1]===!0){const{version:n,multihash:i,code:o}=e,s=decode$q(i);return ae.create(n,o,s)}else return null}static create(t,e,n){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(e!==DAG_PB_CODE$1)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$1}) block encoding`);return new ae(t,e,n,n.bytes)}case 1:{const i=encodeCID$2(t,e,n.bytes);return new ae(t,e,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return ae.create(0,DAG_PB_CODE$1,t)}static createV1(t,e){return ae.create(1,t,e)}static decode(t){const[e,n]=ae.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return e}static decodeFirst(t){const e=ae.inspectBytes(t),n=e.size-e.multihashSize,i=coerce$a(t.subarray(n,n+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");const o=i.subarray(e.multihashSize-e.digestSize),s=new Digest$1(e.multihashCode,e.digestSize,o,i);return[e.version===0?ae.createV0(s):ae.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0;const n=()=>{const[h,l]=decode$r(t.subarray(e));return e+=l,h};let i=n(),o=DAG_PB_CODE$1;if(i===18?(i=0,e=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const s=e,a=n(),c=n(),y=e+c,g=y-s;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:g,size:y}}static parse(t,e){const[n,i]=parseCIDtoBytes$1(t,e),o=ae.decode(i);if(o.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$1(o).set(n,t),o}};const parseCIDtoBytes$1=(r,t)=>{switch(r[0]){case"Q":{const e=t||base58btc$3;return[base58btc$3.prefix,e.decode(`${base58btc$3.prefix}${r}`)]}case base58btc$3.prefix:{const e=t||base58btc$3;return[base58btc$3.prefix,e.decode(r)]}case base32$6.prefix:{const e=t||base32$6;return[base32$6.prefix,e.decode(r)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}},toStringV0$1=(r,t,e)=>{const{prefix:n}=e;if(n!==base58btc$3.prefix)throw Error(`Cannot string encode V0 in ${e.name} encoding`);const i=t.get(n);if(i==null){const o=e.encode(r).slice(1);return t.set(n,o),o}else return i},toStringV1$1=(r,t,e)=>{const{prefix:n}=e,i=t.get(n);if(i==null){const o=e.encode(r);return t.set(n,o),o}else return i},DAG_PB_CODE$1=112,SHA_256_CODE$1=18,encodeCID$2=(r,t,e)=>{const n=encodingLength$2(r),i=n+encodingLength$2(t),o=new Uint8Array(i+e.byteLength);return encodeTo$1(r,o,0),encodeTo$1(t,o,n),o.set(e,i),o},cidSymbol$1=Symbol.for("@ipld/js-cid/CID");function fromSplit$1(r){const[t,e,n]=r;return{payload:e,signatures:[{protected:t,signature:n}],link:CID$1.decode(fromBase64url(e))}}function encodeSignature(r){const t={signature:fromBase64url(r.signature)};return r.header&&(t.header=r.header),r.protected&&(t.protected=fromBase64url(r.protected)),t}function encode$m(r){const t=fromBase64url(r.payload);try{CID$1.decode(t)}catch{throw new Error("Not a valid DagJWS")}return{payload:t,signatures:r.signatures.map(encodeSignature)}}function decodeSignature(r){const t={signature:toBase64url(r.signature)};return r.header&&(t.header=r.header),r.protected&&(t.protected=toBase64url(r.protected)),t}function decode$p(r){const t={payload:toBase64url(r.payload),signatures:r.signatures.map(decodeSignature)};return t.link=CID$1.decode(new Uint8Array(r.payload)),t}function fromSplit(r){const[t,e,n,i,o]=r,s={ciphertext:i,iv:n,protected:t,tag:o};return e&&(s.recipients=[{encrypted_key:e}]),s}function encodeRecipient(r){const t={};return r.encrypted_key&&(t.encrypted_key=fromBase64url(r.encrypted_key)),r.header&&(t.header=r.header),t}function encode$l(r){const t={ciphertext:fromBase64url(r.ciphertext),protected:fromBase64url(r.protected),iv:fromBase64url(r.iv),tag:fromBase64url(r.tag)};return r.aad&&(t.aad=fromBase64url(r.aad)),r.recipients&&(t.recipients=r.recipients.map(encodeRecipient)),r.unprotected&&(t.unprotected=r.unprotected),t}function decodeRecipient(r){const t={};return r.encrypted_key&&(t.encrypted_key=toBase64url(r.encrypted_key)),r.header&&(t.header=r.header),t}function decode$o(r){const t={ciphertext:toBase64url(r.ciphertext),protected:toBase64url(r.protected),iv:toBase64url(r.iv),tag:toBase64url(r.tag)};return r.aad&&(t.aad=toBase64url(r.aad)),r.recipients&&(t.recipients=r.recipients.map(decodeRecipient)),r.unprotected&&(t.unprotected=r.unprotected),t}const name$3="dag-jose",code$3=133;function isDagJWS(r){return"payload"in r&&typeof r.payload=="string"&&"signatures"in r&&Array.isArray(r.signatures)}function isEncodedJWS(r){return"payload"in r&&r.payload instanceof Uint8Array&&"signatures"in r&&Array.isArray(r.signatures)}function isEncodedJWE(r){return"ciphertext"in r&&r.ciphertext instanceof Uint8Array&&"iv"in r&&r.iv instanceof Uint8Array&&"protected"in r&&r.protected instanceof Uint8Array&&"tag"in r&&r.tag instanceof Uint8Array}function isDagJWE(r){return"ciphertext"in r&&typeof r.ciphertext=="string"&&"iv"in r&&typeof r.iv=="string"&&"protected"in r&&typeof r.protected=="string"&&"tag"in r&&typeof r.tag=="string"}function toGeneral(r){if(typeof r=="string"){const t=r.split(".");if(t.length===3)return fromSplit$1(t);if(t.length===5)return fromSplit(t);throw new Error("Not a valid JOSE string")}if(isDagJWS(r)||isDagJWE(r))return r;throw new Error("Not a valid unencoded JOSE object")}function encode$k(r){typeof r=="string"&&(r=toGeneral(r));let t;if(isDagJWS(r))t=encode$m(r);else if(isDagJWE(r))t=encode$l(r);else throw new Error("Not a valid JOSE object");return new Uint8Array(encode$t(t))}function decode$n(r){let t;try{t=decode$A(r)}catch{throw new Error("Not a valid DAG-JOSE object")}if(isEncodedJWS(t))return decode$p(t);if(isEncodedJWE(t))return decode$o(t);throw new Error("Not a valid DAG-JOSE object")}const dagJOSE=Object.freeze(Object.defineProperty({__proto__:null,code:code$3,decode:decode$n,encode:encode$k,name:name$3,toGeneral},Symbol.toStringTag,{value:"Module"})),code$2=0,name$2="identity",encode$j=coerce$a,digest=r=>create$2(code$2,encode$j(r)),identity$4={code:code$2,name:name$2,encode:encode$j,digest},identity$5=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$4},Symbol.toStringTag,{value:"Module"})),identity$3=from$b({prefix:"\0",name:"identity",encode:r=>toString$8(r),decode:r=>fromString$d(r)}),identityBase$3=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$3},Symbol.toStringTag,{value:"Module"})),base2$6=rfc4648$a({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$7=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$6},Symbol.toStringTag,{value:"Module"})),base8$6=rfc4648$a({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$7=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$6},Symbol.toStringTag,{value:"Module"})),base10$6=baseX$a({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$7=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$6},Symbol.toStringTag,{value:"Module"})),base16$6=rfc4648$a({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$3=rfc4648$a({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$7=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$6,base16upper:base16upper$3},Symbol.toStringTag,{value:"Module"})),base36$6=baseX$a({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$3=baseX$a({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$7=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$6,base36upper:base36upper$3},Symbol.toStringTag,{value:"Module"})),alphabet$5=Array.from(""),alphabetBytesToChars$5=alphabet$5.reduce((r,t,e)=>(r[e]=t,r),[]),alphabetCharsToBytes$5=alphabet$5.reduce((r,t,e)=>(r[t.codePointAt(0)]=e,r),[]);function encode$i(r){return r.reduce((t,e)=>(t+=alphabetBytesToChars$5[e],t),"")}function decode$m(r){const t=[];for(const e of r){const n=alphabetCharsToBytes$5[e.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${e}`);t.push(n)}return new Uint8Array(t)}const base256emoji$6=from$b({prefix:"",name:"base256emoji",encode:encode$i,decode:decode$m}),base256emoji$7=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$6},Symbol.toStringTag,{value:"Module"})),from$a=({name:r,code:t,encode:e})=>new Hasher(r,t,e);class Hasher{constructor(t,e,n){this.name=t,this.code=e,this.encode=n}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?create$2(this.code,e):e.then(n=>create$2(this.code,n))}else throw Error("Unknown type, must be binary type")}}const sha=r=>async t=>new Uint8Array(await crypto.subtle.digest(r,t)),sha256=from$a({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from$a({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256,sha512},Symbol.toStringTag,{value:"Module"})),name$1="raw",code$1=85,encode$h=r=>coerce$a(r),decode$l=r=>coerce$a(r),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,decode:decode$l,encode:encode$h,name:name$1},Symbol.toStringTag,{value:"Module"})),textEncoder$3=new TextEncoder,textDecoder=new TextDecoder,name="json",code=512,encode$g=r=>textEncoder$3.encode(JSON.stringify(r)),decode$k=r=>JSON.parse(textDecoder.decode(r)),json=Object.freeze(Object.defineProperty({__proto__:null,code,decode:decode$k,encode:encode$g,name},Symbol.toStringTag,{value:"Module"})),bases$3={...identityBase$3,...base2$7,...base8$7,...base10$7,...base16$7,...base32$7,...base36$7,...base58$3,...base64$8,...base256emoji$7},hashes={...sha2,...identity$5},codecs$1={raw,json};class Parser{index=0;input="";new(t){return this.index=0,this.input=t,this}readAtomically(t){const e=this.index,n=t();return n===void 0&&(this.index=e),n}parseWith(t){const e=t();if(this.index===this.input.length)return e}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(t){return this.readAtomically(()=>{const e=this.readChar();if(e===t)return e})}readSeparator(t,e,n){return this.readAtomically(()=>{if(!(e>0&&this.readGivenChar(t)===void 0))return n()})}readNumber(t,e,n,i){return this.readAtomically(()=>{let o=0,s=0;const a=this.peekChar();if(a===void 0)return;const c=a==="0",y=2**(8*i)-1;for(;;){const g=this.readAtomically(()=>{const h=this.readChar();if(h===void 0)return;const l=Number.parseInt(h,t);if(!Number.isNaN(l))return l});if(g===void 0)break;if(o*=t,o+=g,o>y||(s+=1,e!==void 0&&s>e))return}if(s!==0)return!n&&c&&s>1?void 0:o})}readIPv4Addr(){return this.readAtomically(()=>{const t=new Uint8Array(4);for(let e=0;e<t.length;e++){const n=this.readSeparator(".",e,()=>this.readNumber(10,3,!1,1));if(n===void 0)return;t[e]=n}return t})}readIPv6Addr(){const t=e=>{for(let n=0;n<e.length/2;n++){const i=n*2;if(n<e.length-3){const s=this.readSeparator(":",n,()=>this.readIPv4Addr());if(s!==void 0)return e[i]=s[0],e[i+1]=s[1],e[i+2]=s[2],e[i+3]=s[3],[i+4,!0]}const o=this.readSeparator(":",n,()=>this.readNumber(16,4,!0,2));if(o===void 0)return[i,!1];e[i]=o>>8,e[i+1]=o&255}return[e.length,!1]};return this.readAtomically(()=>{const e=new Uint8Array(16),[n,i]=t(e);if(n===16)return e;if(i||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;const o=new Uint8Array(14),s=16-(n+2),[a]=t(o.subarray(0,s));return e.set(o.subarray(0,a),16-a),e})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}const MAX_IPV6_LENGTH=45,MAX_IPV4_LENGTH=15,parser=new Parser;function parseIPv4(r){if(!(r.length>MAX_IPV4_LENGTH))return parser.new(r).parseWith(()=>parser.readIPv4Addr())}function parseIPv6(r){if(r.includes("%")&&(r=r.split("%")[0]),!(r.length>MAX_IPV6_LENGTH))return parser.new(r).parseWith(()=>parser.readIPv6Addr())}function parseIP(r,t=!1){if(r.includes("%")&&(r=r.split("%")[0]),r.length>MAX_IPV6_LENGTH)return;const e=parser.new(r).parseWith(()=>parser.readIPAddr());if(e)return t&&e.length===4?Uint8Array.from([0,0,0,0,0,0,0,0,0,0,255,255,e[0],e[1],e[2],e[3]]):e}function isIPv4(r){return!!parseIPv4(r)}function isIPv6(r){return!!parseIPv6(r)}function isIP(r){return!!parseIP(r)}function base$9(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$c=base$9,_brrp__multiformats_scope_baseX$9=src$c;const coerce$9=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},fromString$c=r=>new TextEncoder().encode(r),toString$7=r=>new TextDecoder().decode(r);let Encoder$9=class{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$9=class{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$9(this,t)}},ComposedDecoder$9=class{constructor(t){this.decoders=t}or(t){return or$9(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$9=(r,t)=>new ComposedDecoder$9({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});let Codec$9=class{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$9(t,e,n),this.decoder=new Decoder$9(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const from$9=({name:r,prefix:t,encode:e,decode:n})=>new Codec$9(r,t,e,n),baseX$9=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$9(e,t);return from$9({prefix:r,name:t,encode:n,decode:o=>coerce$9(i(o))})},decode$j=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode$f=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648$9=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from$9({prefix:t,name:r,encode(i){return encode$f(i,n,e)},decode(i){return decode$j(i,n,e,r)}}),base10$4=baseX$9({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$5=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$4},Symbol.toStringTag,{value:"Module"})),base16$4=rfc4648$9({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$2=rfc4648$9({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$5=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$4,base16upper:base16upper$2},Symbol.toStringTag,{value:"Module"})),base2$4=rfc4648$9({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$5=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$4},Symbol.toStringTag,{value:"Module"})),alphabet$4=Array.from(""),alphabetBytesToChars$4=alphabet$4.reduce((r,t,e)=>(r[e]=t,r),[]),alphabetCharsToBytes$4=alphabet$4.reduce((r,t,e)=>(r[t.codePointAt(0)]=e,r),[]);function encode$e(r){return r.reduce((t,e)=>(t+=alphabetBytesToChars$4[e],t),"")}function decode$i(r){const t=[];for(const e of r){const n=alphabetCharsToBytes$4[e.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${e}`);t.push(n)}return new Uint8Array(t)}const base256emoji$4=from$9({prefix:"",name:"base256emoji",encode:encode$e,decode:decode$i}),base256emoji$5=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$4},Symbol.toStringTag,{value:"Module"})),base32$4=rfc4648$9({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$2=rfc4648$9({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$2=rfc4648$9({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$2=rfc4648$9({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$2=rfc4648$9({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$2=rfc4648$9({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$2=rfc4648$9({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$2=rfc4648$9({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$2=rfc4648$9({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$5=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$4,base32hex:base32hex$2,base32hexpad:base32hexpad$2,base32hexpadupper:base32hexpadupper$2,base32hexupper:base32hexupper$2,base32pad:base32pad$2,base32padupper:base32padupper$2,base32upper:base32upper$2,base32z:base32z$2},Symbol.toStringTag,{value:"Module"})),base36$4=baseX$9({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$2=baseX$9({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$5=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$4,base36upper:base36upper$2},Symbol.toStringTag,{value:"Module"})),base58btc$2=baseX$9({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$2=baseX$9({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$2=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$2,base58flickr:base58flickr$2},Symbol.toStringTag,{value:"Module"})),base64$5=rfc4648$9({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$2=rfc4648$9({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$2=rfc4648$9({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$2=rfc4648$9({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$6=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$5,base64pad:base64pad$2,base64url:base64url$2,base64urlpad:base64urlpad$2},Symbol.toStringTag,{value:"Module"})),base8$4=rfc4648$9({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$5=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$4},Symbol.toStringTag,{value:"Module"})),identity$2=from$9({prefix:"\0",name:"identity",encode:r=>toString$7(r),decode:r=>fromString$c(r)}),identityBase$2=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$2={...identityBase$2,...base2$5,...base8$5,...base10$5,...base16$5,...base32$5,...base36$5,...base58$2,...base64$6,...base256emoji$5};function asUint8Array$2(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function allocUnsafe$2(r=0){return globalThis.Buffer?.allocUnsafe!=null?asUint8Array$2(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function createCodec$2(r,t,e,n){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:e},decoder:{decode:n}}}const string$2=createCodec$2("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),ascii$2=createCodec$2("ascii","a",r=>{let t="a";for(let e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return t},r=>{r=r.substring(1);const t=allocUnsafe$2(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t}),BASES$2={utf8:string$2,"utf-8":string$2,hex:bases$2.base16,latin1:ascii$2,ascii:ascii$2,binary:ascii$2,...bases$2};function toString$6(r,t="utf8"){const e=BASES$2[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):e.encoder.encode(r).substring(1)}const isV4=isIPv4,isV6=isIPv6,toBytes$1=function(r){let t=0;if(r=r.toString().trim(),isV4(r)){const e=new Uint8Array(t+4);return r.split(/\./g).forEach(n=>{e[t++]=parseInt(n,10)&255}),e}if(isV6(r)){const e=r.split(":",8);let n;for(n=0;n<e.length;n++){const o=isV4(e[n]);let s;o&&(s=toBytes$1(e[n]),e[n]=toString$6(s.slice(0,2),"base16")),s!=null&&++n<8&&e.splice(n,0,toString$6(s.slice(2,4),"base16"))}if(e[0]==="")for(;e.length<8;)e.unshift("0");else if(e[e.length-1]==="")for(;e.length<8;)e.push("0");else if(e.length<8){for(n=0;n<e.length&&e[n]!=="";n++);const o=[n,1];for(n=9-e.length;n>0;n--)o.push("0");e.splice.apply(e,o)}const i=new Uint8Array(t+16);for(n=0;n<e.length;n++){const o=parseInt(e[n],16);i[t++]=o>>8&255,i[t++]=o&255}return i}throw new Error("invalid ip address")},toString$5=function(r,t=0,e){t=~~t,e=e??r.length-t;const n=new DataView(r.buffer);if(e===4){const i=[];for(let o=0;o<e;o++)i.push(r[t+o]);return i.join(".")}if(e===16){const i=[];for(let o=0;o<e;o+=2)i.push(n.getUint16(t+o).toString(16));return i.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},V$1=-1,names={},codes={},table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,V$1,"ip6zone"],[43,8,"ipcidr"],[53,V$1,"dns",!0],[54,V$1,"dns4",!0],[55,V$1,"dns6",!0],[56,V$1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[281,0,"webrtc-w3c"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,V$1,"unix",!1,!0],[421,V$1,"ipfs"],[421,V$1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,V$1,"garlic64"],[448,0,"tls"],[449,V$1,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,V$1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,V$1,"memory"]];table.forEach(r=>{const t=createProtocol(...r);codes[t.code]=t,names[t.name]=t});function createProtocol(r,t,e,n,i){return{code:r,size:t,name:e,resolvable:!!n,path:!!i}}function getProtocol(r){if(typeof r=="number"){if(codes[r]!=null)return codes[r];throw new Error(`no protocol with code: ${r}`)}else if(typeof r=="string"){if(names[r]!=null)return names[r];throw new Error(`no protocol with name: ${r}`)}throw new Error(`invalid protocol id type: ${typeof r}`)}var encode_1$1,hasRequiredEncode;function requireEncode(){if(hasRequiredEncode)return encode_1$1;hasRequiredEncode=1,encode_1$1=n;var r=128,t=-128,e=Math.pow(2,31);function n(i,o,s){if(Number.MAX_SAFE_INTEGER&&i>Number.MAX_SAFE_INTEGER)throw n.bytes=0,new RangeError("Could not encode varint");o=o||[],s=s||0;for(var a=s;i>=e;)o[s++]=i&255|r,i/=128;for(;i&t;)o[s++]=i&255|r,i>>>=7;return o[s]=i|0,n.bytes=s-a+1,o}return encode_1$1}var decode$h,hasRequiredDecode;function requireDecode(){if(hasRequiredDecode)return decode$h;hasRequiredDecode=1,decode$h=e;var r=128,t=127;function e(n,s){var o=0,s=s||0,a=0,c=s,y,g=n.length;do{if(c>=g||a>49)throw e.bytes=0,new RangeError("Could not decode varint");y=n[c++],o+=a<28?(y&t)<<a:(y&t)*Math.pow(2,a),a+=7}while(y>=r);return e.bytes=c-s,o}return decode$h}var length$1,hasRequiredLength;function requireLength(){if(hasRequiredLength)return length$1;hasRequiredLength=1;var r=Math.pow(2,7),t=Math.pow(2,14),e=Math.pow(2,21),n=Math.pow(2,28),i=Math.pow(2,35),o=Math.pow(2,42),s=Math.pow(2,49),a=Math.pow(2,56),c=Math.pow(2,63);return length$1=function(y){return y<r?1:y<t?2:y<e?3:y<n?4:y<i?5:y<o?6:y<s?7:y<a?8:y<c?9:10},length$1}var varint$2,hasRequiredVarint;function requireVarint(){return hasRequiredVarint||(hasRequiredVarint=1,varint$2={encode:requireEncode(),decode:requireDecode(),encodingLength:requireLength()}),varint$2}var varintExports=requireVarint();const varint$1=getDefaultExportFromCjs(varintExports);function fromString$b(r,t="utf8"){const e=BASES$2[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$2(globalThis.Buffer.from(r,"utf-8")):e.decoder.decode(`${e.prefix}${r}`)}function concat$3(r,t){t==null&&(t=r.reduce((i,o)=>i+o.length,0));const e=allocUnsafe$2(t);let n=0;for(const i of r)e.set(i,n),n+=i.length;return asUint8Array$2(e)}function convertToString(r,t){switch(getProtocol(r).code){case 4:case 41:return bytes2ip(t);case 42:return bytes2str(t);case 6:case 273:case 33:case 132:return bytes2port$1(t).toString();case 53:case 54:case 55:case 56:case 400:case 449:case 777:return bytes2str(t);case 421:return bytes2mh(t);case 444:return bytes2onion$1(t);case 445:return bytes2onion$1(t);case 466:return bytes2mb$1(t);default:return toString$6(t,"base16")}}function convertToBytes(r,t){switch(getProtocol(r).code){case 4:return ip2bytes(t);case 41:return ip2bytes(t);case 42:return str2bytes(t);case 6:case 273:case 33:case 132:return port2bytes$1(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 449:case 777:return str2bytes(t);case 421:return mh2bytes(t);case 444:return onion2bytes$1(t);case 445:return onion32bytes$1(t);case 466:return mb2bytes$1(t);default:return fromString$b(t,"base16")}}const decoders$1=Object.values(bases$3).map(r=>r.decoder),anybaseDecoder$1=(function(){let r=decoders$1[0].or(decoders$1[1]);return decoders$1.slice(2).forEach(t=>r=r.or(t)),r})();function ip2bytes(r){if(!isIP(r))throw new Error("invalid ip address");return toBytes$1(r)}function bytes2ip(r){const t=toString$5(r,0,r.length);if(t==null)throw new Error("ipBuff is required");if(!isIP(t))throw new Error("invalid ip address");return t}function port2bytes$1(r){const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,r),new Uint8Array(t)}function bytes2port$1(r){return new DataView(r.buffer).getUint16(r.byteOffset)}function str2bytes(r){const t=fromString$b(r),e=Uint8Array.from(varint$1.encode(t.length));return concat$3([e,t],e.length+t.length)}function bytes2str(r){const t=varint$1.decode(r);if(r=r.slice(varint$1.decode.bytes),r.length!==t)throw new Error("inconsistent lengths");return toString$6(r)}function mh2bytes(r){let t;r[0]==="Q"||r[0]==="1"?t=decode$q(base58btc$3.decode(`z${r}`)).bytes:t=CID$1.parse(r).multihash.bytes;const e=Uint8Array.from(varint$1.encode(t.length));return concat$3([e,t],e.length+t.length)}function mb2bytes$1(r){const t=anybaseDecoder$1.decode(r),e=Uint8Array.from(varint$1.encode(t.length));return concat$3([e,t],e.length+t.length)}function bytes2mb$1(r){const t=varint$1.decode(r),e=r.slice(varint$1.decode.bytes);if(e.length!==t)throw new Error("inconsistent lengths");return"u"+toString$6(e,"base64url")}function bytes2mh(r){const t=varint$1.decode(r),e=r.slice(varint$1.decode.bytes);if(e.length!==t)throw new Error("inconsistent lengths");return toString$6(e,"base58btc")}function onion2bytes$1(r){const t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==16)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);const e=base32$6.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const i=port2bytes$1(n);return concat$3([e,i],e.length+i.length)}function onion32bytes$1(r){const t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==56)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);const e=base32$6.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const i=port2bytes$1(n);return concat$3([e,i],e.length+i.length)}function bytes2onion$1(r){const t=r.slice(0,r.length-2),e=r.slice(r.length-2),n=toString$6(t,"base32"),i=bytes2port$1(e);return`${n}:${i}`}function stringToStringTuples(r){const t=[],e=r.split("/").slice(1);if(e.length===1&&e[0]==="")return[];for(let n=0;n<e.length;n++){const i=e[n],o=getProtocol(i);if(o.size===0){t.push([i]);continue}if(n++,n>=e.length)throw ParseError("invalid address: "+r);if(o.path===!0){t.push([i,cleanPath(e.slice(n).join("/"))]);break}t.push([i,e[n]])}return t}function stringTuplesToString(r){const t=[];return r.map(e=>{const n=protoFromTuple(e);return t.push(n.name),e.length>1&&e[1]!=null&&t.push(e[1]),null}),cleanPath(t.join("/"))}function stringTuplesToTuples(r){return r.map(t=>{Array.isArray(t)||(t=[t]);const e=protoFromTuple(t);return t.length>1?[e.code,convertToBytes(e.code,t[1])]:[e.code]})}function tuplesToStringTuples(r){return r.map(t=>{const e=protoFromTuple(t);return t[1]!=null?[e.code,convertToString(e.code,t[1])]:[e.code]})}function tuplesToBytes(r){return fromBytes(concat$3(r.map(t=>{const e=protoFromTuple(t);let n=Uint8Array.from(varint$1.encode(e.code));return t.length>1&&t[1]!=null&&(n=concat$3([n,t[1]])),n})))}function sizeForAddr$1(r,t){return r.size>0?r.size/8:r.size===0?0:varint$1.decode(t)+(varint$1.decode.bytes??0)}function bytesToTuples(r){const t=[];let e=0;for(;e<r.length;){const n=varint$1.decode(r,e),i=varint$1.decode.bytes??0,o=getProtocol(n),s=sizeForAddr$1(o,r.slice(e+i));if(s===0){t.push([n]),e+=i;continue}const a=r.slice(e+i,e+i+s);if(e+=s+i,e>r.length)throw ParseError("Invalid address Uint8Array: "+toString$6(r,"base16"));t.push([n,a])}return t}function bytesToString$1(r){const t=bytesToTuples(r),e=tuplesToStringTuples(t);return stringTuplesToString(e)}function stringToBytes$1(r){r=cleanPath(r);const t=stringToStringTuples(r),e=stringTuplesToTuples(t);return tuplesToBytes(e)}function fromString$a(r){return stringToBytes$1(r)}function fromBytes(r){const t=validateBytes(r);if(t!=null)throw t;return Uint8Array.from(r)}function validateBytes(r){try{bytesToTuples(r)}catch(t){return t}}function cleanPath(r){return"/"+r.trim().split("/").filter(t=>t).join("/")}function ParseError(r){return new Error("Error parsing address: "+r)}function protoFromTuple(r){return getProtocol(r[0])}var errCode$1,hasRequiredErrCode;function requireErrCode(){if(hasRequiredErrCode)return errCode$1;hasRequiredErrCode=1;function r(e,n){for(const i in n)Object.defineProperty(e,i,{value:n[i],enumerable:!0,configurable:!0});return e}function t(e,n,i){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof n=="object"&&(i=n,n=""),n&&(i.code=n);try{return r(e,i)}catch{i.message=e.message,i.stack=e.stack;const s=function(){};return s.prototype=Object.create(Object.getPrototypeOf(e)),r(new s,i)}}return errCode$1=t,errCode$1}var errCodeExports=requireErrCode();const errCode=getDefaultExportFromCjs(errCodeExports);function equals$3(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}var __classPrivateFieldGet=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},__classPrivateFieldSet=function(r,t,e,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!i:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,e):i?i.value=e:t.set(r,e),e},_DefaultMultiaddr_string,_DefaultMultiaddr_tuples,_DefaultMultiaddr_stringTuples,_a;const inspect$2=Symbol.for("nodejs.util.inspect.custom"),DNS_CODES$1=[getProtocol("dns").code,getProtocol("dns4").code,getProtocol("dns6").code,getProtocol("dnsaddr").code],resolvers$1=new Map,symbol$2=Symbol.for("@multiformats/js-multiaddr/multiaddr");function isMultiaddr$1(r){return!!r?.[symbol$2]}class DefaultMultiaddr{constructor(t){if(_DefaultMultiaddr_string.set(this,void 0),_DefaultMultiaddr_tuples.set(this,void 0),_DefaultMultiaddr_stringTuples.set(this,void 0),this[_a]=!0,t==null&&(t=""),t instanceof Uint8Array)this.bytes=fromBytes(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);this.bytes=fromString$a(t)}else if(isMultiaddr$1(t))this.bytes=fromBytes(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return __classPrivateFieldGet(this,_DefaultMultiaddr_string,"f")==null&&__classPrivateFieldSet(this,_DefaultMultiaddr_string,bytesToString$1(this.bytes),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_string,"f")}toJSON(){return this.toString()}toOptions(){let t,e,n,i,o="";const s=getProtocol("tcp"),a=getProtocol("udp"),c=getProtocol("ip4"),y=getProtocol("ip6"),g=getProtocol("dns6"),h=getProtocol("ip6zone");for(const[w,u]of this.stringTuples())w===h.code&&(o=`%${u??""}`),DNS_CODES$1.includes(w)&&(e=s.name,i=443,n=`${u??""}${o}`,t=w===g.code?6:4),(w===s.code||w===a.code)&&(e=getProtocol(w).name,i=parseInt(u??"")),(w===c.code||w===y.code)&&(e=getProtocol(w).name,n=`${u??""}${o}`,t=w===y.code?6:4);if(t==null||e==null||n==null||i==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:t,host:n,transport:e,port:i}}protos(){return this.protoCodes().map(t=>Object.assign({},getProtocol(t)))}protoCodes(){const t=[],e=this.bytes;let n=0;for(;n<e.length;){const i=varint$1.decode(e,n),o=varint$1.decode.bytes??0,s=getProtocol(i),a=sizeForAddr$1(s,e.slice(n+o));n+=a+o,t.push(i)}return t}protoNames(){return this.protos().map(t=>t.name)}tuples(){return __classPrivateFieldGet(this,_DefaultMultiaddr_tuples,"f")==null&&__classPrivateFieldSet(this,_DefaultMultiaddr_tuples,bytesToTuples(this.bytes),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_tuples,"f")}stringTuples(){return __classPrivateFieldGet(this,_DefaultMultiaddr_stringTuples,"f")==null&&__classPrivateFieldSet(this,_DefaultMultiaddr_stringTuples,tuplesToStringTuples(this.tuples()),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_stringTuples,"f")}encapsulate(t){return t=new DefaultMultiaddr(t),new DefaultMultiaddr(this.toString()+t.toString())}decapsulate(t){const e=t.toString(),n=this.toString(),i=n.lastIndexOf(e);if(i<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${t.toString()}`);return new DefaultMultiaddr(n.slice(0,i))}decapsulateCode(t){const e=this.tuples();for(let n=e.length-1;n>=0;n--)if(e[n][0]===t)return new DefaultMultiaddr(tuplesToBytes(e.slice(0,n)));return this}getPeerId(){try{const e=this.stringTuples().filter(n=>n[0]===names.ipfs.code).pop();if(e?.[1]!=null){const n=e[1];return n[0]==="Q"||n[0]==="1"?toString$6(base58btc$3.decode(`z${n}`),"base58btc"):toString$6(CID$1.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let t=null;try{t=this.stringTuples().filter(e=>getProtocol(e[0]).path===!0)[0][1],t==null&&(t=null)}catch{t=null}return t}equals(t){return equals$3(this.bytes,t.bytes)}async resolve(t){const e=this.protos().find(o=>o.resolvable);if(e==null)return[this];const n=resolvers$1.get(e.name);if(n==null)throw errCode(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await n(this,t)).map(o=>new DefaultMultiaddr(o))}nodeAddress(){const t=this.toOptions();if(t.transport!=="tcp"&&t.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${t.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:t.family,address:t.host,port:t.port}}isThinWaistAddress(t){const e=(t??this).protos();return!(e.length!==2||e[0].code!==4&&e[0].code!==41||e[1].code!==6&&e[1].code!==273)}[(_DefaultMultiaddr_string=new WeakMap,_DefaultMultiaddr_tuples=new WeakMap,_DefaultMultiaddr_stringTuples=new WeakMap,_a=symbol$2,inspect$2)](){return`Multiaddr(${bytesToString$1(this.bytes)})`}}function multiaddr$1(r){return new DefaultMultiaddr(r)}function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var isElectron_1,hasRequiredIsElectron;function requireIsElectron(){if(hasRequiredIsElectron)return isElectron_1;hasRequiredIsElectron=1;function r(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}return isElectron_1=r,isElectron_1}var env,hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1;var r={};const t=requireIsElectron(),e=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,n=t(),i=e&&!n,o=n&&!e,s=n&&e,a=typeof commonjsRequire=="function"&&typeof process<"u"&&typeof process.release<"u"&&process.release.name==="node"&&!n,c=typeof importScripts=="function"&&typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,y=typeof process<"u"&&typeof r<"u"&&!1,g=typeof navigator<"u"&&navigator.product==="ReactNative";return env={isTest:y,isElectron:n,isElectronMain:o,isElectronRenderer:s,isNode:a,isBrowser:i,isWebWorker:c,isEnvWithDom:e,isReactNative:g},env}var envExports=requireEnv();let durationRE=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;parse.year=parse.yr=parse.y=6e4*60*24*365.25;parse.month=parse.b=6e4*60*24*(365.25/12);parse.week=parse.wk=parse.w=6e4*60*24*7;parse.day=parse.d=6e4*60*24;parse.hour=parse.hr=parse.h=6e4*60;parse.minute=parse.min=parse.m=6e4;parse.second=parse.sec=parse.s=1e3;parse.millisecond=parse.millisec=parse.ms=1;parse.s=parse.s=parse.us=parse.microsecond=1/1e3;parse.nanosecond=parse.ns=1/1e6;function parse(r="",t="ms"){var e=null,n;return r=(r+"").replace(/(\d)[,_](\d)/g,"$1$2"),r.replace(durationRE,function(i,o,s){if(s)s=s.toLowerCase();else if(n){for(var a in parse)if(parse[a]<n){s=a;break}}else s=t;Object.prototype.hasOwnProperty.call(parse,s)?s=parse[s]:Object.prototype.hasOwnProperty.call(parse,s.replace(/s$/,""))?s=parse[s.replace(/s$/,"")]:s=null,s&&(e=(e||0)+Math.abs(parseFloat(o,10))*s,n=s)}),e&&e/(parse[t]||1)*(r[0]==="-"?-1:1)}var browser$1={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var r=1e3,t=r*60,e=t*60,n=e*24,i=n*7,o=n*365.25;ms=function(g,h){h=h||{};var l=typeof g;if(l==="string"&&g.length>0)return s(g);if(l==="number"&&isFinite(g))return h.long?c(g):a(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function s(g){if(g=String(g),!(g.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(h){var l=parseFloat(h[1]),w=(h[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return l*o;case"weeks":case"week":case"w":return l*i;case"days":case"day":case"d":return l*n;case"hours":case"hour":case"hrs":case"hr":case"h":return l*e;case"minutes":case"minute":case"mins":case"min":case"m":return l*t;case"seconds":case"second":case"secs":case"sec":case"s":return l*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function a(g){var h=Math.abs(g);return h>=n?Math.round(g/n)+"d":h>=e?Math.round(g/e)+"h":h>=t?Math.round(g/t)+"m":h>=r?Math.round(g/r)+"s":g+"ms"}function c(g){var h=Math.abs(g);return h>=n?y(g,h,n,"day"):h>=e?y(g,h,e,"hour"):h>=t?y(g,h,t,"minute"):h>=r?y(g,h,r,"second"):g+" ms"}function y(g,h,l,w){var u=h>=l*1.5;return Math.round(g/l)+" "+w+(u?"s":"")}return ms}var common,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function r(t){n.debug=n,n.default=n,n.coerce=y,n.disable=a,n.enable=o,n.enabled=c,n.humanize=requireMs(),n.destroy=g,Object.keys(t).forEach(h=>{n[h]=t[h]}),n.names=[],n.skips=[],n.formatters={};function e(h){let l=0;for(let w=0;w<h.length;w++)l=(l<<5)-l+h.charCodeAt(w),l|=0;return n.colors[Math.abs(l)%n.colors.length]}n.selectColor=e;function n(h){let l,w=null,u,p;function $(...f){if(!$.enabled)return;const m=$,E=Number(new Date),T=E-(l||E);m.diff=T,m.prev=l,m.curr=E,l=E,f[0]=n.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");let _=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(S,C)=>{if(S==="%%")return"%";_++;const B=n.formatters[C];if(typeof B=="function"){const M=f[_];S=B.call(m,M),f.splice(_,1),_--}return S}),n.formatArgs.call(m,f),(m.log||n.log).apply(m,f)}return $.namespace=h,$.useColors=n.useColors(),$.color=n.selectColor(h),$.extend=i,$.destroy=n.destroy,Object.defineProperty($,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(u!==n.namespaces&&(u=n.namespaces,p=n.enabled(h)),p),set:f=>{w=f}}),typeof n.init=="function"&&n.init($),$}function i(h,l){const w=n(this.namespace+(typeof l>"u"?":":l)+h);return w.log=this.log,w}function o(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];const l=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const w of l)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}function s(h,l){let w=0,u=0,p=-1,$=0;for(;w<h.length;)if(u<l.length&&(l[u]===h[w]||l[u]==="*"))l[u]==="*"?(p=u,$=w,u++):(w++,u++);else if(p!==-1)u=p+1,$++,w=$;else return!1;for(;u<l.length&&l[u]==="*";)u++;return u===l.length}function a(){const h=[...n.names,...n.skips.map(l=>"-"+l)].join(",");return n.enable(""),h}function c(h){for(const l of n.skips)if(s(h,l))return!1;for(const l of n.names)if(s(h,l))return!0;return!1}function y(h){return h instanceof Error?h.stack||h.message:h}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return common=r,common}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,(function(r,t){var e={};t.formatArgs=i,t.save=o,t.load=s,t.useColors=n,t.storage=a(),t.destroy=(()=>{let y=!1;return()=>{y||(y=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let y;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(y=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(y[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(y){if(y[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+y[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;y.splice(1,0,g,"color: inherit");let h=0,l=0;y[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(h++,w==="%c"&&(l=h))}),y.splice(l,0,g)}t.log=console.debug||console.log||(()=>{});function o(y){try{y?t.storage.setItem("debug",y):t.storage.removeItem("debug")}catch{}}function s(){let y;try{y=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!y&&typeof process<"u"&&"env"in process&&(y=e.DEBUG),y}function a(){try{return localStorage}catch{}}r.exports=requireCommon()(t);const{formatters:c}=r.exports;c.j=function(y){try{return JSON.stringify(y)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}})(browser$1,browser$1.exports)),browser$1.exports}var browserExports=requireBrowser$1();const debug=getDefaultExportFromCjs(browserExports);debug.formatters.b=r=>r==null?"undefined":base58btc$3.baseEncode(r);debug.formatters.t=r=>r==null?"undefined":base32$6.baseEncode(r);debug.formatters.m=r=>r==null?"undefined":base64$7.baseEncode(r);debug.formatters.p=r=>r==null?"undefined":r.toString();debug.formatters.c=r=>r==null?"undefined":r.toString();debug.formatters.k=r=>r==null?"undefined":r.toString();debug.formatters.a=r=>r==null?"undefined":r.toString();function createDisabledLogger(r){const t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=r,t.destroy=()=>!0,t.extend=()=>t,t}function logger(r){let t=createDisabledLogger(`${r}:trace`);return debug.enabled(`${r}:trace`)&&debug.names.map(e=>e.toString()).find(e=>e.includes(":trace"))!=null&&(t=debug(`${r}:trace`)),Object.assign(debug(r),{error:debug(`${r}:error`),trace:t})}var error={},hasRequiredError;function requireError(){if(hasRequiredError)return error;hasRequiredError=1;class r extends Error{constructor(i="Request timed out"){super(i),this.name="TimeoutError"}}error.TimeoutError=r;class t extends Error{constructor(i="The operation was aborted."){super(i),this.name="AbortError"}}error.AbortError=t;class e extends Error{constructor(i){super(i.statusText),this.name="HTTPError",this.response=i}}return error.HTTPError=e,error}var src$b={exports:{}},browser={exports:{}},hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,(function(r,t){var e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal;throw new Error("unable to locate global object")},n=e();r.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response})(browser,browser.exports)),browser.exports}var hasRequiredSrc$2;function requireSrc$2(){return hasRequiredSrc$2||(hasRequiredSrc$2=1,globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?src$b.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:src$b.exports={default:requireBrowser().default,Headers:requireBrowser().Headers,Request:requireBrowser().Request,Response:requireBrowser().Response}),src$b.exports}var fetch_browser$1,hasRequiredFetch_browser$1;function requireFetch_browser$1(){return hasRequiredFetch_browser$1||(hasRequiredFetch_browser$1=1,fetch_browser$1=requireSrc$2()),fetch_browser$1}var fetch_browser,hasRequiredFetch_browser;function requireFetch_browser(){if(hasRequiredFetch_browser)return fetch_browser;hasRequiredFetch_browser=1;const{TimeoutError:r,AbortError:t}=requireError(),{Response:e,Request:n,Headers:i,default:o}=requireFetch_browser$1(),s=(h,l={})=>{const w=new XMLHttpRequest;w.open(l.method||"GET",h.toString(),!0);const{timeout:u,headers:p}=l;if(u&&u>0&&u<1/0&&(w.timeout=u),l.overrideMimeType!=null&&w.overrideMimeType(l.overrideMimeType),p)for(const[$,f]of new i(p))w.setRequestHeader($,f);return l.signal&&(l.signal.onabort=()=>w.abort()),l.onUploadProgress&&(w.upload.onprogress=l.onUploadProgress),w.responseType="arraybuffer",new Promise(($,f)=>{const m=E=>{switch(E.type){case"error":{$(e.error());break}case"load":{$(new g(w.responseURL,w.response,{status:w.status,statusText:w.statusText,headers:y(w.getAllResponseHeaders())}));break}case"timeout":{f(new r);break}case"abort":{f(new t);break}}};w.onerror=m,w.onload=m,w.ontimeout=m,w.onabort=m,w.send(l.body)})},a=o,c=(h,l={})=>l.onUploadProgress!=null?s(h,l):a(h,l),y=h=>{const l=new i;for(const w of h.trim().split(/[\r\n]+/)){const u=w.indexOf(": ");u>0&&l.set(w.slice(0,u),w.slice(u+1))}return l};class g extends e{constructor(l,w,u){super(w,u),Object.defineProperty(this,"url",{value:l})}}return fetch_browser={fetch:c,Request:n,Headers:i},fetch_browser}var isPlainObj,hasRequiredIsPlainObj;function requireIsPlainObj(){return hasRequiredIsPlainObj||(hasRequiredIsPlainObj=1,isPlainObj=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;const t=Object.getPrototypeOf(r);return t===null||t===Object.prototype}),isPlainObj}var mergeOptions$1,hasRequiredMergeOptions;function requireMergeOptions(){if(hasRequiredMergeOptions)return mergeOptions$1;hasRequiredMergeOptions=1;const r=requireIsPlainObj(),{hasOwnProperty:t}=Object.prototype,{propertyIsEnumerable:e}=Object,n=(w,u,p)=>Object.defineProperty(w,u,{value:p,writable:!0,enumerable:!0,configurable:!0}),i=mergeOptions$1,o={concatArrays:!1,ignoreUndefined:!1},s=w=>{const u=[];for(const p in w)t.call(w,p)&&u.push(p);if(Object.getOwnPropertySymbols){const p=Object.getOwnPropertySymbols(w);for(const $ of p)e.call(w,$)&&u.push($)}return u};function a(w){return Array.isArray(w)?c(w):r(w)?y(w):w}function c(w){const u=w.slice(0,0);return s(w).forEach(p=>{n(u,p,a(w[p]))}),u}function y(w){const u=Object.getPrototypeOf(w)===null?Object.create(null):{};return s(w).forEach(p=>{n(u,p,a(w[p]))}),u}const g=(w,u,p,$)=>(p.forEach(f=>{typeof u[f]>"u"&&$.ignoreUndefined||(f in w&&w[f]!==Object.getPrototypeOf(w)?n(w,f,l(w[f],u[f],$)):n(w,f,a(u[f])))}),w),h=(w,u,p)=>{let $=w.slice(0,0),f=0;return[w,u].forEach(m=>{const E=[];for(let T=0;T<m.length;T++)t.call(m,T)&&(E.push(String(T)),m===w?n($,f++,m[T]):n($,f++,a(m[T])));$=g($,m,s(m).filter(T=>!E.includes(T)),p)}),$};function l(w,u,p){return p.concatArrays&&Array.isArray(w)&&Array.isArray(u)?h(w,u,p):!r(u)||!r(w)?a(u):g(w,u,s(u),p)}return mergeOptions$1=function(...w){const u=l(a(o),this!==i&&this||{},o);let p={_:{}};for(const $ of w)if($!==void 0){if(!r($))throw new TypeError("`"+$+"` is not an Option Object");p=l(p,{_:$},u)}return p._},mergeOptions$1}var urlBrowser,hasRequiredUrlBrowser;function requireUrlBrowser(){if(hasRequiredUrlBrowser)return urlBrowser;hasRequiredUrlBrowser=1;const r=typeof navigator<"u"&&navigator.product==="ReactNative";function t(){return r?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:""}const e=self.URL,n=t();class i{constructor(a="",c=n){this.super=new e(a,c),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(a){this.super.hash=a}set host(a){this.super.host=a}set hostname(a){this.super.hostname=a}set href(a){this.super.href=a}set password(a){this.super.password=a}set pathname(a){this.super.pathname=a}set port(a){this.super.port=a}set protocol(a){this.super.protocol=a}set search(a){this.super.search=a}set username(a){this.super.username=a}static createObjectURL(a){return e.createObjectURL(a)}static revokeObjectURL(a){e.revokeObjectURL(a)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function o(s){if(typeof s=="string")return new e(s).toString();if(!(s instanceof e)){const a=s.username&&s.password?`${s.username}:${s.password}@`:"",c=s.auth?s.auth+"@":"",y=s.port?":"+s.port:"",g=s.protocol?s.protocol+"//":"",h=s.host||"",l=s.hostname||"",w=s.search||(s.query?"?"+s.query:""),u=s.hash||"",p=s.pathname||"",$=s.path||p+w;return`${g}${a||c}${h||l+y}${$}${u}`}}return urlBrowser={URLWithLegacySupport:i,URLSearchParams:self.URLSearchParams,defaultBase:n,format:o},urlBrowser}var relative,hasRequiredRelative;function requireRelative(){if(hasRequiredRelative)return relative;hasRequiredRelative=1;const{URLWithLegacySupport:r,format:t}=requireUrlBrowser();return relative=(e,n={},i={},o)=>{let s=n.protocol?n.protocol.replace(":",""):"http";s=(i[s]||o||s)+":";let a;try{a=new r(e)}catch{a={}}const c=Object.assign({},n,{protocol:s||a.protocol,host:n.host||a.host});return new r(e,t(c)).toString()},relative}var isoUrl,hasRequiredIsoUrl;function requireIsoUrl(){if(hasRequiredIsoUrl)return isoUrl;hasRequiredIsoUrl=1;const{URLWithLegacySupport:r,format:t,URLSearchParams:e,defaultBase:n}=requireUrlBrowser(),i=requireRelative();return isoUrl={URL:r,URLSearchParams:e,format:t,relative:i,defaultBase:n},isoUrl}var anySignal={exports:{}},hasRequiredAnySignal;function requireAnySignal(){if(hasRequiredAnySignal)return anySignal.exports;hasRequiredAnySignal=1;function r(t){const e=new globalThis.AbortController;function n(){e.abort();for(const i of t)!i||!i.removeEventListener||i.removeEventListener("abort",n)}for(const i of t)if(!(!i||!i.addEventListener)){if(i.aborted){n();break}i.addEventListener("abort",n)}return e.signal}return anySignal.exports=r,anySignal.exports.anySignal=r,anySignal.exports}var browserReadablestreamToIt,hasRequiredBrowserReadablestreamToIt;function requireBrowserReadablestreamToIt(){if(hasRequiredBrowserReadablestreamToIt)return browserReadablestreamToIt;hasRequiredBrowserReadablestreamToIt=1;async function*r(t,e={}){const n=t.getReader();try{for(;;){const i=await n.read();if(i.done)return;yield i.value}}finally{e.preventCancel!==!0&&n.cancel(),n.releaseLock()}}return browserReadablestreamToIt=r,browserReadablestreamToIt}var itAll,hasRequiredItAll;function requireItAll(){return hasRequiredItAll||(hasRequiredItAll=1,itAll=async t=>{const e=[];for await(const n of t)e.push(n);return e}),itAll}var http,hasRequiredHttp;function requireHttp(){if(hasRequiredHttp)return http;hasRequiredHttp=1;const{fetch:r,Request:t,Headers:e}=requireFetch_browser(),{TimeoutError:n,HTTPError:i}=requireError(),o=requireMergeOptions().bind({ignoreUndefined:!0}),{URL:s,URLSearchParams:a}=requireIsoUrl(),c=requireAnySignal(),y=requireBrowserReadablestreamToIt(),{isBrowser:g,isWebWorker:h}=requireEnv(),l=requireItAll(),w=(_,x,S)=>{if(x===void 0)return _;const C=Date.now(),B=()=>Date.now()-C>=x;return new Promise((M,I)=>{const L=setTimeout(()=>{B()&&(I(new n),S.abort())},x),H=N=>F=>{if(clearTimeout(L),B()){I(new n);return}N(F)};_.then(H(M),H(I))})},u={throwHttpErrors:!0,credentials:"same-origin"};class p{constructor(x={}){this.opts=o(u,x)}async fetch(x,S={}){const C=o(this.opts,S),B=new e(C.headers);if(typeof x!="string"&&!(x instanceof s||x instanceof t))throw new TypeError("`resource` must be a string, URL, or Request");const M=new s(x.toString(),C.base),{searchParams:I,transformSearchParams:L,json:H}=C;I&&(typeof L=="function"?M.search=L(new a(C.searchParams)):M.search=new a(C.searchParams)),H&&(C.body=JSON.stringify(C.json),B.set("content-type","application/json"));const N=new AbortController,k=c([N.signal,C.signal]);globalThis.ReadableStream!=null&&C.body instanceof globalThis.ReadableStream&&(g||h)&&(C.body=new Blob(await l(y(C.body))));const F=await w(r(M.toString(),{...C,signal:k,timeout:void 0,headers:B,duplex:"half"}),C.timeout,N);if(!F.ok&&C.throwHttpErrors)throw C.handleError&&await C.handleError(F),new i(F);return F.iterator=async function*(){yield*f(F.body)},F.ndjson=async function*(){for await(const re of $(F.iterator()))S.transform?yield S.transform(re):yield re},F}post(x,S={}){return this.fetch(x,{...S,method:"POST"})}get(x,S={}){return this.fetch(x,{...S,method:"GET"})}put(x,S={}){return this.fetch(x,{...S,method:"PUT"})}delete(x,S={}){return this.fetch(x,{...S,method:"DELETE"})}options(x,S={}){return this.fetch(x,{...S,method:"OPTIONS"})}}const $=async function*(_){const x=new TextDecoder;let S="";for await(const C of _){S+=x.decode(C,{stream:!0});const B=S.split(/\r?\n/);for(let M=0;M<B.length-1;M++){const I=B[M].trim();I.length>0&&(yield JSON.parse(I))}S=B[B.length-1]}S+=x.decode(),S=S.trim(),S.length!==0&&(yield JSON.parse(S))},f=_=>{if(m(_))return _;if(T(_)){const x=_[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{next:x.next.bind(x),return(S){return _.destroy(),typeof x.return=="function"?x.return():Promise.resolve({done:!0,value:S})}}}}}if(E(_)){const x=_.getReader();return(async function*(){try{for(;;){const{done:S,value:C}=await x.read();if(S)return;C&&(yield C)}}finally{x.releaseLock()}})()}throw new TypeError("Body can't be converted to AsyncIterable")},m=_=>typeof _=="object"&&_!==null&&typeof _[Symbol.asyncIterator]=="function",E=_=>_&&typeof _.getReader=="function",T=_=>Object.prototype.hasOwnProperty.call(_,"readable")&&Object.prototype.hasOwnProperty.call(_,"writable");return p.HTTPError=i,p.TimeoutError=n,p.streamToAsyncIterator=f,p.post=(_,x)=>new p(x).post(_,x),p.get=(_,x)=>new p(x).get(_,x),p.put=(_,x)=>new p(x).put(_,x),p.delete=(_,x)=>new p(x).delete(_,x),p.options=(_,x)=>new p(x).options(_,x),http=p,http}var httpExports=requireHttp();const HTTP=getDefaultExportFromCjs(httpExports);var mergeOptionsExports=requireMergeOptions();const mergeOptions=getDefaultExportFromCjs(mergeOptionsExports);function equals$2(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}function coerce$8(r){if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}function fromString$9(r){return new TextEncoder().encode(r)}function toString$4(r){return new TextDecoder().decode(r)}function base$8(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$a=base$8,_brrp__multiformats_scope_baseX$8=src$a;let Encoder$8=class{name;prefix;baseEncode;constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$8=class{name;prefix;baseDecode;prefixCodePoint;constructor(t,e,n){this.name=t,this.prefix=e;const i=e.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$8(this,t)}},ComposedDecoder$8=class{decoders;constructor(t){this.decoders=t}or(t){return or$8(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n!=null)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$8(r,t){return new ComposedDecoder$8({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}let Codec$8=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$8(t,e,n),this.decoder=new Decoder$8(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function from$8({name:r,prefix:t,encode:e,decode:n}){return new Codec$8(r,t,e,n)}function baseX$8({name:r,prefix:t,alphabet:e}){const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$8(e,r);return from$8({prefix:t,name:r,encode:n,decode:o=>coerce$8(i(o))})}function decode$g(r,t,e,n){let i=r.length;for(;r[i-1]==="=";)--i;const o=new Uint8Array(i*e/8|0);let s=0,a=0,c=0;for(let y=0;y<i;++y){const g=t[r[y]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<e|g,s+=e,s>=8&&(s-=8,o[c++]=255&a>>s)}if(s>=e||(255&a<<8-s)!==0)throw new SyntaxError("Unexpected end of data");return o}function encode$d(r,t,e){const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s!==0&&(o+=t[i&a<<e-s]),n)for(;(o.length*e&7)!==0;)o+="=";return o}function createAlphabetIdx(r){const t={};for(let e=0;e<r.length;++e)t[r[e]]=e;return t}function rfc4648$8({name:r,prefix:t,bitsPerChar:e,alphabet:n}){const i=createAlphabetIdx(n);return from$8({prefix:t,name:r,encode(o){return encode$d(o,n,e)},decode(o){return decode$g(o,i,e,r)}})}const base10$2=baseX$8({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$3=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$2},Symbol.toStringTag,{value:"Module"})),base16$2=rfc4648$8({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$1=rfc4648$8({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$3=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$2,base16upper:base16upper$1},Symbol.toStringTag,{value:"Module"})),base2$2=rfc4648$8({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$3=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$2},Symbol.toStringTag,{value:"Module"})),alphabet$3=Array.from(""),alphabetBytesToChars$3=alphabet$3.reduce((r,t,e)=>(r[e]=t,r),[]),alphabetCharsToBytes$3=alphabet$3.reduce((r,t,e)=>{const n=t.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${t}`);return r[n]=e,r},[]);function encode$c(r){return r.reduce((t,e)=>(t+=alphabetBytesToChars$3[e],t),"")}function decode$f(r){const t=[];for(const e of r){const n=e.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${e}`);const i=alphabetCharsToBytes$3[n];if(i==null)throw new Error(`Non-base256emoji character: ${e}`);t.push(i)}return new Uint8Array(t)}const base256emoji$2=from$8({prefix:"",name:"base256emoji",encode:encode$c,decode:decode$f}),base256emoji$3=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$2},Symbol.toStringTag,{value:"Module"})),base32$2=rfc4648$8({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$1=rfc4648$8({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$1=rfc4648$8({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$1=rfc4648$8({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$1=rfc4648$8({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$1=rfc4648$8({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$1=rfc4648$8({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$1=rfc4648$8({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$1=rfc4648$8({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$3=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$2,base32hex:base32hex$1,base32hexpad:base32hexpad$1,base32hexpadupper:base32hexpadupper$1,base32hexupper:base32hexupper$1,base32pad:base32pad$1,base32padupper:base32padupper$1,base32upper:base32upper$1,base32z:base32z$1},Symbol.toStringTag,{value:"Module"})),base36$2=baseX$8({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$1=baseX$8({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$3=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$2,base36upper:base36upper$1},Symbol.toStringTag,{value:"Module"})),base58btc$1=baseX$8({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$1=baseX$8({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$1=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$1,base58flickr:base58flickr$1},Symbol.toStringTag,{value:"Module"})),base64$3=rfc4648$8({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$1=rfc4648$8({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$1=rfc4648$8({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$1=rfc4648$8({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$4=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$3,base64pad:base64pad$1,base64url:base64url$1,base64urlpad:base64urlpad$1},Symbol.toStringTag,{value:"Module"})),base8$2=rfc4648$8({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$3=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$2},Symbol.toStringTag,{value:"Module"})),identity$1=from$8({prefix:"\0",name:"identity",encode:r=>toString$4(r),decode:r=>fromString$9(r)}),identityBase$1=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$1},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;var encode_1=encode$b,MSB$1=128,MSBALL=-128,INT=Math.pow(2,31);function encode$b(r,t,e){t=t||[],e=e||0;for(var n=e;r>=INT;)t[e++]=r&255|MSB$1,r/=128;for(;r&MSBALL;)t[e++]=r&255|MSB$1,r>>>=7;return t[e]=r|0,encode$b.bytes=e-n+1,t}var decode$e=read,MSB$1$1=128,REST$1=127;function read(r,n){var e=0,n=n||0,i=0,o=n,s,a=r.length;do{if(o>=a)throw read.bytes=0,new RangeError("Could not decode varint");s=r[o++],e+=i<28?(s&REST$1)<<i:(s&REST$1)*Math.pow(2,i),i+=7}while(s>=MSB$1$1);return read.bytes=o-n,e}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(r){return r<N1$1?1:r<N2$1?2:r<N3$1?3:r<N4$1?4:r<N5$1?5:r<N6$1?6:r<N7$1?7:r<N8?8:r<N9?9:10},varint={encode:encode_1,decode:decode$e,encodingLength:length},_brrp_varint=varint;function decode$d(r,t=0){return[_brrp_varint.decode(r,t),_brrp_varint.decode.bytes]}function encodeTo(r,t,e=0){return _brrp_varint.encode(r,t,e),t}function encodingLength$1(r){return _brrp_varint.encodingLength(r)}function create$1(r,t){const e=t.byteLength,n=encodingLength$1(r),i=n+encodingLength$1(e),o=new Uint8Array(i+e);return encodeTo(r,o,0),encodeTo(e,o,n),o.set(t,i),new Digest(r,e,t,o)}function decode$c(r){const t=coerce$8(r),[e,n]=decode$d(t),[i,o]=decode$d(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Digest(e,i,s,t)}function equals$1(r,t){if(r===t)return!0;{const e=t;return r.code===e.code&&r.size===e.size&&e.bytes instanceof Uint8Array&&equals$2(r.bytes,e.bytes)}}class Digest{code;size;digest;bytes;constructor(t,e,n,i){this.code=t,this.size=e,this.digest=n,this.bytes=i}}function format(r,t){const{bytes:e,version:n}=r;switch(n){case 0:return toStringV0(e,baseCache(r),t??base58btc$1.encoder);default:return toStringV1(e,baseCache(r),t??base32$2.encoder)}}const cache=new WeakMap;function baseCache(r){const t=cache.get(r);if(t==null){const e=new Map;return cache.set(r,e),e}return t}class CID{code;version;multihash;bytes;"/";constructor(t,e,n,i){this.code=e,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:e}=this;if(t!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:e}=this.multihash,n=create$1(t,e);return CID.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return CID.equals(this,t)}static equals(t,e){const n=e;return n!=null&&t.code===n.code&&t.version===n.version&&equals$1(t.multihash,n.multihash)}toString(t){return format(this,t)}toJSON(){return{"/":format(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const e=t;if(e instanceof CID)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){const{version:n,code:i,multihash:o,bytes:s}=e;return new CID(n,i,o,s??encodeCID$1(n,i,o.bytes))}else if(e[cidSymbol]===!0){const{version:n,multihash:i,code:o}=e,s=decode$c(i);return CID.create(n,o,s)}else return null}static create(t,e,n){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(e!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(t,e,n,n.bytes)}case 1:{const i=encodeCID$1(t,e,n.bytes);return new CID(t,e,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return CID.create(0,DAG_PB_CODE,t)}static createV1(t,e){return CID.create(1,t,e)}static decode(t){const[e,n]=CID.decodeFirst(t);if(n.length!==0)throw new Error("Incorrect length");return e}static decodeFirst(t){const e=CID.inspectBytes(t),n=e.size-e.multihashSize,i=coerce$8(t.subarray(n,n+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");const o=i.subarray(e.multihashSize-e.digestSize),s=new Digest(e.multihashCode,e.digestSize,o,i);return[e.version===0?CID.createV0(s):CID.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0;const n=()=>{const[h,l]=decode$d(t.subarray(e));return e+=l,h};let i=n(),o=DAG_PB_CODE;if(i===18?(i=0,e=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const s=e,a=n(),c=n(),y=e+c,g=y-s;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:g,size:y}}static parse(t,e){const[n,i]=parseCIDtoBytes(t,e),o=CID.decode(i);if(o.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache(o).set(n,t),o}}function parseCIDtoBytes(r,t){switch(r[0]){case"Q":{const e=t??base58btc$1;return[base58btc$1.prefix,e.decode(`${base58btc$1.prefix}${r}`)]}case base58btc$1.prefix:{const e=t??base58btc$1;return[base58btc$1.prefix,e.decode(r)]}case base32$2.prefix:{const e=t??base32$2;return[base32$2.prefix,e.decode(r)]}case base36$2.prefix:{const e=t??base36$2;return[base36$2.prefix,e.decode(r)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}}function toStringV0(r,t,e){const{prefix:n}=e;if(n!==base58btc$1.prefix)throw Error(`Cannot string encode V0 in ${e.name} encoding`);const i=t.get(n);if(i==null){const o=e.encode(r).slice(1);return t.set(n,o),o}else return i}function toStringV1(r,t,e){const{prefix:n}=e,i=t.get(n);if(i==null){const o=e.encode(r);return t.set(n,o),o}else return i}const DAG_PB_CODE=112,SHA_256_CODE=18;function encodeCID$1(r,t,e){const n=encodingLength$1(r),i=n+encodingLength$1(t),o=new Uint8Array(i+e.byteLength);return encodeTo(r,o,0),encodeTo(t,o,n),o.set(e,i),o}const cidSymbol=Symbol.for("@ipld/js-cid/CID"),bases$1={...identityBase$1,...base2$3,...base8$3,...base10$3,...base16$3,...base32$3,...base36$3,...base58$1,...base64$4,...base256emoji$3};function allocUnsafe$1(r=0){return new Uint8Array(r)}function createCodec$1(r,t,e,n){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:e},decoder:{decode:n}}}const string$1=createCodec$1("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),ascii$1=createCodec$1("ascii","a",r=>{let t="a";for(let e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return t},r=>{r=r.substring(1);const t=allocUnsafe$1(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t}),BASES$1={utf8:string$1,"utf-8":string$1,hex:bases$1.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases$1};function toString$3(r,t="utf8"){const e=BASES$1[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return e.encoder.encode(r).substring(1)}class InvalidMultiaddrError extends Error{static name="InvalidMultiaddrError";name="InvalidMultiaddrError"}class ValidationError extends Error{static name="ValidationError";name="ValidationError"}class InvalidParametersError extends Error{static name="InvalidParametersError";name="InvalidParametersError"}class UnknownProtocolError extends Error{static name="UnknownProtocolError";name="UnknownProtocolError"}function equals(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}function fromString$8(r,t="utf8"){const e=BASES$1[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return e.decoder.decode(`${e.prefix}${r}`)}const N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),MSB=128,REST=127;function encodingLength(r){if(r<N1)return 1;if(r<N2)return 2;if(r<N3)return 3;if(r<N4)return 4;if(r<N5)return 5;if(r<N6)return 6;if(r<N7)return 7;if(Number.MAX_SAFE_INTEGER!=null&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function encodeUint8Array(r,t,e=0){switch(encodingLength(r)){case 8:t[e++]=r&255|MSB,r/=128;case 7:t[e++]=r&255|MSB,r/=128;case 6:t[e++]=r&255|MSB,r/=128;case 5:t[e++]=r&255|MSB,r/=128;case 4:t[e++]=r&255|MSB,r>>>=7;case 3:t[e++]=r&255|MSB,r>>>=7;case 2:t[e++]=r&255|MSB,r>>>=7;case 1:{t[e++]=r&255,r>>>=7;break}default:throw new Error("unreachable")}return t}function decodeUint8Array(r,t){let e=r[t],n=0;if(n+=e&REST,e<MSB||(e=r[t+1],n+=(e&REST)<<7,e<MSB)||(e=r[t+2],n+=(e&REST)<<14,e<MSB)||(e=r[t+3],n+=(e&REST)<<21,e<MSB)||(e=r[t+4],n+=(e&REST)*N4,e<MSB)||(e=r[t+5],n+=(e&REST)*N5,e<MSB)||(e=r[t+6],n+=(e&REST)*N6,e<MSB)||(e=r[t+7],n+=(e&REST)*N7,e<MSB))return n;throw new RangeError("Could not decode varint")}function decodeUint8ArrayList(r,t){let e=r.get(t),n=0;if(n+=e&REST,e<MSB||(e=r.get(t+1),n+=(e&REST)<<7,e<MSB)||(e=r.get(t+2),n+=(e&REST)<<14,e<MSB)||(e=r.get(t+3),n+=(e&REST)<<21,e<MSB)||(e=r.get(t+4),n+=(e&REST)*N4,e<MSB)||(e=r.get(t+5),n+=(e&REST)*N5,e<MSB)||(e=r.get(t+6),n+=(e&REST)*N6,e<MSB)||(e=r.get(t+7),n+=(e&REST)*N7,e<MSB))return n;throw new RangeError("Could not decode varint")}function decode$b(r,t=0){return r instanceof Uint8Array?decodeUint8Array(r,t):decodeUint8ArrayList(r,t)}function asUint8Array$1(r){return r}function concat$2(r,t){t==null&&(t=r.reduce((i,o)=>i+o.length,0));const e=allocUnsafe$1(t);let n=0;for(const i of r)e.set(i,n),n+=i.length;return e}const CODE_IP4=4,CODE_TCP=6,CODE_UDP=273,CODE_DCCP=33,CODE_IP6=41,CODE_IP6ZONE=42,CODE_IPCIDR=43,CODE_DNS=53,CODE_DNS4=54,CODE_DNS6=55,CODE_DNSADDR=56,CODE_SCTP=132,CODE_UDT=301,CODE_UTP=302,CODE_UNIX=400,CODE_P2P=421,CODE_ONION=444,CODE_ONION3=445,CODE_GARLIC64=446,CODE_GARLIC32=447,CODE_TLS=448,CODE_SNI=449,CODE_NOISE=454,CODE_QUIC=460,CODE_QUIC_V1=461,CODE_WEBTRANSPORT=465,CODE_CERTHASH=466,CODE_HTTP=480,CODE_HTTP_PATH=481,CODE_HTTPS=443,CODE_WS=477,CODE_WSS=478,CODE_P2P_WEBSOCKET_STAR=479,CODE_P2P_STARDUST=277,CODE_P2P_WEBRTC_STAR=275,CODE_P2P_WEBRTC_DIRECT=276,CODE_WEBRTC_DIRECT=280,CODE_WEBRTC=281,CODE_P2P_CIRCUIT=290,CODE_MEMORY=777;function bytesToString(r){return t=>toString$3(t,r)}function stringToBytes(r){return t=>fromString$8(t,r)}function bytes2port(r){return new DataView(r.buffer).getUint16(r.byteOffset).toString()}function port2bytes(r){const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,typeof r=="string"?parseInt(r):r),new Uint8Array(t)}function onion2bytes(r){const t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==16)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);const e=fromString$8(t[0],"base32"),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const i=port2bytes(n);return concat$2([e,i],e.length+i.length)}function onion32bytes(r){const t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==56)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);const e=base32$2.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const i=port2bytes(n);return concat$2([e,i],e.length+i.length)}function bytes2onion(r){const t=r.subarray(0,r.length-2),e=r.subarray(r.length-2),n=toString$3(t,"base32"),i=bytes2port(e);return`${n}:${i}`}const ip4ToBytes=function(r){r=r.toString().trim();const t=new Uint8Array(4);return r.split(/\./g).forEach((e,n)=>{const i=parseInt(e,10);if(isNaN(i)||i<0||i>255)throw new InvalidMultiaddrError("Invalid byte value in IP address");t[n]=i}),t},ip6ToBytes=function(r){let t=0;r=r.toString().trim();const e=r.split(":",8);let n;for(n=0;n<e.length;n++){const o=isIPv4(e[n]);let s;o&&(s=ip4ToBytes(e[n]),e[n]=toString$3(s.subarray(0,2),"base16")),s!=null&&++n<8&&e.splice(n,0,toString$3(s.subarray(2,4),"base16"))}if(e[0]==="")for(;e.length<8;)e.unshift("0");else if(e[e.length-1]==="")for(;e.length<8;)e.push("0");else if(e.length<8){for(n=0;n<e.length&&e[n]!=="";n++);const o=[n,1];for(n=9-e.length;n>0;n--)o.push("0");e.splice.apply(e,o)}const i=new Uint8Array(t+16);for(n=0;n<e.length;n++){e[n]===""&&(e[n]="0");const o=parseInt(e[n],16);if(isNaN(o)||o<0||o>65535)throw new InvalidMultiaddrError("Invalid byte value in IP address");i[t++]=o>>8&255,i[t++]=o&255}return i},ip4ToString=function(r){if(r.byteLength!==4)throw new InvalidMultiaddrError("IPv4 address was incorrect length");const t=[];for(let e=0;e<r.byteLength;e++)t.push(r[e]);return t.join(".")},ip6ToString=function(r){if(r.byteLength!==16)throw new InvalidMultiaddrError("IPv6 address was incorrect length");const t=[];for(let n=0;n<r.byteLength;n+=2){const i=r[n],o=r[n+1],s=`${i.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}`;t.push(s)}const e=t.join(":");try{const n=new URL(`http://[${e}]`);return n.hostname.substring(1,n.hostname.length-1)}catch{throw new InvalidMultiaddrError(`Invalid IPv6 address "${e}"`)}};function ip6StringToValue(r){try{const t=new URL(`http://[${r}]`);return t.hostname.substring(1,t.hostname.length-1)}catch{throw new InvalidMultiaddrError(`Invalid IPv6 address "${r}"`)}}const decoders=Object.values(bases$1).map(r=>r.decoder),anybaseDecoder=(function(){let r=decoders[0].or(decoders[1]);return decoders.slice(2).forEach(t=>r=r.or(t)),r})();function mb2bytes(r){return anybaseDecoder.decode(r)}function bytes2mb(r){return t=>r.encoder.encode(t)}function integer(r){if(parseInt(r).toString()!==r)throw new ValidationError("Value must be an integer")}function positive(r){if(r<0)throw new ValidationError("Value must be a positive integer, or zero")}function maxValue(r){return t=>{if(t>r)throw new ValidationError(`Value must be smaller than or equal to ${r}`)}}function validate$1(...r){return t=>{for(const e of r)e(t)}}const validatePort=validate$1(integer,positive,maxValue(65535)),V=-1;class Registry{protocolsByCode=new Map;protocolsByName=new Map;getProtocol(t){let e;if(typeof t=="string"?e=this.protocolsByName.get(t):e=this.protocolsByCode.get(t),e==null)throw new UnknownProtocolError(`Protocol ${t} was unknown`);return e}addProtocol(t){this.protocolsByCode.set(t.code,t),this.protocolsByName.set(t.name,t),t.aliases?.forEach(e=>{this.protocolsByName.set(e,t)})}removeProtocol(t){const e=this.protocolsByCode.get(t);e!=null&&(this.protocolsByCode.delete(e.code),this.protocolsByName.delete(e.name),e.aliases?.forEach(n=>{this.protocolsByName.delete(n)}))}}const registry=new Registry,codecs=[{code:CODE_IP4,name:"ip4",size:32,valueToBytes:ip4ToBytes,bytesToValue:ip4ToString,validate:r=>{if(!isIPv4(r))throw new ValidationError(`Invalid IPv4 address "${r}"`)}},{code:CODE_TCP,name:"tcp",size:16,valueToBytes:port2bytes,bytesToValue:bytes2port,validate:validatePort},{code:CODE_UDP,name:"udp",size:16,valueToBytes:port2bytes,bytesToValue:bytes2port,validate:validatePort},{code:CODE_DCCP,name:"dccp",size:16,valueToBytes:port2bytes,bytesToValue:bytes2port,validate:validatePort},{code:CODE_IP6,name:"ip6",size:128,valueToBytes:ip6ToBytes,bytesToValue:ip6ToString,stringToValue:ip6StringToValue,validate:r=>{if(!isIPv6(r))throw new ValidationError(`Invalid IPv6 address "${r}"`)}},{code:CODE_IP6ZONE,name:"ip6zone",size:V},{code:CODE_IPCIDR,name:"ipcidr",size:8,bytesToValue:bytesToString("base10"),valueToBytes:stringToBytes("base10")},{code:CODE_DNS,name:"dns",size:V,resolvable:!0},{code:CODE_DNS4,name:"dns4",size:V,resolvable:!0},{code:CODE_DNS6,name:"dns6",size:V,resolvable:!0},{code:CODE_DNSADDR,name:"dnsaddr",size:V,resolvable:!0},{code:CODE_SCTP,name:"sctp",size:16,valueToBytes:port2bytes,bytesToValue:bytes2port,validate:validatePort},{code:CODE_UDT,name:"udt"},{code:CODE_UTP,name:"utp"},{code:CODE_UNIX,name:"unix",size:V,path:!0,stringToValue:r=>decodeURIComponent(r),valueToString:r=>encodeURIComponent(r)},{code:CODE_P2P,name:"p2p",aliases:["ipfs"],size:V,bytesToValue:bytesToString("base58btc"),valueToBytes:r=>r.startsWith("Q")||r.startsWith("1")?stringToBytes("base58btc")(r):CID.parse(r).multihash.bytes},{code:CODE_ONION,name:"onion",size:96,bytesToValue:bytes2onion,valueToBytes:onion2bytes},{code:CODE_ONION3,name:"onion3",size:296,bytesToValue:bytes2onion,valueToBytes:onion32bytes},{code:CODE_GARLIC64,name:"garlic64",size:V},{code:CODE_GARLIC32,name:"garlic32",size:V},{code:CODE_TLS,name:"tls"},{code:CODE_SNI,name:"sni",size:V},{code:CODE_NOISE,name:"noise"},{code:CODE_QUIC,name:"quic"},{code:CODE_QUIC_V1,name:"quic-v1"},{code:CODE_WEBTRANSPORT,name:"webtransport"},{code:CODE_CERTHASH,name:"certhash",size:V,bytesToValue:bytes2mb(base64url$1),valueToBytes:mb2bytes},{code:CODE_HTTP,name:"http"},{code:CODE_HTTP_PATH,name:"http-path",size:V,stringToValue:r=>`/${decodeURIComponent(r)}`,valueToString:r=>encodeURIComponent(r.substring(1))},{code:CODE_HTTPS,name:"https"},{code:CODE_WS,name:"ws"},{code:CODE_WSS,name:"wss"},{code:CODE_P2P_WEBSOCKET_STAR,name:"p2p-websocket-star"},{code:CODE_P2P_STARDUST,name:"p2p-stardust"},{code:CODE_P2P_WEBRTC_STAR,name:"p2p-webrtc-star"},{code:CODE_P2P_WEBRTC_DIRECT,name:"p2p-webrtc-direct"},{code:CODE_WEBRTC_DIRECT,name:"webrtc-direct"},{code:CODE_WEBRTC,name:"webrtc"},{code:CODE_P2P_CIRCUIT,name:"p2p-circuit"},{code:CODE_MEMORY,name:"memory",size:V}];codecs.forEach(r=>{registry.addProtocol(r)});function bytesToComponents(r){const t=[];let e=0;for(;e<r.length;){const n=decode$b(r,e),i=registry.getProtocol(n),o=encodingLength(n),s=sizeForAddr(i,r,e+o);let a=0;s>0&&i.size===V&&(a=encodingLength(s));const c=o+a+s,y={code:n,name:i.name,bytes:r.subarray(e,e+c)};if(s>0){const g=e+o+a,h=r.subarray(g,g+s);y.value=i.bytesToValue?.(h)??toString$3(h)}t.push(y),e+=c}return t}function componentsToBytes(r){let t=0;const e=[];for(const n of r){if(n.bytes==null){const i=registry.getProtocol(n.code),o=encodingLength(n.code);let s,a=0,c=0;n.value!=null&&(s=i.valueToBytes?.(n.value)??fromString$8(n.value),a=s.byteLength,i.size===V&&(c=encodingLength(a)));const y=new Uint8Array(o+c+a);let g=0;encodeUint8Array(n.code,y,g),g+=o,s!=null&&(i.size===V&&(encodeUint8Array(a,y,g),g+=c),y.set(s,g)),n.bytes=y}e.push(n.bytes),t+=n.bytes.byteLength}return concat$2(e,t)}function stringToComponents(r){if(r.charAt(0)!=="/")throw new InvalidMultiaddrError('String multiaddr must start with "/"');const t=[];let e="protocol",n="",i="";for(let o=1;o<r.length;o++){const s=r.charAt(o);s!=="/"&&(e==="protocol"?i+=r.charAt(o):n+=r.charAt(o));const a=o===r.length-1;if(s==="/"||a){const c=registry.getProtocol(i);if(e==="protocol"){if(c.size==null||c.size===0){t.push({code:c.code,name:c.name}),n="",i="",e="protocol";continue}else if(a)throw new InvalidMultiaddrError(`Component ${i} was missing value`);e="value"}else if(e==="value"){const y={code:c.code,name:c.name};if(c.size!=null&&c.size!==0){if(n==="")throw new InvalidMultiaddrError(`Component ${i} was missing value`);y.value=c.stringToValue?.(n)??n}t.push(y),n="",i="",e="protocol"}}}if(i!==""&&n!=="")throw new InvalidMultiaddrError("Incomplete multiaddr");return t}function componentsToString(r){return`/${r.flatMap(t=>{if(t.value==null)return t.name;const e=registry.getProtocol(t.code);if(e==null)throw new InvalidMultiaddrError(`Unknown protocol code ${t.code}`);return[t.name,e.valueToString?.(t.value)??t.value]}).join("/")}`}function sizeForAddr(r,t,e){return r.size==null||r.size===0?0:r.size>0?r.size/8:decode$b(t,e)}const inspect$1=Symbol.for("nodejs.util.inspect.custom"),symbol$1=Symbol.for("@multiformats/multiaddr"),DNS_CODES=[CODE_DNS,CODE_DNS4,CODE_DNS6,CODE_DNSADDR];class NoAvailableResolverError extends Error{constructor(t="No available resolver"){super(t),this.name="NoAvailableResolverError"}}function toComponents(r){if(r==null&&(r="/"),isMultiaddr(r))return r.getComponents();if(r instanceof Uint8Array)return bytesToComponents(r);if(typeof r=="string")return r=r.replace(/\/(\/)+/,"/").replace(/(\/)+$/,""),r===""&&(r="/"),stringToComponents(r);if(Array.isArray(r))return r;throw new InvalidMultiaddrError("Must be a string, Uint8Array, Component[], or another Multiaddr")}class Multiaddr{[symbol$1]=!0;#e;#t;#r;constructor(t="/",e={}){this.#e=toComponents(t),e.validate!==!1&&validate(this)}get bytes(){return this.#r==null&&(this.#r=componentsToBytes(this.#e)),this.#r}toString(){return this.#t==null&&(this.#t=componentsToString(this.#e)),this.#t}toJSON(){return this.toString()}toOptions(){let t,e,n,i,o="";for(const{code:a,name:c,value:y}of this.#e)a===CODE_IP6ZONE&&(o=`%${y??""}`),DNS_CODES.includes(a)&&(e="tcp",i=443,n=`${y??""}${o}`,t=a===CODE_DNS6?6:4),(a===CODE_TCP||a===CODE_UDP)&&(e=c==="tcp"?"tcp":"udp",i=parseInt(y??"")),(a===CODE_IP4||a===CODE_IP6)&&(e="tcp",n=`${y??""}${o}`,t=a===CODE_IP6?6:4);if(t==null||e==null||n==null||i==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:t,host:n,transport:e,port:i}}getComponents(){return[...this.#e]}protos(){return this.#e.map(({code:t,value:e})=>{const n=registry.getProtocol(t);return{code:t,size:n.size??0,name:n.name,resolvable:!!n.resolvable,path:!!n.path}})}protoCodes(){return this.#e.map(({code:t})=>t)}protoNames(){return this.#e.map(({name:t})=>t)}tuples(){return this.#e.map(({code:t,value:e})=>{if(e==null)return[t];const n=registry.getProtocol(t),i=[t];return e!=null&&i.push(n.valueToBytes?.(e)??fromString$8(e)),i})}stringTuples(){return this.#e.map(({code:t,value:e})=>e==null?[t]:[t,e])}encapsulate(t){const e=new Multiaddr(t);return new Multiaddr([...this.#e,...e.getComponents()],{validate:!1})}decapsulate(t){const e=t.toString(),n=this.toString(),i=n.lastIndexOf(e);if(i<0)throw new InvalidParametersError(`Address ${this.toString()} does not contain subaddress: ${t.toString()}`);return new Multiaddr(n.slice(0,i),{validate:!1})}decapsulateCode(t){let e;for(let n=this.#e.length-1;n>-1;n--)if(this.#e[n].code===t){e=n;break}return new Multiaddr(this.#e.slice(0,e),{validate:!1})}getPeerId(){try{let t=[];this.#e.forEach(({code:n,value:i})=>{n===CODE_P2P&&t.push([n,i]),n===CODE_P2P_CIRCUIT&&(t=[])});const e=t.pop();if(e?.[1]!=null){const n=e[1];return n[0]==="Q"||n[0]==="1"?toString$3(base58btc$1.decode(`z${n}`),"base58btc"):toString$3(CID.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){for(const t of this.#e)if(registry.getProtocol(t.code).path)return t.value??null;return null}equals(t){return equals(this.bytes,t.bytes)}async resolve(t){const e=this.protos().find(o=>o.resolvable);if(e==null)return[this];const n=resolvers.get(e.name);if(n==null)throw new NoAvailableResolverError(`no available resolver for ${e.name}`);return(await n(this,t)).map(o=>multiaddr(o))}nodeAddress(){const t=this.toOptions();if(t.transport!=="tcp"&&t.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${t.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:t.family,address:t.host,port:t.port}}isThinWaistAddress(){return!(this.#e.length!==2||this.#e[0].code!==CODE_IP4&&this.#e[0].code!==CODE_IP6||this.#e[1].code!==CODE_TCP&&this.#e[1].code!==CODE_UDP)}[inspect$1](){return`Multiaddr(${this.toString()})`}}function validate(r){r.getComponents().forEach(t=>{const e=registry.getProtocol(t.code);t.value!=null&&e.validate?.(t.value)})}const resolvers=new Map;function isMultiaddr(r){return!!r?.[symbol$1]}function multiaddr(r){return new Multiaddr(r)}function protocols(r){const t=registry.getProtocol(r);return{code:t.code,size:t.size??0,name:t.name,resolvable:!!t.resolvable,path:!!t.path}}function extractSNI(r){let t;try{t=protocols("sni").code}catch{return null}for(const[e,n]of r)if(e===t&&n!==void 0)return n;return null}function hasTLS(r){return r.some(([t,e])=>t===protocols("tls").code)}function interpretNext(r,t,e){const n=interpreters[protocols(r).name];if(n===void 0)throw new Error(`Can't interpret protocol ${protocols(r).name}`);const i=n(t,e);return r===protocols("ip6").code?`[${i}]`:i}const interpreters={ip4:(r,t)=>r,ip6:(r,t)=>t.length===0?r:`[${r}]`,tcp:(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");return`tcp://${interpretNext(e[0],e[1]??"",t)}:${r}`},udp:(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");return`udp://${interpretNext(e[0],e[1]??"",t)}:${r}`},dnsaddr:(r,t)=>r,dns4:(r,t)=>r,dns6:(r,t)=>r,dns:(r,t)=>r,ipfs:(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(e[0],e[1]??"",t)}/ipfs/${r}`},p2p:(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(e[0],e[1]??"",t)}/p2p/${r}`},http:(r,t)=>{const e=hasTLS(t),n=extractSNI(t);if(e&&n!==null)return`https://${n}`;const i=e?"https://":"http://",o=t.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");let s=interpretNext(o[0],o[1]??"",t);return s=s.replace("tcp://",""),`${i}${s}`},tls:(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");return interpretNext(e[0],e[1]??"",t)},sni:(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");return interpretNext(e[0],e[1]??"",t)},https:(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");let n=interpretNext(e[0],e[1]??"",t);return n=n.replace("tcp://",""),`https://${n}`},ws:(r,t)=>{const e=hasTLS(t),n=extractSNI(t);if(e&&n!==null)return`wss://${n}`;const i=e?"wss://":"ws://",o=t.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");let s=interpretNext(o[0],o[1]??"",t);return s=s.replace("tcp://",""),`${i}${s}`},wss:(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");let n=interpretNext(e[0],e[1]??"",t);return n=n.replace("tcp://",""),`wss://${n}`},"p2p-websocket-star":(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(e[0],e[1]??"",t)}/p2p-websocket-star`},"p2p-webrtc-star":(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(e[0],e[1]??"",t)}/p2p-webrtc-star`},"p2p-webrtc-direct":(r,t)=>{const e=t.pop();if(e===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(e[0],e[1]??"",t)}/p2p-webrtc-direct`}};function multiaddrToUri(r,t){const n=multiaddr(r).stringTuples(),i=n.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");const o=protocols(i[0]),s=interpreters[o.name];if(s==null)throw new Error(`No interpreter found for ${o.name}`);let a=s(i[1]??"",n);return i[0]===protocols("tcp").code&&(a=a.replace("tcp://","http://"),(i[1]==="443"||i[1]==="80")&&(i[1]==="443"&&(a=a.replace("http://","https://")),a=a.substring(0,a.lastIndexOf(":")))),a}function toUrlString(r){try{r=multiaddrToUri(multiaddr$1(r))}catch{}return r=r.toString(),r}const getAgent=()=>{},log$1=logger("ipfs-http-client:lib:error-handler"),merge=mergeOptions.bind({ignoreUndefined:!0}),DEFAULT_PROTOCOL=envExports.isBrowser||envExports.isWebWorker?location.protocol:"http",DEFAULT_HOST=envExports.isBrowser||envExports.isWebWorker?location.hostname:"localhost",DEFAULT_PORT=envExports.isBrowser||envExports.isWebWorker?location.port:"5001",normalizeOptions=(r={})=>{let t,e={},n;if(typeof r=="string"||isMultiaddr$1(r))t=new URL(toUrlString(r));else if(r instanceof URL)t=r;else if(typeof r.url=="string"||isMultiaddr$1(r.url))t=new URL(toUrlString(r.url)),e=r;else if(r.url instanceof URL)t=r.url,e=r;else{e=r||{};const i=(e.protocol||DEFAULT_PROTOCOL).replace(":",""),o=(e.host||DEFAULT_HOST).split(":")[0],s=e.port||DEFAULT_PORT;t=new URL(`${i}://${o}:${s}`)}if(e.apiPath?t.pathname=e.apiPath:(t.pathname==="/"||t.pathname===void 0)&&(t.pathname="api/v0"),envExports.isNode){const i=getAgent();n=e.agent||new i({keepAlive:!0,maxSockets:6})}return{...e,host:t.host,protocol:t.protocol.replace(":",""),port:Number(t.port),apiPath:t.pathname,url:t,agent:n}},errorHandler=async r=>{let t;try{if((r.headers.get("Content-Type")||"").startsWith("application/json")){const n=await r.json();log$1(n),t=n.Message||n.message}else t=await r.text()}catch(n){log$1("Failed to parse error response",n),t=n.message}let e=new HTTP.HTTPError(r);throw t&&(t.includes("deadline has elapsed")&&(e=new HTTP.TimeoutError),t&&t.includes("context deadline exceeded")&&(e=new HTTP.TimeoutError)),t&&t.includes("request timed out")&&(e=new HTTP.TimeoutError),t&&(e.message=t),e},KEBAB_REGEX=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,kebabCase=r=>r.replace(KEBAB_REGEX,function(t){return"-"+t.toLowerCase()}),parseTimeout=r=>typeof r=="string"?parse(r):r;class Client extends HTTP{constructor(t={}){const e=normalizeOptions(t);super({timeout:parseTimeout(e.timeout||0)||void 0,headers:e.headers,base:`${e.url}`,handleError:errorHandler,transformSearchParams:i=>{const o=new URLSearchParams;for(const[s,a]of i)a!=="undefined"&&a!=="null"&&s!=="signal"&&o.append(kebabCase(s),a),s==="timeout"&&!isNaN(a)&&o.append(kebabCase(s),a);return o},agent:e.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;const n=this.fetch;this.fetch=(i,o={})=>(typeof i=="string"&&!i.startsWith("/")&&(i=`${e.url}/${i}`),n.call(this,i,merge(o,{method:"POST"})))}}HTTP.HTTPError;const configure=r=>t=>r(new Client(t),t);function modeToString$1(r){if(r!=null)return typeof r=="string"?r:r.toString(8).padStart(4,"0")}function parseMtime$1(r){if(r==null)return;let t;if(r.secs!=null&&(t={secs:r.secs,nsecs:r.nsecs}),r.Seconds!=null&&(t={secs:r.Seconds,nsecs:r.FractionalNanoseconds}),Array.isArray(r)&&(t={secs:r[0],nsecs:r[1]}),r instanceof Date){const e=r.getTime(),n=Math.floor(e/1e3);t={secs:n,nsecs:(e-n*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(t!=null&&t.nsecs!=null&&(t.nsecs<0||t.nsecs>999999999))throw errCode(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}function toUrlSearchParams({arg:r,searchParams:t,hashAlg:e,mtime:n,mode:i,...o}={}){t&&(o={...o,...t}),e&&(o.hash=e),n!=null&&(n=parseMtime$1(n),o.mtime=n.secs,o.mtimeNsecs=n.nsecs),i!=null&&(o.mode=modeToString$1(i)),o.timeout&&!isNaN(o.timeout)&&(o.timeout=`${o.timeout}ms`),r==null?r=[]:Array.isArray(r)||(r=[r]);const s=new URLSearchParams(o);return r.forEach(a=>s.append("arg",a)),s}const createWantlist=configure(r=>{async function t(e={}){return((await(await r.post("bitswap/wantlist",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()).Keys||[]).map(i=>CID$1.parse(i["/"]))}return t}),createWantlistForPeer=configure(r=>{async function t(e,n={}){return((await(await r.post("bitswap/wantlist",{signal:n.signal,searchParams:toUrlSearchParams({...n,peer:e.toString()}),headers:n.headers})).json()).Keys||[]).map(o=>CID$1.parse(o["/"]))}return t}),symbol=Symbol.for("@libp2p/peer-id"),inspect=Symbol.for("nodejs.util.inspect.custom"),baseDecoder=Object.values(bases$3).map(r=>r.decoder).reduce((r,t)=>r.or(t),bases$3.identity.decoder),LIBP2P_KEY_CODE=114,MARSHALLED_ED225519_PUBLIC_KEY_LENGTH=36,MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH=37;class PeerIdImpl{type;multihash;privateKey;publicKey;string;constructor(t){this.type=t.type,this.multihash=t.multihash,this.privateKey=t.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[symbol]=!0;toString(){return this.string==null&&(this.string=base58btc$3.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID$1.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(t){if(t instanceof Uint8Array)return equals$3(this.multihash.bytes,t);if(typeof t=="string")return peerIdFromString(t).equals(this);if(t?.multihash?.bytes!=null)return equals$3(this.multihash.bytes,t.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}class RSAPeerIdImpl extends PeerIdImpl{type="RSA";publicKey;constructor(t){super({...t,type:"RSA"}),this.publicKey=t.publicKey}}class Ed25519PeerIdImpl extends PeerIdImpl{type="Ed25519";publicKey;constructor(t){super({...t,type:"Ed25519"}),this.publicKey=t.multihash.digest}}class Secp256k1PeerIdImpl extends PeerIdImpl{type="secp256k1";publicKey;constructor(t){super({...t,type:"secp256k1"}),this.publicKey=t.multihash.digest}}function peerIdFromString(r,t){if(r.charAt(0)==="1"||r.charAt(0)==="Q"){const e=decode$q(base58btc$3.decode(`z${r}`));return r.startsWith("12D")?new Ed25519PeerIdImpl({multihash:e}):r.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:e}):new RSAPeerIdImpl({multihash:e})}return peerIdFromBytes(baseDecoder.decode(r))}function peerIdFromBytes(r){try{const t=decode$q(r);if(t.code===identity$4.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return peerIdFromCID(CID$1.decode(r))}throw new Error("Supplied PeerID CID is invalid")}function peerIdFromCID(r){if(r==null||r.multihash==null||r.version==null||r.version===1&&r.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=r.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:r.multihash});if(t.code===identity$4.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:r.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:r.multihash})}throw new Error("Supplied PeerID CID is invalid")}const createStat$4=configure(r=>{async function t(e={}){const n=await r.post("bitswap/stat",{searchParams:toUrlSearchParams(e),signal:e.signal,headers:e.headers});return toCoreInterface$4(await n.json())}return t});function toCoreInterface$4(r){return{provideBufLen:r.ProvideBufLen,wantlist:(r.Wantlist||[]).map(t=>CID$1.parse(t["/"])),peers:(r.Peers||[]).map(t=>peerIdFromString(t)),blocksReceived:BigInt(r.BlocksReceived),dataReceived:BigInt(r.DataReceived),blocksSent:BigInt(r.BlocksSent),dataSent:BigInt(r.DataSent),dupBlksReceived:BigInt(r.DupBlksReceived),dupDataReceived:BigInt(r.DupDataReceived)}}const createUnwant=configure(r=>{async function t(e,n={}){return(await r.post("bitswap/unwant",{signal:n.signal,searchParams:toUrlSearchParams({arg:e.toString(),...n}),headers:n.headers})).json()}return t});function createBitswap(r){return{wantlist:createWantlist(r),wantlistForPeer:createWantlistForPeer(r),unwant:createUnwant(r),stat:createStat$4(r)}}const createGet$5=configure(r=>{async function t(e,n={}){const i=await r.post("block/get",{signal:n.signal,searchParams:toUrlSearchParams({arg:e.toString(),...n}),headers:n.headers});return new Uint8Array(await i.arrayBuffer())}return t});function peekableIterator(r){const[t,e]=r[Symbol.asyncIterator]!=null?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:i=>{n.push(i)},next:()=>n.length>0?{done:!1,value:n.shift()}:t.next(),[e](){return this}}}async function*browserReadableStreamToIt(r,t={}){const e=r.getReader();try{for(;;){const n=await e.read();if(n.done)return;yield n.value}}finally{t.preventCancel!==!0&&await e.cancel(),e.releaseLock()}}async function all(r){const t=[];for await(const e of r)t.push(e);return t}function isBytes(r){return ArrayBuffer.isView(r)||r instanceof ArrayBuffer}function isBlob(r){return r.constructor&&(r.constructor.name==="Blob"||r.constructor.name==="File")&&typeof r.stream=="function"}function isFileObject(r){return typeof r=="object"&&(r.path||r.content)}const isReadableStream=r=>r&&typeof r.getReader=="function";async function normaliseContent$1(r){if(isBytes(r))return new Blob([r]);if(typeof r=="string"||r instanceof String)return new Blob([r.toString()]);if(isBlob(r))return r;if(isReadableStream(r)&&(r=browserReadableStreamToIt(r)),Symbol.iterator in r||Symbol.asyncIterator in r){const t=peekableIterator(r),{value:e,done:n}=await t.peek();if(n)return itToBlob(t);if(t.push(e),Number.isInteger(e))return new Blob([Uint8Array.from(await all(t))]);if(isBytes(e)||typeof e=="string"||e instanceof String)return itToBlob(t)}throw errCode(new Error(`Unexpected input: ${r}`),"ERR_UNEXPECTED_INPUT")}async function itToBlob(r){const t=[];for await(const e of r)t.push(e);return new Blob(t)}async function*map(r,t){for await(const e of r)yield t(e)}var indexMinimal$3={},minimal$7={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=r;function r(t,e){for(var n=new Array(arguments.length-1),i=0,o=2,s=!0;o<arguments.length;)n[i++]=arguments[o++];return new Promise(function(c,y){n[i]=function(h){if(s)if(s=!1,h)y(h);else{for(var l=new Array(arguments.length-1),w=0;w<l.length;)l[w++]=arguments[w];c.apply(null,l)}};try{t.apply(e||null,n)}catch(g){s&&(s=!1,y(g))}})}return aspromise}var base64$2={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(r){var t=r;t.length=function(a){var c=a.length;if(!c)return 0;for(var y=0;--c%4>1&&a.charAt(c)==="=";)++y;return Math.ceil(a.length*3)/4-y};for(var e=new Array(64),n=new Array(123),i=0;i<64;)n[e[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(a,c,y){for(var g=null,h=[],l=0,w=0,u;c<y;){var p=a[c++];switch(w){case 0:h[l++]=e[p>>2],u=(p&3)<<4,w=1;break;case 1:h[l++]=e[u|p>>4],u=(p&15)<<2,w=2;break;case 2:h[l++]=e[u|p>>6],h[l++]=e[p&63],w=0;break}l>8191&&((g||(g=[])).push(String.fromCharCode.apply(String,h)),l=0)}return w&&(h[l++]=e[u],h[l++]=61,w===1&&(h[l++]=61)),g?(l&&g.push(String.fromCharCode.apply(String,h.slice(0,l))),g.join("")):String.fromCharCode.apply(String,h.slice(0,l))};var o="invalid encoding";t.decode=function(a,c,y){for(var g=y,h=0,l,w=0;w<a.length;){var u=a.charCodeAt(w++);if(u===61&&h>1)break;if((u=n[u])===void 0)throw Error(o);switch(h){case 0:l=u,h=1;break;case 1:c[y++]=l<<2|(u&48)>>4,l=u,h=2;break;case 2:c[y++]=(l&15)<<4|(u&60)>>2,l=u,h=3;break;case 3:c[y++]=(l&3)<<6|u,h=0;break}}if(h===1)throw Error(o);return y-g},t.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}})(base64$2)),base64$2}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=r;function r(){this._listeners={}}return r.prototype.on=function(e,n,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:n,ctx:i||this}),this},r.prototype.off=function(e,n){if(e===void 0)this._listeners={};else if(n===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],o=0;o<i.length;)i[o].fn===n?i.splice(o,1):++o;return this},r.prototype.emit=function(e){var n=this._listeners[e];if(n){for(var i=[],o=1;o<arguments.length;)i.push(arguments[o++]);for(o=0;o<n.length;)n[o].fn.apply(n[o++].ctx,i)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=r(r);function r(o){return typeof Float32Array<"u"?(function(){var s=new Float32Array([-0]),a=new Uint8Array(s.buffer),c=a[3]===128;function y(w,u,p){s[0]=w,u[p]=a[0],u[p+1]=a[1],u[p+2]=a[2],u[p+3]=a[3]}function g(w,u,p){s[0]=w,u[p]=a[3],u[p+1]=a[2],u[p+2]=a[1],u[p+3]=a[0]}o.writeFloatLE=c?y:g,o.writeFloatBE=c?g:y;function h(w,u){return a[0]=w[u],a[1]=w[u+1],a[2]=w[u+2],a[3]=w[u+3],s[0]}function l(w,u){return a[3]=w[u],a[2]=w[u+1],a[1]=w[u+2],a[0]=w[u+3],s[0]}o.readFloatLE=c?h:l,o.readFloatBE=c?l:h})():(function(){function s(c,y,g,h){var l=y<0?1:0;if(l&&(y=-y),y===0)c(1/y>0?0:2147483648,g,h);else if(isNaN(y))c(2143289344,g,h);else if(y>34028234663852886e22)c((l<<31|2139095040)>>>0,g,h);else if(y<11754943508222875e-54)c((l<<31|Math.round(y/1401298464324817e-60))>>>0,g,h);else{var w=Math.floor(Math.log(y)/Math.LN2),u=Math.round(y*Math.pow(2,-w)*8388608)&8388607;c((l<<31|w+127<<23|u)>>>0,g,h)}}o.writeFloatLE=s.bind(null,t),o.writeFloatBE=s.bind(null,e);function a(c,y,g){var h=c(y,g),l=(h>>31)*2+1,w=h>>>23&255,u=h&8388607;return w===255?u?NaN:l*(1/0):w===0?l*1401298464324817e-60*u:l*Math.pow(2,w-150)*(u+8388608)}o.readFloatLE=a.bind(null,n),o.readFloatBE=a.bind(null,i)})(),typeof Float64Array<"u"?(function(){var s=new Float64Array([-0]),a=new Uint8Array(s.buffer),c=a[7]===128;function y(w,u,p){s[0]=w,u[p]=a[0],u[p+1]=a[1],u[p+2]=a[2],u[p+3]=a[3],u[p+4]=a[4],u[p+5]=a[5],u[p+6]=a[6],u[p+7]=a[7]}function g(w,u,p){s[0]=w,u[p]=a[7],u[p+1]=a[6],u[p+2]=a[5],u[p+3]=a[4],u[p+4]=a[3],u[p+5]=a[2],u[p+6]=a[1],u[p+7]=a[0]}o.writeDoubleLE=c?y:g,o.writeDoubleBE=c?g:y;function h(w,u){return a[0]=w[u],a[1]=w[u+1],a[2]=w[u+2],a[3]=w[u+3],a[4]=w[u+4],a[5]=w[u+5],a[6]=w[u+6],a[7]=w[u+7],s[0]}function l(w,u){return a[7]=w[u],a[6]=w[u+1],a[5]=w[u+2],a[4]=w[u+3],a[3]=w[u+4],a[2]=w[u+5],a[1]=w[u+6],a[0]=w[u+7],s[0]}o.readDoubleLE=c?h:l,o.readDoubleBE=c?l:h})():(function(){function s(c,y,g,h,l,w){var u=h<0?1:0;if(u&&(h=-h),h===0)c(0,l,w+y),c(1/h>0?0:2147483648,l,w+g);else if(isNaN(h))c(0,l,w+y),c(2146959360,l,w+g);else if(h>17976931348623157e292)c(0,l,w+y),c((u<<31|2146435072)>>>0,l,w+g);else{var p;if(h<22250738585072014e-324)p=h/5e-324,c(p>>>0,l,w+y),c((u<<31|p/4294967296)>>>0,l,w+g);else{var $=Math.floor(Math.log(h)/Math.LN2);$===1024&&($=1023),p=h*Math.pow(2,-$),c(p*4503599627370496>>>0,l,w+y),c((u<<31|$+1023<<20|p*1048576&1048575)>>>0,l,w+g)}}}o.writeDoubleLE=s.bind(null,t,0,4),o.writeDoubleBE=s.bind(null,e,4,0);function a(c,y,g,h,l){var w=c(h,l+y),u=c(h,l+g),p=(u>>31)*2+1,$=u>>>20&2047,f=4294967296*(u&1048575)+w;return $===2047?f?NaN:p*(1/0):$===0?p*5e-324*f:p*Math.pow(2,$-1075)*(f+4503599627370496)}o.readDoubleLE=a.bind(null,n,0,4),o.readDoubleBE=a.bind(null,i,4,0)})(),o}function t(o,s,a){s[a]=o&255,s[a+1]=o>>>8&255,s[a+2]=o>>>16&255,s[a+3]=o>>>24}function e(o,s,a){s[a]=o>>>24,s[a+1]=o>>>16&255,s[a+2]=o>>>8&255,s[a+3]=o&255}function n(o,s){return(o[s]|o[s+1]<<8|o[s+2]<<16|o[s+3]<<24)>>>0}function i(o,s){return(o[s]<<24|o[s+1]<<16|o[s+2]<<8|o[s+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(r){var t=r;t.length=function(n){for(var i=0,o=0,s=0;s<n.length;++s)o=n.charCodeAt(s),o<128?i+=1:o<2048?i+=2:(o&64512)===55296&&(n.charCodeAt(s+1)&64512)===56320?(++s,i+=4):i+=3;return i},t.read=function(n,i,o){var s=o-i;if(s<1)return"";for(var a=null,c=[],y=0,g;i<o;)g=n[i++],g<128?c[y++]=g:g>191&&g<224?c[y++]=(g&31)<<6|n[i++]&63:g>239&&g<365?(g=((g&7)<<18|(n[i++]&63)<<12|(n[i++]&63)<<6|n[i++]&63)-65536,c[y++]=55296+(g>>10),c[y++]=56320+(g&1023)):c[y++]=(g&15)<<12|(n[i++]&63)<<6|n[i++]&63,y>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,c)),y=0);return a?(y&&a.push(String.fromCharCode.apply(String,c.slice(0,y))),a.join("")):String.fromCharCode.apply(String,c.slice(0,y))},t.write=function(n,i,o){for(var s=o,a,c,y=0;y<n.length;++y)a=n.charCodeAt(y),a<128?i[o++]=a:a<2048?(i[o++]=a>>6|192,i[o++]=a&63|128):(a&64512)===55296&&((c=n.charCodeAt(y+1))&64512)===56320?(a=65536+((a&1023)<<10)+(c&1023),++y,i[o++]=a>>18|240,i[o++]=a>>12&63|128,i[o++]=a>>6&63|128,i[o++]=a&63|128):(i[o++]=a>>12|224,i[o++]=a>>6&63|128,i[o++]=a&63|128);return o-s}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=r;function r(t,e,n){var i=n||8192,o=i>>>1,s=null,a=i;return function(y){if(y<1||y>o)return t(y);a+y>i&&(s=t(i),a=0);var g=e.call(s,a,a+=y);return a&7&&(a=(a|7)+1),g}}return pool_1}var longbits$3,hasRequiredLongbits$3;function requireLongbits$3(){if(hasRequiredLongbits$3)return longbits$3;hasRequiredLongbits$3=1,longbits$3=t;var r=requireMinimal$7();function t(o,s){this.lo=o>>>0,this.hi=s>>>0}var e=t.zero=new t(0,0);e.toNumber=function(){return 0},e.zzEncode=e.zzDecode=function(){return this},e.length=function(){return 1};var n=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(s){if(s===0)return e;var a=s<0;a&&(s=-s);var c=s>>>0,y=(s-c)/4294967296>>>0;return a&&(y=~y>>>0,c=~c>>>0,++c>4294967295&&(c=0,++y>4294967295&&(y=0))),new t(c,y)},t.from=function(s){if(typeof s=="number")return t.fromNumber(s);if(r.isString(s))if(r.Long)s=r.Long.fromString(s);else return t.fromNumber(parseInt(s,10));return s.low||s.high?new t(s.low>>>0,s.high>>>0):e},t.prototype.toNumber=function(s){if(!s&&this.hi>>>31){var a=~this.lo+1>>>0,c=~this.hi>>>0;return a||(c=c+1>>>0),-(a+c*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(s){return r.Long?new r.Long(this.lo|0,this.hi|0,!!s):{low:this.lo|0,high:this.hi|0,unsigned:!!s}};var i=String.prototype.charCodeAt;return t.fromHash=function(s){return s===n?e:new t((i.call(s,0)|i.call(s,1)<<8|i.call(s,2)<<16|i.call(s,3)<<24)>>>0,(i.call(s,4)|i.call(s,5)<<8|i.call(s,6)<<16|i.call(s,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},t.prototype.zzDecode=function(){var s=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},t.prototype.length=function(){var s=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?a===0?s<16384?s<128?1:2:s<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:c<128?9:10},longbits$3}var hasRequiredMinimal$7;function requireMinimal$7(){return hasRequiredMinimal$7||(hasRequiredMinimal$7=1,(function(r){var t=r;t.asPromise=requireAspromise(),t.base64=requireBase64(),t.EventEmitter=requireEventemitter(),t.float=requireFloat(),t.inquire=requireInquire(),t.utf8=requireUtf8(),t.pool=requirePool(),t.LongBits=requireLongbits$3(),t.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$7,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,s){var a=o[s];return a!=null&&o.hasOwnProperty(s)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1},t.Buffer=(function(){try{var i=t.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}})(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,s){var a=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(a.lo,a.hi,s):a.toNumber(!!s)};function e(i,o,s){for(var a=Object.keys(o),c=0;c<a.length;++c)(i[a[c]]===void 0||!s)&&(i[a[c]]=o[a[c]]);return i}t.merge=e,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function n(i){function o(s,a){if(!(this instanceof o))return new o(s,a);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&e(this,a)}return o.prototype=Object.create(Error.prototype,{constructor:{value:o,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return i},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),o}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(o){for(var s={},a=0;a<o.length;++a)s[o[a]]=1;return function(){for(var c=Object.keys(this),y=c.length-1;y>-1;--y)if(s[c[y]]===1&&this[c[y]]!==void 0&&this[c[y]]!==null)return c[y]}},t.oneOfSetter=function(o){return function(s){for(var a=0;a<o.length;++a)o[a]!==s&&delete this[o[a]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var i=t.Buffer;if(!i){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=i.from!==Uint8Array.from&&i.from||function(s,a){return new i(s,a)},t._Buffer_allocUnsafe=i.allocUnsafe||function(s){return new i(s)}}})(minimal$7)),minimal$7}var writer$3,hasRequiredWriter$3;function requireWriter$3(){if(hasRequiredWriter$3)return writer$3;hasRequiredWriter$3=1,writer$3=c;var r=requireMinimal$7(),t,e=r.LongBits,n=r.base64,i=r.utf8;function o($,f,m){this.fn=$,this.len=f,this.next=void 0,this.val=m}function s(){}function a($){this.head=$.head,this.tail=$.tail,this.len=$.len,this.next=$.states}function c(){this.len=0,this.head=new o(s,0,0),this.tail=this.head,this.states=null}var y=function(){return r.Buffer?function(){return(c.create=function(){return new t})()}:function(){return new c}};c.create=y(),c.alloc=function(f){return new r.Array(f)},r.Array!==Array&&(c.alloc=r.pool(c.alloc,r.Array.prototype.subarray)),c.prototype._push=function(f,m,E){return this.tail=this.tail.next=new o(f,m,E),this.len+=m,this};function g($,f,m){f[m]=$&255}function h($,f,m){for(;$>127;)f[m++]=$&127|128,$>>>=7;f[m]=$}function l($,f){this.len=$,this.next=void 0,this.val=f}l.prototype=Object.create(o.prototype),l.prototype.fn=h,c.prototype.uint32=function(f){return this.len+=(this.tail=this.tail.next=new l((f=f>>>0)<128?1:f<16384?2:f<2097152?3:f<268435456?4:5,f)).len,this},c.prototype.int32=function(f){return f<0?this._push(w,10,e.fromNumber(f)):this.uint32(f)},c.prototype.sint32=function(f){return this.uint32((f<<1^f>>31)>>>0)};function w($,f,m){for(;$.hi;)f[m++]=$.lo&127|128,$.lo=($.lo>>>7|$.hi<<25)>>>0,$.hi>>>=7;for(;$.lo>127;)f[m++]=$.lo&127|128,$.lo=$.lo>>>7;f[m++]=$.lo}c.prototype.uint64=function(f){var m=e.from(f);return this._push(w,m.length(),m)},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(f){var m=e.from(f).zzEncode();return this._push(w,m.length(),m)},c.prototype.bool=function(f){return this._push(g,1,f?1:0)};function u($,f,m){f[m]=$&255,f[m+1]=$>>>8&255,f[m+2]=$>>>16&255,f[m+3]=$>>>24}c.prototype.fixed32=function(f){return this._push(u,4,f>>>0)},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(f){var m=e.from(f);return this._push(u,4,m.lo)._push(u,4,m.hi)},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(f){return this._push(r.float.writeFloatLE,4,f)},c.prototype.double=function(f){return this._push(r.float.writeDoubleLE,8,f)};var p=r.Array.prototype.set?function(f,m,E){m.set(f,E)}:function(f,m,E){for(var T=0;T<f.length;++T)m[E+T]=f[T]};return c.prototype.bytes=function(f){var m=f.length>>>0;if(!m)return this._push(g,1,0);if(r.isString(f)){var E=c.alloc(m=n.length(f));n.decode(f,E,0),f=E}return this.uint32(m)._push(p,m,f)},c.prototype.string=function(f){var m=i.length(f);return m?this.uint32(m)._push(i.write,m,f):this._push(g,1,0)},c.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new o(s,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(s,0,0),this.len=0),this},c.prototype.ldelim=function(){var f=this.head,m=this.tail,E=this.len;return this.reset().uint32(E),E&&(this.tail.next=f.next,this.tail=m,this.len+=E),this},c.prototype.finish=function(){for(var f=this.head.next,m=this.constructor.alloc(this.len),E=0;f;)f.fn(f.val,m,E),E+=f.len,f=f.next;return m},c._configure=function($){t=$,c.create=y(),t._configure()},writer$3}var writer_buffer$3,hasRequiredWriter_buffer$3;function requireWriter_buffer$3(){if(hasRequiredWriter_buffer$3)return writer_buffer$3;hasRequiredWriter_buffer$3=1,writer_buffer$3=e;var r=requireWriter$3();(e.prototype=Object.create(r.prototype)).constructor=e;var t=requireMinimal$7();function e(){r.call(this)}e._configure=function(){e.alloc=t._Buffer_allocUnsafe,e.writeBytesBuffer=t.Buffer&&t.Buffer.prototype instanceof Uint8Array&&t.Buffer.prototype.set.name==="set"?function(o,s,a){s.set(o,a)}:function(o,s,a){if(o.copy)o.copy(s,a,0,o.length);else for(var c=0;c<o.length;)s[a++]=o[c++]}},e.prototype.bytes=function(o){t.isString(o)&&(o=t._Buffer_from(o,"base64"));var s=o.length>>>0;return this.uint32(s),s&&this._push(e.writeBytesBuffer,s,o),this};function n(i,o,s){i.length<40?t.utf8.write(i,o,s):o.utf8Write?o.utf8Write(i,s):o.write(i,s)}return e.prototype.string=function(o){var s=t.Buffer.byteLength(o);return this.uint32(s),s&&this._push(n,s,o),this},e._configure(),writer_buffer$3}var reader$3,hasRequiredReader$3;function requireReader$3(){if(hasRequiredReader$3)return reader$3;hasRequiredReader$3=1,reader$3=o;var r=requireMinimal$7(),t,e=r.LongBits,n=r.utf8;function i(h,l){return RangeError("index out of range: "+h.pos+" + "+(l||1)+" > "+h.len)}function o(h){this.buf=h,this.pos=0,this.len=h.length}var s=typeof Uint8Array<"u"?function(l){if(l instanceof Uint8Array||Array.isArray(l))return new o(l);throw Error("illegal buffer")}:function(l){if(Array.isArray(l))return new o(l);throw Error("illegal buffer")},a=function(){return r.Buffer?function(w){return(o.create=function(p){return r.Buffer.isBuffer(p)?new t(p):s(p)})(w)}:s};o.create=a(),o.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,o.prototype.uint32=(function(){var l=4294967295;return function(){if(l=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(l=(l|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return l;if((this.pos+=5)>this.len)throw this.pos=this.len,i(this,10);return l}})(),o.prototype.int32=function(){return this.uint32()|0},o.prototype.sint32=function(){var l=this.uint32();return l>>>1^-(l&1)|0};function c(){var h=new e(0,0),l=0;if(this.len-this.pos>4){for(;l<4;++l)if(h.lo=(h.lo|(this.buf[this.pos]&127)<<l*7)>>>0,this.buf[this.pos++]<128)return h;if(h.lo=(h.lo|(this.buf[this.pos]&127)<<28)>>>0,h.hi=(h.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return h;l=0}else{for(;l<3;++l){if(this.pos>=this.len)throw i(this);if(h.lo=(h.lo|(this.buf[this.pos]&127)<<l*7)>>>0,this.buf[this.pos++]<128)return h}return h.lo=(h.lo|(this.buf[this.pos++]&127)<<l*7)>>>0,h}if(this.len-this.pos>4){for(;l<5;++l)if(h.hi=(h.hi|(this.buf[this.pos]&127)<<l*7+3)>>>0,this.buf[this.pos++]<128)return h}else for(;l<5;++l){if(this.pos>=this.len)throw i(this);if(h.hi=(h.hi|(this.buf[this.pos]&127)<<l*7+3)>>>0,this.buf[this.pos++]<128)return h}throw Error("invalid varint encoding")}o.prototype.bool=function(){return this.uint32()!==0};function y(h,l){return(h[l-4]|h[l-3]<<8|h[l-2]<<16|h[l-1]<<24)>>>0}o.prototype.fixed32=function(){if(this.pos+4>this.len)throw i(this,4);return y(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i(this,4);return y(this.buf,this.pos+=4)|0};function g(){if(this.pos+8>this.len)throw i(this,8);return new e(y(this.buf,this.pos+=4),y(this.buf,this.pos+=4))}return o.prototype.float=function(){if(this.pos+4>this.len)throw i(this,4);var l=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,l},o.prototype.double=function(){if(this.pos+8>this.len)throw i(this,4);var l=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,l},o.prototype.bytes=function(){var l=this.uint32(),w=this.pos,u=this.pos+l;if(u>this.len)throw i(this,l);if(this.pos+=l,Array.isArray(this.buf))return this.buf.slice(w,u);if(w===u){var p=r.Buffer;return p?p.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,w,u)},o.prototype.string=function(){var l=this.bytes();return n.read(l,0,l.length)},o.prototype.skip=function(l){if(typeof l=="number"){if(this.pos+l>this.len)throw i(this,l);this.pos+=l}else do if(this.pos>=this.len)throw i(this);while(this.buf[this.pos++]&128);return this},o.prototype.skipType=function(h){switch(h){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(h=this.uint32()&7)!==4;)this.skipType(h);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+h+" at offset "+this.pos)}return this},o._configure=function(h){t=h,o.create=a(),t._configure();var l=r.Long?"toLong":"toNumber";r.merge(o.prototype,{int64:function(){return c.call(this)[l](!1)},uint64:function(){return c.call(this)[l](!0)},sint64:function(){return c.call(this).zzDecode()[l](!1)},fixed64:function(){return g.call(this)[l](!0)},sfixed64:function(){return g.call(this)[l](!1)}})},reader$3}var reader_buffer$3,hasRequiredReader_buffer$3;function requireReader_buffer$3(){if(hasRequiredReader_buffer$3)return reader_buffer$3;hasRequiredReader_buffer$3=1,reader_buffer$3=e;var r=requireReader$3();(e.prototype=Object.create(r.prototype)).constructor=e;var t=requireMinimal$7();function e(n){r.call(this,n)}return e._configure=function(){t.Buffer&&(e.prototype._slice=t.Buffer.prototype.slice)},e.prototype.string=function(){var i=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+i,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+i,this.len))},e._configure(),reader_buffer$3}var rpc$3={},service$3,hasRequiredService$3;function requireService$3(){if(hasRequiredService$3)return service$3;hasRequiredService$3=1,service$3=t;var r=requireMinimal$7();(t.prototype=Object.create(r.EventEmitter.prototype)).constructor=t;function t(e,n,i){if(typeof e!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!n,this.responseDelimited=!!i}return t.prototype.rpcCall=function e(n,i,o,s,a){if(!s)throw TypeError("request must be specified");var c=this;if(!a)return r.asPromise(e,c,n,i,o,s);if(!c.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return c.rpcImpl(n,i[c.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(g,h){if(g)return c.emit("error",g,n),a(g);if(h===null){c.end(!0);return}if(!(h instanceof o))try{h=o[c.responseDelimited?"decodeDelimited":"decode"](h)}catch(l){return c.emit("error",l,n),a(l)}return c.emit("data",h,n),a(null,h)})}catch(y){c.emit("error",y,n),setTimeout(function(){a(y)},0);return}},t.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$3}var hasRequiredRpc$3;function requireRpc$3(){return hasRequiredRpc$3||(hasRequiredRpc$3=1,(function(r){var t=r;t.Service=requireService$3()})(rpc$3)),rpc$3}var roots$3,hasRequiredRoots$3;function requireRoots$3(){return hasRequiredRoots$3||(hasRequiredRoots$3=1,roots$3={}),roots$3}var hasRequiredIndexMinimal$3;function requireIndexMinimal$3(){return hasRequiredIndexMinimal$3||(hasRequiredIndexMinimal$3=1,(function(r){var t=r;t.build="minimal",t.Writer=requireWriter$3(),t.BufferWriter=requireWriter_buffer$3(),t.Reader=requireReader$3(),t.BufferReader=requireReader_buffer$3(),t.util=requireMinimal$7(),t.rpc=requireRpc$3(),t.roots=requireRoots$3(),t.configure=e;function e(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}e()})(indexMinimal$3)),indexMinimal$3}var minimal$6,hasRequiredMinimal$6;function requireMinimal$6(){return hasRequiredMinimal$6||(hasRequiredMinimal$6=1,minimal$6=requireIndexMinimal$3()),minimal$6}var minimalExports$3=requireMinimal$6();const $protobuf$3=getDefaultExportFromCjs(minimalExports$3),$Reader$3=$protobuf$3.Reader,$Writer$3=$protobuf$3.Writer,$util$3=$protobuf$3.util,$root$3=$protobuf$3.roots["ipfs-unixfs"]||($protobuf$3.roots["ipfs-unixfs"]={});$root$3.Data=(()=>{function r(t){if(this.blocksizes=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.Type=0,r.prototype.Data=$util$3.newBuffer([]),r.prototype.filesize=$util$3.Long?$util$3.Long.fromBits(0,0,!0):0,r.prototype.blocksizes=$util$3.emptyArray,r.prototype.hashType=$util$3.Long?$util$3.Long.fromBits(0,0,!0):0,r.prototype.fanout=$util$3.Long?$util$3.Long.fromBits(0,0,!0):0,r.prototype.mode=0,r.prototype.mtime=null,r.encode=function(e,n){if(n||(n=$Writer$3.create()),n.uint32(8).int32(e.Type),e.Data!=null&&Object.hasOwnProperty.call(e,"Data")&&n.uint32(18).bytes(e.Data),e.filesize!=null&&Object.hasOwnProperty.call(e,"filesize")&&n.uint32(24).uint64(e.filesize),e.blocksizes!=null&&e.blocksizes.length)for(var i=0;i<e.blocksizes.length;++i)n.uint32(32).uint64(e.blocksizes[i]);return e.hashType!=null&&Object.hasOwnProperty.call(e,"hashType")&&n.uint32(40).uint64(e.hashType),e.fanout!=null&&Object.hasOwnProperty.call(e,"fanout")&&n.uint32(48).uint64(e.fanout),e.mode!=null&&Object.hasOwnProperty.call(e,"mode")&&n.uint32(56).uint32(e.mode),e.mtime!=null&&Object.hasOwnProperty.call(e,"mtime")&&$root$3.UnixTime.encode(e.mtime,n.uint32(66).fork()).ldelim(),n},r.decode=function(e,n){e instanceof $Reader$3||(e=$Reader$3.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root$3.Data;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.Type=e.int32();break;case 2:o.Data=e.bytes();break;case 3:o.filesize=e.uint64();break;case 4:if(o.blocksizes&&o.blocksizes.length||(o.blocksizes=[]),(s&7)===2)for(var a=e.uint32()+e.pos;e.pos<a;)o.blocksizes.push(e.uint64());else o.blocksizes.push(e.uint64());break;case 5:o.hashType=e.uint64();break;case 6:o.fanout=e.uint64();break;case 7:o.mode=e.uint32();break;case 8:o.mtime=$root$3.UnixTime.decode(e,e.uint32());break;default:e.skipType(s&7);break}}if(!o.hasOwnProperty("Type"))throw $util$3.ProtocolError("missing required 'Type'",{instance:o});return o},r.fromObject=function(e){if(e instanceof $root$3.Data)return e;var n=new $root$3.Data;switch(e.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(e.Data!=null&&(typeof e.Data=="string"?$util$3.base64.decode(e.Data,n.Data=$util$3.newBuffer($util$3.base64.length(e.Data)),0):e.Data.length&&(n.Data=e.Data)),e.filesize!=null&&($util$3.Long?(n.filesize=$util$3.Long.fromValue(e.filesize)).unsigned=!0:typeof e.filesize=="string"?n.filesize=parseInt(e.filesize,10):typeof e.filesize=="number"?n.filesize=e.filesize:typeof e.filesize=="object"&&(n.filesize=new $util$3.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)$util$3.Long?(n.blocksizes[i]=$util$3.Long.fromValue(e.blocksizes[i])).unsigned=!0:typeof e.blocksizes[i]=="string"?n.blocksizes[i]=parseInt(e.blocksizes[i],10):typeof e.blocksizes[i]=="number"?n.blocksizes[i]=e.blocksizes[i]:typeof e.blocksizes[i]=="object"&&(n.blocksizes[i]=new $util$3.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0))}if(e.hashType!=null&&($util$3.Long?(n.hashType=$util$3.Long.fromValue(e.hashType)).unsigned=!0:typeof e.hashType=="string"?n.hashType=parseInt(e.hashType,10):typeof e.hashType=="number"?n.hashType=e.hashType:typeof e.hashType=="object"&&(n.hashType=new $util$3.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),e.fanout!=null&&($util$3.Long?(n.fanout=$util$3.Long.fromValue(e.fanout)).unsigned=!0:typeof e.fanout=="string"?n.fanout=parseInt(e.fanout,10):typeof e.fanout=="number"?n.fanout=e.fanout:typeof e.fanout=="object"&&(n.fanout=new $util$3.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),e.mode!=null&&(n.mode=e.mode>>>0),e.mtime!=null){if(typeof e.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=$root$3.UnixTime.fromObject(e.mtime)}return n},r.toObject=function(e,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocksizes=[]),n.defaults){if(i.Type=n.enums===String?"Raw":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=$util$3.newBuffer(i.Data))),$util$3.Long){var o=new $util$3.Long(0,0,!0);i.filesize=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.filesize=n.longs===String?"0":0;if($util$3.Long){var o=new $util$3.Long(0,0,!0);i.hashType=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.hashType=n.longs===String?"0":0;if($util$3.Long){var o=new $util$3.Long(0,0,!0);i.fanout=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.fanout=n.longs===String?"0":0;i.mode=0,i.mtime=null}if(e.Type!=null&&e.hasOwnProperty("Type")&&(i.Type=n.enums===String?$root$3.Data.DataType[e.Type]:e.Type),e.Data!=null&&e.hasOwnProperty("Data")&&(i.Data=n.bytes===String?$util$3.base64.encode(e.Data,0,e.Data.length):n.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),e.filesize!=null&&e.hasOwnProperty("filesize")&&(typeof e.filesize=="number"?i.filesize=n.longs===String?String(e.filesize):e.filesize:i.filesize=n.longs===String?$util$3.Long.prototype.toString.call(e.filesize):n.longs===Number?new $util$3.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){i.blocksizes=[];for(var s=0;s<e.blocksizes.length;++s)typeof e.blocksizes[s]=="number"?i.blocksizes[s]=n.longs===String?String(e.blocksizes[s]):e.blocksizes[s]:i.blocksizes[s]=n.longs===String?$util$3.Long.prototype.toString.call(e.blocksizes[s]):n.longs===Number?new $util$3.LongBits(e.blocksizes[s].low>>>0,e.blocksizes[s].high>>>0).toNumber(!0):e.blocksizes[s]}return e.hashType!=null&&e.hasOwnProperty("hashType")&&(typeof e.hashType=="number"?i.hashType=n.longs===String?String(e.hashType):e.hashType:i.hashType=n.longs===String?$util$3.Long.prototype.toString.call(e.hashType):n.longs===Number?new $util$3.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),e.fanout!=null&&e.hasOwnProperty("fanout")&&(typeof e.fanout=="number"?i.fanout=n.longs===String?String(e.fanout):e.fanout:i.fanout=n.longs===String?$util$3.Long.prototype.toString.call(e.fanout):n.longs===Number?new $util$3.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),e.mode!=null&&e.hasOwnProperty("mode")&&(i.mode=e.mode),e.mtime!=null&&e.hasOwnProperty("mtime")&&(i.mtime=$root$3.UnixTime.toObject(e.mtime,n)),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$3.util.toJSONOptions)},r.DataType=(function(){const t={},e=Object.create(t);return e[t[0]="Raw"]=0,e[t[1]="Directory"]=1,e[t[2]="File"]=2,e[t[3]="Metadata"]=3,e[t[4]="Symlink"]=4,e[t[5]="HAMTShard"]=5,e})(),r})();$root$3.UnixTime=(()=>{function r(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.Seconds=$util$3.Long?$util$3.Long.fromBits(0,0,!1):0,r.prototype.FractionalNanoseconds=0,r.encode=function(e,n){return n||(n=$Writer$3.create()),n.uint32(8).int64(e.Seconds),e.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&n.uint32(21).fixed32(e.FractionalNanoseconds),n},r.decode=function(e,n){e instanceof $Reader$3||(e=$Reader$3.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root$3.UnixTime;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.Seconds=e.int64();break;case 2:o.FractionalNanoseconds=e.fixed32();break;default:e.skipType(s&7);break}}if(!o.hasOwnProperty("Seconds"))throw $util$3.ProtocolError("missing required 'Seconds'",{instance:o});return o},r.fromObject=function(e){if(e instanceof $root$3.UnixTime)return e;var n=new $root$3.UnixTime;return e.Seconds!=null&&($util$3.Long?(n.Seconds=$util$3.Long.fromValue(e.Seconds)).unsigned=!1:typeof e.Seconds=="string"?n.Seconds=parseInt(e.Seconds,10):typeof e.Seconds=="number"?n.Seconds=e.Seconds:typeof e.Seconds=="object"&&(n.Seconds=new $util$3.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),e.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=e.FractionalNanoseconds>>>0),n},r.toObject=function(e,n){n||(n={});var i={};if(n.defaults){if($util$3.Long){var o=new $util$3.Long(0,0,!1);i.Seconds=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.Seconds=n.longs===String?"0":0;i.FractionalNanoseconds=0}return e.Seconds!=null&&e.hasOwnProperty("Seconds")&&(typeof e.Seconds=="number"?i.Seconds=n.longs===String?String(e.Seconds):e.Seconds:i.Seconds=n.longs===String?$util$3.Long.prototype.toString.call(e.Seconds):n.longs===Number?new $util$3.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),e.FractionalNanoseconds!=null&&e.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=e.FractionalNanoseconds),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$3.util.toJSONOptions)},r})();$root$3.Metadata=(()=>{function r(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.MimeType="",r.encode=function(e,n){return n||(n=$Writer$3.create()),e.MimeType!=null&&Object.hasOwnProperty.call(e,"MimeType")&&n.uint32(10).string(e.MimeType),n},r.decode=function(e,n){e instanceof $Reader$3||(e=$Reader$3.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root$3.Metadata;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.MimeType=e.string();break;default:e.skipType(s&7);break}}return o},r.fromObject=function(e){if(e instanceof $root$3.Metadata)return e;var n=new $root$3.Metadata;return e.MimeType!=null&&(n.MimeType=String(e.MimeType)),n},r.toObject=function(e,n){n||(n={});var i={};return n.defaults&&(i.MimeType=""),e.MimeType!=null&&e.hasOwnProperty("MimeType")&&(i.MimeType=e.MimeType),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$3.util.toJSONOptions)},r})();function parseMode(r){if(r!=null)return typeof r=="number"?r&4095:(r=r.toString(),r.substring(0,1)==="0"?parseInt(r,8)&4095:parseInt(r,10)&4095)}function parseMtime(r){if(r==null)return;let t;if(r.secs!=null&&(t={secs:r.secs,nsecs:r.nsecs}),r.Seconds!=null&&(t={secs:r.Seconds,nsecs:r.FractionalNanoseconds}),Array.isArray(r)&&(t={secs:r[0],nsecs:r[1]}),r instanceof Date){const e=r.getTime(),n=Math.floor(e/1e3);t={secs:n,nsecs:(e-n*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(t!=null&&t.nsecs!=null&&(t.nsecs<0||t.nsecs>999999999))throw errCode(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}async function*normaliseCandidateMultiple(r,t){if(typeof r=="string"||r instanceof String||isBytes(r)||isBlob(r)||r._readableState)throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(isReadableStream(r)&&(r=browserReadableStreamToIt(r)),Symbol.iterator in r||Symbol.asyncIterator in r){const e=peekableIterator(r),{value:n,done:i}=await e.peek();if(i){yield*[];return}if(e.push(n),Number.isInteger(n))throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*map(e,o=>toFileObject$1({content:o},t));return}if(isBytes(n)){yield toFileObject$1({content:e},t);return}if(isFileObject(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||isReadableStream(n)||isBlob(n)){yield*map(e,o=>toFileObject$1(o,t));return}}throw isFileObject(r)?errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):errCode(new Error("Unexpected input: "+typeof r),"ERR_UNEXPECTED_INPUT")}async function toFileObject$1(r,t){const{path:e,mode:n,mtime:i,content:o}=r,s={path:e||"",mode:parseMode(n),mtime:parseMtime(i)};return o?s.content=await t(o):e||(s.content=await t(r)),s}function normaliseInput$2(r){return normaliseCandidateMultiple(r,normaliseContent$1)}function modeToString(r){if(r!=null)return typeof r=="string"?r:r.toString(8).padStart(4,"0")}async function multipartRequest(r,t,e={}){const n=[],i=new FormData;let o=0,s=0;for await(const{content:a,path:c,mode:y,mtime:g}of normaliseInput$2(r)){let h="";const l=a?"file":"dir";o>0&&(h=`-${o}`);let w=l+h;const u=[];if(y!=null&&u.push(`mode=${modeToString(y)}`),g!=null){const{secs:p,nsecs:$}=g;u.push(`mtime=${p}`),$!=null&&u.push(`mtime-nsecs=${$}`)}if(u.length&&(w=`${w}?${u.join("&")}`),a){i.set(w,a,c!=null?encodeURIComponent(c):void 0);const p=s+a.size;n.push({name:c,start:s,end:p}),s=p}else if(c!=null)i.set(w,new File([""],encodeURIComponent(c),{type:"application/x-directory"}));else throw new Error("path or content or both must be set");o++}return{total:s,parts:n,headers:e,body:i}}var anySignalExports=requireAnySignal();function filter(r){return r.filter(Boolean)}function abortSignal(...r){return anySignalExports.anySignal(filter(r))}const createPut$3=configure(r=>{async function t(e,n={}){const i=new AbortController,o=abortSignal(i.signal,n.signal);let s;try{s=await(await r.post("block/put",{signal:o,searchParams:toUrlSearchParams(n),...await multipartRequest([e],i,n.headers)})).json()}catch(a){if(n.format==="dag-pb")return t(e,{...n,format:"protobuf"});if(n.format==="dag-cbor")return t(e,{...n,format:"cbor"});throw a}return CID$1.parse(s.Key)}return t}),createRm$6=configure(r=>{async function*t(e,n={}){Array.isArray(e)||(e=[e]);const i=await r.post("block/rm",{signal:n.signal,searchParams:toUrlSearchParams({arg:e.map(o=>o.toString()),"stream-channels":!0,...n}),headers:n.headers});for await(const o of i.ndjson())yield toCoreInterface$3(o)}return t});function toCoreInterface$3(r){const t={cid:CID$1.parse(r.Hash)};return r.Error&&(t.error=new Error(r.Error)),t}const createStat$3=configure(r=>{async function t(e,n={}){const o=await(await r.post("block/stat",{signal:n.signal,searchParams:toUrlSearchParams({arg:e.toString(),...n}),headers:n.headers})).json();return{cid:CID$1.parse(o.Key),size:o.Size}}return t});function createBlock(r){return{get:createGet$5(r),put:createPut$3(r),rm:createRm$6(r),stat:createStat$3(r)}}const createAdd$4=configure(r=>{async function t(e,n={}){const i=await r.post("bootstrap/add",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers}),{Peers:o}=await i.json();return{Peers:o.map(s=>multiaddr$1(s))}}return t}),createClear=configure(r=>{async function t(e={}){const n=await r.post("bootstrap/rm",{signal:e.signal,searchParams:toUrlSearchParams({...e,all:!0}),headers:e.headers}),{Peers:i}=await n.json();return{Peers:i.map(o=>multiaddr$1(o))}}return t}),createList$2=configure(r=>{async function t(e={}){const n=await r.post("bootstrap/list",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers}),{Peers:i}=await n.json();return{Peers:i.map(o=>multiaddr$1(o))}}return t}),createReset=configure(r=>{async function t(e={}){const n=await r.post("bootstrap/add",{signal:e.signal,searchParams:toUrlSearchParams({...e,default:!0}),headers:e.headers}),{Peers:i}=await n.json();return{Peers:i.map(o=>multiaddr$1(o))}}return t}),createRm$5=configure(r=>{async function t(e,n={}){const i=await r.post("bootstrap/rm",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers}),{Peers:o}=await i.json();return{Peers:o.map(s=>multiaddr$1(s))}}return t});function createBootstrap(r){return{add:createAdd$4(r),clear:createClear(r),list:createList$2(r),reset:createReset(r),rm:createRm$5(r)}}const createApply=configure(r=>{async function t(e,n={}){const o=await(await r.post("config/profile/apply",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers})).json();return{original:o.OldCfg,updated:o.NewCfg}}return t});function objectToCamel(r){if(r==null)return r;const t=/^[A-Z]+$/,e={};return Object.keys(r).reduce((n,i)=>(t.test(i)?n[i.toLowerCase()]=r[i]:t.test(i[0])?n[i[0].toLowerCase()+i.slice(1)]=r[i]:n[i]=r[i],n),e)}const createList$1=configure(r=>{async function t(e={}){return(await(await r.post("config/profile/list",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()).map(o=>objectToCamel(o))}return t});function createProfiles(r){return{apply:createApply(r),list:createList$1(r)}}const createGet$4=configure(r=>async(e,n={})=>{if(!e)throw new Error("key argument is required");return(await(await r.post("config",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers})).json()).Value}),createGetAll=configure(r=>async(e={})=>await(await r.post("config/show",{signal:e.signal,searchParams:toUrlSearchParams({...e}),headers:e.headers})).json()),createReplace=configure(r=>async(e,n={})=>{const i=new AbortController,o=abortSignal(i.signal,n.signal);await(await r.post("config/replace",{signal:o,searchParams:toUrlSearchParams(n),...await multipartRequest([fromString$b(JSON.stringify(e))],i,n.headers)})).text()}),createSet=configure(r=>async(e,n,i={})=>{if(typeof e!="string")throw new Error("Invalid key type");const o={...i,...encodeParam(e,n)};await(await r.post("config",{signal:i.signal,searchParams:toUrlSearchParams(o),headers:i.headers})).text()}),encodeParam=(r,t)=>{switch(typeof t){case"boolean":return{arg:[r,t.toString()],bool:!0};case"string":return{arg:[r,t]};default:return{arg:[r,JSON.stringify(t)],json:!0}}};function createConfig(r){return{getAll:createGetAll(r),get:createGet$4(r),set:createSet(r),replace:createReplace(r),profiles:createProfiles(r)}}const createExport$1=configure(r=>{async function*t(e,n={}){yield*(await r.post("dag/export",{signal:n.signal,searchParams:toUrlSearchParams({arg:e.toString()}),headers:n.headers})).iterator()}return t});async function*resolve(r,t,e,n,i){const o=async y=>{const g=await e.getCodec(y.code),h=await n(y,i);return g.decode(h)},s=t.split("/").filter(Boolean);let a=await o(r),c=r;for(;s.length;){const y=s.shift();if(!y)throw errCode(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(a,y))a=a[y],yield{value:a,remainderPath:s.join("/")};else throw errCode(new Error(`no link named "${y}" under ${c}`),"ERR_NO_LINK");const g=CID$1.asCID(a);g&&(c=g,a=await o(a))}yield{value:a,remainderPath:""}}async function first(r){for await(const t of r)return t}async function last(r){let t;for await(const e of r)t=e;return t}const createGet$3=(r,t)=>configure((n,i)=>{const o=createGet$5(i);return async(a,c={})=>{if(c.path){const w=c.localResolve?await first(resolve(a,c.path,r,o,c)):await last(resolve(a,c.path,r,o,c));if(!w)throw errCode(new Error("Not found"),"ERR_NOT_FOUND");return w}const y=await r.getCodec(a.code),g=await o(a,c);return{value:y.decode(g),remainderPath:""}}})(t),createImport$1=configure(r=>{async function*t(e,n={}){const i=new AbortController,o=abortSignal(i.signal,n.signal),{headers:s,body:a}=await multipartRequest(e,i,n.headers),c=await r.post("dag/import",{signal:o,headers:s,body:a,searchParams:toUrlSearchParams({"pin-roots":n.pinRoots})});for await(const{Root:y}of c.ndjson())if(y!==void 0){const{Cid:{"/":g},PinErrorMsg:h}=y;yield{root:{cid:CID$1.parse(g),pinErrorMsg:h}}}}return t}),createPut$2=(r,t)=>configure(n=>async(o,s={})=>{const a={storeCodec:"dag-cbor",hashAlg:"sha2-256",...s};let c;if(a.inputCodec){if(!(o instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");c=o}else c=(await r.getCodec(a.storeCodec)).encode(o),a.inputCodec=a.storeCodec;const y=new AbortController,g=abortSignal(y.signal,a.signal),l=await(await n.post("dag/put",{timeout:a.timeout,signal:g,searchParams:toUrlSearchParams(a),...await multipartRequest([c],y,a.headers)})).json();return CID$1.parse(l.Cid["/"])})(t),createResolve$2=configure(r=>async(e,n={})=>{const o=await(await r.post("dag/resolve",{signal:n.signal,searchParams:toUrlSearchParams({arg:`${e}${n.path?`/${n.path}`.replace(/\/[/]+/g,"/"):""}`,...n}),headers:n.headers})).json();return{cid:CID$1.parse(o.Cid["/"]),remainderPath:o.RemPath}});function createDag(r,t){return{export:createExport$1(t),get:createGet$3(r,t),import:createImport$1(t),put:createPut$2(r,t),resolve:createResolve$2(t)}}const SendingQuery=0,PeerResponse=1,FinalPeer=2,QueryError=3,Provider=4,Value=5,AddingPeer=6,DialingPeer=7,mapEvent=r=>{if(r.Type===SendingQuery)return{name:"SENDING_QUERY",type:r.Type};if(r.Type===PeerResponse)return{from:peerIdFromString(r.ID),name:"PEER_RESPONSE",type:r.Type,messageType:0,messageName:"PUT_VALUE",closer:(r.Responses||[]).map(({ID:t,Addrs:e})=>({id:peerIdFromString(t),multiaddrs:e.map(n=>multiaddr$1(n)),protocols:[]})),providers:(r.Responses||[]).map(({ID:t,Addrs:e})=>({id:peerIdFromString(t),multiaddrs:e.map(n=>multiaddr$1(n)),protocols:[]}))};if(r.Type===FinalPeer){let t={id:r.ID??peerIdFromString(r.ID),multiaddrs:[],protocols:[]};return r.Responses&&r.Responses.length&&(t={id:peerIdFromString(r.Responses[0].ID),multiaddrs:r.Responses[0].Addrs.map(e=>multiaddr$1(e)),protocols:[]}),{name:"FINAL_PEER",type:r.Type,peer:t}}if(r.Type===QueryError)return{name:"QUERY_ERROR",type:r.Type,error:new Error(r.Extra)};if(r.Type===Provider)return{name:"PROVIDER",type:r.Type,providers:r.Responses.map(({ID:t,Addrs:e})=>({id:peerIdFromString(t),multiaddrs:e.map(n=>multiaddr$1(n)),protocols:[]}))};if(r.Type===Value)return{name:"VALUE",type:r.Type,value:fromString$b(r.Extra,"base64pad")};if(r.Type===AddingPeer){const t=r.Responses.map(({ID:e})=>peerIdFromString(e));if(!t.length)throw new Error("No peer found");return{name:"ADDING_PEER",type:r.Type,peer:t[0]}}if(r.Type===DialingPeer)return{name:"DIALING_PEER",type:r.Type,peer:peerIdFromString(r.ID)};throw new Error("Unknown DHT event type")},createFindPeer=configure(r=>{async function*t(e,n={}){const i=await r.post("dht/findpeer",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers});for await(const o of i.ndjson())yield mapEvent(o)}return t}),createFindProvs=configure(r=>{async function*t(e,n={}){const i=await r.post("dht/findprovs",{signal:n.signal,searchParams:toUrlSearchParams({arg:e.toString(),...n}),headers:n.headers});for await(const o of i.ndjson())yield mapEvent(o)}return t}),createGet$2=configure(r=>{async function*t(e,n={}){const i=await r.post("dht/get",{signal:n.signal,searchParams:toUrlSearchParams({arg:e instanceof Uint8Array?toString$6(e):e.toString(),...n}),headers:n.headers});for await(const o of i.ndjson())yield mapEvent(o)}return t}),createProvide=configure(r=>{async function*t(e,n={recursive:!1}){const i=Array.isArray(e)?e:[e],o=await r.post("dht/provide",{signal:n.signal,searchParams:toUrlSearchParams({arg:i.map(s=>s.toString()),...n}),headers:n.headers});for await(const s of o.ndjson())yield mapEvent(s)}return t}),createPut$1=configure(r=>{async function*t(e,n,i={}){const o=new AbortController,s=abortSignal(o.signal,i.signal),a=await r.post("dht/put",{signal:s,searchParams:toUrlSearchParams({arg:e instanceof Uint8Array?toString$6(e):e.toString(),...i}),...await multipartRequest([n],o,i.headers)});for await(const c of a.ndjson())yield mapEvent(c)}return t}),createQuery=configure(r=>{async function*t(e,n={}){const i=await r.post("dht/query",{signal:n.signal,searchParams:toUrlSearchParams({arg:e.toString(),...n}),headers:n.headers});for await(const o of i.ndjson())yield mapEvent(o)}return t});function createDht(r){return{findPeer:createFindPeer(r),findProvs:createFindProvs(r),get:createGet$2(r),provide:createProvide(r),put:createPut$1(r),query:createQuery(r)}}const createCmds=configure(r=>{async function t(e={}){return(await r.post("diag/cmds",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()}return t}),createNet=configure(r=>{async function t(e={}){return(await r.post("diag/net",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()}return t}),createSys=configure(r=>{async function t(e={}){return(await r.post("diag/sys",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()}return t});function createDiag(r){return{cmds:createCmds(r),net:createNet(r),sys:createSys(r)}}const createChmod=configure(r=>{async function t(e,n,i={}){await(await r.post("files/chmod",{signal:i.signal,searchParams:toUrlSearchParams({arg:e,mode:n,...i}),headers:i.headers})).text()}return t}),createCp=configure(r=>{async function t(e,n,i={}){const o=Array.isArray(e)?e:[e];await(await r.post("files/cp",{signal:i.signal,searchParams:toUrlSearchParams({arg:o.concat(n).map(a=>CID$1.asCID(a)?`/ipfs/${a}`:a),...i}),headers:i.headers})).text()}return t}),createFlush=configure(r=>{async function t(e,n={}){if(!e||typeof e!="string")throw new Error("ipfs.files.flush requires a path");const o=await(await r.post("files/flush",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers})).json();return CID$1.parse(o.Cid)}return t});function objectToCamelWithMetadata(r){const t=objectToCamel(r);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}const createLs$6=configure(r=>{async function*t(e,n={}){if(!e)throw new Error("ipfs.files.ls requires a path");const i=await r.post("files/ls",{signal:n.signal,searchParams:toUrlSearchParams({arg:CID$1.asCID(e)?`/ipfs/${e}`:e,long:!0,...n,stream:!0}),headers:n.headers});for await(const o of i.ndjson())if("Entries"in o)for(const s of o.Entries||[])yield toCoreInterface$2(objectToCamelWithMetadata(s));else yield toCoreInterface$2(objectToCamelWithMetadata(o))}return t});function toCoreInterface$2(r){return r.hash&&(r.cid=CID$1.parse(r.hash)),delete r.hash,r.type=r.type===1?"directory":"file",r}const createMkdir=configure(r=>{async function t(e,n={}){await(await r.post("files/mkdir",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers})).text()}return t}),createMv=configure(r=>{async function t(e,n,i={}){Array.isArray(e)||(e=[e]),await(await r.post("files/mv",{signal:i.signal,searchParams:toUrlSearchParams({arg:e.concat(n),...i}),headers:i.headers})).text()}return t});var source,hasRequiredSource;function requireSource(){return hasRequiredSource||(hasRequiredSource=1,source=r=>{if(r[Symbol.asyncIterator])return r;if(r.getReader)return(async function*(){const t=r.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)return;yield n}}finally{t.releaseLock()}})();throw new Error("unknown stream")}),source}var sourceExports=requireSource();const toIterable=getDefaultExportFromCjs(sourceExports),createRead=configure(r=>{async function*t(e,n={}){const i=await r.post("files/read",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,count:n.length,...n}),headers:n.headers});yield*toIterable(i.body)}return t}),createRm$4=configure(r=>{async function t(e,n={}){const i=await r.post("files/rm",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers}),o=await i.text();if(o!==""){const s=new HTTP.HTTPError(i);throw s.message=o,s}}return t}),createStat$2=configure(r=>{async function t(e,n={}){const o=await(await r.post("files/stat",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers})).json();return o.WithLocality=o.WithLocality||!1,toCoreInterface$1(objectToCamelWithMetadata(o))}return t});function toCoreInterface$1(r){return r.cid=CID$1.parse(r.hash),delete r.hash,r}const createTouch=configure(r=>{async function t(e,n={}){await(await r.post("files/touch",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers})).text()}return t}),createWrite=configure(r=>{async function t(e,n,i={}){const o=new AbortController,s=abortSignal(o.signal,i.signal);await(await r.post("files/write",{signal:s,searchParams:toUrlSearchParams({arg:e,streamChannels:!0,count:i.length,...i}),...await multipartRequest([{content:n,path:"arg",mode:modeToString$1(i.mode),mtime:parseMtime$1(i.mtime)}],o,i.headers)})).text()}return t});function createFiles(r){return{chmod:createChmod(r),cp:createCp(r),flush:createFlush(r),ls:createLs$6(r),mkdir:createMkdir(r),mv:createMv(r),read:createRead(r),rm:createRm$4(r),stat:createStat$2(r),touch:createTouch(r),write:createWrite(r)}}const createExport=configure(r=>async(e,n,i={})=>{throw errCode(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),createGen=configure(r=>{async function t(e,n){const i=n??{type:"Ed25519"},s=await(await r.post("key/gen",{signal:i.signal,searchParams:toUrlSearchParams({arg:e,...i}),headers:i.headers})).json();return objectToCamel(s)}return t}),createImport=configure(r=>{async function t(e,n,i,o={}){const a=await(await r.post("key/import",{signal:o.signal,searchParams:toUrlSearchParams({arg:e,pem:n,password:i,...o}),headers:o.headers})).json();return objectToCamel(a)}return t}),createInfo=configure(r=>async(e,n={})=>{throw errCode(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),createList=configure(r=>{async function t(e={}){return((await(await r.post("key/list",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()).Keys||[]).map(o=>objectToCamel(o))}return t}),createRename=configure(r=>{async function t(e,n,i={}){const o=await r.post("key/rename",{signal:i.signal,searchParams:toUrlSearchParams({arg:[e,n],...i}),headers:i.headers});return objectToCamel(await o.json())}return t}),createRm$3=configure(r=>{async function t(e,n={}){const o=await(await r.post("key/rm",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers})).json();return objectToCamel(o.Keys[0])}return t});function createKey(r){return{export:createExport(r),gen:createGen(r),import:createImport(r),info:createInfo(r),list:createList(r),rename:createRename(r),rm:createRm$3(r)}}const createLevel=configure(r=>{async function t(e,n,i={}){const o=await r.post("log/level",{signal:i.signal,searchParams:toUrlSearchParams({arg:[e,n],...i}),headers:i.headers});return objectToCamel(await o.json())}return t}),createLs$5=configure(r=>{async function t(e={}){return(await(await r.post("log/ls",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()).Strings}return t}),createTail=configure(r=>{async function*t(e={}){yield*(await r.post("log/tail",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).ndjson()}return t});function createLog(r){return{level:createLevel(r),ls:createLs$5(r),tail:createTail(r)}}const createPublish$1=configure(r=>{async function t(e,n={}){const i=await r.post("name/publish",{signal:n.signal,searchParams:toUrlSearchParams({arg:`${e}`,...n}),headers:n.headers});return objectToCamel(await i.json())}return t}),createResolve$1=configure(r=>{async function*t(e,n={}){const i=await r.post("name/resolve",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,stream:!0,...n}),headers:n.headers});for await(const o of i.ndjson())yield o.Path}return t}),createCancel=configure(r=>{async function t(e,n={}){const i=await r.post("name/pubsub/cancel",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers});return objectToCamel(await i.json())}return t}),createState=configure(r=>{async function t(e={}){const n=await r.post("name/pubsub/state",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers});return objectToCamel(await n.json())}return t}),createSubs=configure(r=>{async function t(e={}){return(await(await r.post("name/pubsub/subs",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()).Strings||[]}return t});function createPubsub$1(r){return{cancel:createCancel(r),state:createState(r),subs:createSubs(r)}}function createName(r){return{publish:createPublish$1(r),resolve:createResolve$1(r),pubsub:createPubsub$1(r)}}const createData=configure(r=>{async function t(e,n={}){const o=await(await r.post("object/data",{signal:n.signal,searchParams:toUrlSearchParams({arg:`${e instanceof Uint8Array?CID$1.decode(e):e}`,...n}),headers:n.headers})).arrayBuffer();return new Uint8Array(o,0,o.byteLength)}return t}),createGet$1=configure(r=>{async function t(e,n={}){const o=await(await r.post("object/get",{signal:n.signal,searchParams:toUrlSearchParams({arg:`${e instanceof Uint8Array?CID$1.decode(e):e}`,dataEncoding:"base64",...n}),headers:n.headers})).json();return{Data:fromString$b(o.Data,"base64pad"),Links:(o.Links||[]).map(s=>({Name:s.Name,Hash:CID$1.parse(s.Hash),Tsize:s.Size}))}}return t}),createLinks=configure(r=>{async function t(e,n={}){return((await(await r.post("object/links",{signal:n.signal,searchParams:toUrlSearchParams({arg:`${e instanceof Uint8Array?CID$1.decode(e):e}`,...n}),headers:n.headers})).json()).Links||[]).map(s=>({Name:s.Name,Tsize:s.Size,Hash:CID$1.parse(s.Hash)}))}return t}),createNew=configure(r=>{async function t(e={}){const n=await r.post("object/new",{signal:e.signal,searchParams:toUrlSearchParams({arg:e.template,...e}),headers:e.headers}),{Hash:i}=await n.json();return CID$1.parse(i)}return t}),createPut=(r,t)=>configure(n=>{const i=createPut$2(r,t);async function o(s,a={}){return i(s,{...a,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}return o})(t),createStat$1=configure(r=>{async function t(e,n={}){const o=await(await r.post("object/stat",{signal:n.signal,searchParams:toUrlSearchParams({arg:`${e}`,...n}),headers:n.headers})).json();return{...o,Hash:CID$1.parse(o.Hash)}}return t}),createAddLink=configure(r=>{async function t(e,n,i={}){const o=await r.post("object/patch/add-link",{signal:i.signal,searchParams:toUrlSearchParams({arg:[`${e}`,n.Name||n.name||"",(n.Hash||n.cid||"").toString()||null],...i}),headers:i.headers}),{Hash:s}=await o.json();return CID$1.parse(s)}return t}),createAppendData=configure(r=>{async function t(e,n,i={}){const o=new AbortController,s=abortSignal(o.signal,i.signal),a=await r.post("object/patch/append-data",{signal:s,searchParams:toUrlSearchParams({arg:`${e}`,...i}),...await multipartRequest([n],o,i.headers)}),{Hash:c}=await a.json();return CID$1.parse(c)}return t}),createRmLink=configure(r=>{async function t(e,n,i={}){const o=await r.post("object/patch/rm-link",{signal:i.signal,searchParams:toUrlSearchParams({arg:[`${e}`,n.Name||n.name||null],...i}),headers:i.headers}),{Hash:s}=await o.json();return CID$1.parse(s)}return t}),createSetData=configure(r=>{async function t(e,n,i={}){const o=new AbortController,s=abortSignal(o.signal,i.signal),a=await r.post("object/patch/set-data",{signal:s,searchParams:toUrlSearchParams({arg:[`${e}`],...i}),...await multipartRequest([n],o,i.headers)}),{Hash:c}=await a.json();return CID$1.parse(c)}return t});function createPatch(r){return{addLink:createAddLink(r),appendData:createAppendData(r),rmLink:createRmLink(r),setData:createSetData(r)}}function createObject(r,t){return{data:createData(t),get:createGet$1(t),links:createLinks(t),new:createNew(t),put:createPut(r,t),stat:createStat$1(t),patch:createPatch(t)}}function isIterable(r){return Symbol.iterator in r}function isAsyncIterable(r){return Symbol.asyncIterator in r}function isCID(r){return CID$1.asCID(r)!=null}async function*normaliseInput$1(r){if(r==null)throw errCode(new Error(`Unexpected input: ${r}`),"ERR_UNEXPECTED_INPUT");const t=CID$1.asCID(r);if(t){yield toPin$1({cid:t});return}if(r instanceof String||typeof r=="string"){yield toPin$1({path:r});return}if(r.cid!=null||r.path!=null)return yield toPin$1(r);if(isIterable(r)){const e=r[Symbol.iterator](),n=e.next();if(n.done)return e;if(isCID(n.value)){yield toPin$1({cid:n.value});for(const i of e)yield toPin$1({cid:i});return}if(n.value instanceof String||typeof n.value=="string"){yield toPin$1({path:n.value});for(const i of e)yield toPin$1({path:i});return}if(n.value.cid!=null||n.value.path!=null){yield toPin$1(n.value);for(const i of e)yield toPin$1(i);return}throw errCode(new Error("Unexpected input: "+typeof r),"ERR_UNEXPECTED_INPUT")}if(isAsyncIterable(r)){const e=r[Symbol.asyncIterator](),n=await e.next();if(n.done)return e;if(isCID(n.value)){yield toPin$1({cid:n.value});for await(const i of e)yield toPin$1({cid:i});return}if(n.value instanceof String||typeof n.value=="string"){yield toPin$1({path:n.value});for await(const i of e)yield toPin$1({path:i});return}if(n.value.cid!=null||n.value.path!=null){yield toPin$1(n.value);for await(const i of e)yield toPin$1(i);return}throw errCode(new Error("Unexpected input: "+typeof r),"ERR_UNEXPECTED_INPUT")}throw errCode(new Error("Unexpected input: "+typeof r),"ERR_UNEXPECTED_INPUT")}function toPin$1(r){const t=r.cid||`${r.path}`;if(!t)throw errCode(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");const e={path:t,recursive:r.recursive!==!1};return r.metadata!=null&&(e.metadata=r.metadata),e}const createAddAll$1=configure(r=>{async function*t(e,n={}){for await(const{path:i,recursive:o,metadata:s}of normaliseInput$1(e)){const a=await r.post("pin/add",{signal:n.signal,searchParams:toUrlSearchParams({...n,arg:i,recursive:o,metadata:s?JSON.stringify(s):void 0,stream:!0}),headers:n.headers});for await(const c of a.ndjson()){if(c.Pins){for(const y of c.Pins)yield CID$1.parse(y);continue}yield CID$1.parse(c)}}}return t});function createAdd$3(r){const t=createAddAll$1(r);return configure(()=>{async function e(n,i={}){return last(t([{path:n,...i}],i))}return e})(r)}function toPin(r,t,e){const n={type:r,cid:CID$1.parse(t)};return e&&(n.metadata=e),n}const createLs$4=configure(r=>{async function*t(e={}){let n=[];e.paths&&(n=Array.isArray(e.paths)?e.paths:[e.paths]);const i=await r.post("pin/ls",{signal:e.signal,searchParams:toUrlSearchParams({...e,arg:n.map(o=>`${o}`),stream:!0}),headers:e.headers});for await(const o of i.ndjson()){if(o.Keys){for(const s of Object.keys(o.Keys))yield toPin(o.Keys[s].Type,s,o.Keys[s].Metadata);return}yield toPin(o.Type,o.Cid,o.Metadata)}}return t}),createRmAll$1=configure(r=>{async function*t(e,n={}){for await(const{path:i,recursive:o}of normaliseInput$1(e)){const s=new URLSearchParams(n.searchParams);s.append("arg",`${i}`),o!=null&&s.set("recursive",String(o));const a=await r.post("pin/rm",{signal:n.signal,headers:n.headers,searchParams:toUrlSearchParams({...n,arg:`${i}`,recursive:o})});for await(const c of a.ndjson()){if(c.Pins){yield*c.Pins.map(y=>CID$1.parse(y));continue}yield CID$1.parse(c)}}}return t}),createRm$2=r=>{const t=createRmAll$1(r);return configure(()=>{async function e(n,i={}){return last(t([{path:n,...i}],i))}return e})(r)},decodePin=({Name:r,Status:t,Cid:e})=>({cid:CID$1.parse(e),name:r,status:t}),encodeService=r=>{if(typeof r=="string"&&r!=="")return r;throw new TypeError("service name must be passed")},encodeCID=r=>{if(CID$1.asCID(r))return r.toString();throw new TypeError(`CID instance expected instead of ${typeof r}`)},encodeQuery=({service:r,cid:t,name:e,status:n,all:i})=>{const o=toUrlSearchParams({service:encodeService(r),name:e,force:i?!0:void 0});if(t)for(const s of t)o.append("cid",encodeCID(s));if(n)for(const s of n)o.append("status",s);return o},encodeAddParams=({cid:r,service:t,background:e,name:n,origins:i})=>{const o=toUrlSearchParams({arg:encodeCID(r),service:encodeService(t),name:n,background:e?!0:void 0});if(i)for(const s of i)o.append("origin",s.toString());return o};function createAdd$2(r){async function t(e,{timeout:n,signal:i,headers:o,...s}){const a=await r.post("pin/remote/add",{timeout:n,signal:i,headers:o,searchParams:encodeAddParams({cid:e,...s})});return decodePin(await a.json())}return t}function createLs$3(r){async function*t({timeout:e,signal:n,headers:i,...o}){const s=await r.post("pin/remote/ls",{timeout:e,signal:n,headers:i,searchParams:encodeQuery(o)});for await(const a of s.ndjson())yield decodePin(a)}return t}function createRm$1(r){async function t({timeout:e,signal:n,headers:i,...o}){await r.post("pin/remote/rm",{timeout:e,signal:n,headers:i,searchParams:encodeQuery({...o,all:!1})})}return t}function createRmAll(r){async function t({timeout:e,signal:n,headers:i,...o}){await r.post("pin/remote/rm",{timeout:e,signal:n,headers:i,searchParams:encodeQuery({...o,all:!0})})}return t}function encodeEndpoint(r){const t=String(r);if(t==="undefined")throw Error("endpoint is required");return t[t.length-1]==="/"?t.slice(0,-1):t}function decodeRemoteService(r){return{service:r.Service,endpoint:new URL(r.ApiEndpoint),...r.Stat&&{stat:decodeStat(r.Stat)}}}function decodeStat(r){switch(r.Status){case"valid":{const{Pinning:t,Pinned:e,Queued:n,Failed:i}=r.PinCount;return{status:"valid",pinCount:{queued:n,pinning:t,pinned:e,failed:i}}}case"invalid":return{status:"invalid"};default:return{status:r.Status}}}function createAdd$1(r){async function t(e,n){const{endpoint:i,key:o,headers:s,timeout:a,signal:c}=n;await r.post("pin/remote/service/add",{timeout:a,signal:c,searchParams:toUrlSearchParams({arg:[e,encodeEndpoint(i),o]}),headers:s})}return t}function createLs$2(r){async function t(e={}){const{stat:n,headers:i,timeout:o,signal:s}=e,a=await r.post("pin/remote/service/ls",{timeout:o,signal:s,headers:i,searchParams:n===!0?toUrlSearchParams({stat:n}):void 0}),{RemoteServices:c}=await a.json();return c.map(decodeRemoteService)}return t}function createRm(r){async function t(e,n={}){await r.post("pin/remote/service/rm",{signal:n.signal,headers:n.headers,searchParams:toUrlSearchParams({arg:e})})}return t}function createService(r){const t=new Client(r);return{add:createAdd$1(t),ls:createLs$2(t),rm:createRm(t)}}function createRemote(r){const t=new Client(r);return{add:createAdd$2(t),ls:createLs$3(t),rm:createRm$1(t),rmAll:createRmAll(t),service:createService(r)}}function createPin(r){return{addAll:createAddAll$1(r),add:createAdd$3(r),ls:createLs$4(r),rmAll:createRmAll$1(r),rm:createRm$2(r),remote:createRemote(r)}}const rpcArrayToTextArray=r=>Array.isArray(r)?r.map(rpcToText):r,rpcToText=r=>toString$6(rpcToBytes(r)),rpcToBytes=r=>base64url$3.decode(r),rpcToBigInt=r=>BigInt(`0x${toString$6(base64url$3.decode(r),"base16")}`),textToUrlSafeRpc=r=>base64url$3.encode(fromString$b(r)),createLs$1=configure(r=>{async function t(e={}){const{Strings:n}=await(await r.post("pubsub/ls",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json();return rpcArrayToTextArray(n)||[]}return t}),createPeers$1=configure(r=>{async function t(e,n={}){const i=await r.post("pubsub/peers",{signal:n.signal,searchParams:toUrlSearchParams({arg:textToUrlSafeRpc(e),...n}),headers:n.headers}),{Strings:o}=await i.json();return o||[]}return t}),createPublish=configure(r=>{async function t(e,n,i={}){const o=toUrlSearchParams({arg:textToUrlSafeRpc(e),...i}),s=new AbortController,a=abortSignal(s.signal,i.signal);await(await r.post("pubsub/pub",{signal:a,searchParams:o,...await multipartRequest([n],s,i.headers)})).text()}return t}),log=logger("ipfs-http-client:pubsub:subscribe"),createSubscribe=(r,t)=>configure(e=>{async function n(i,o,s={}){s.signal=t.subscribe(i,o,s.signal);let a,c;const y=new Promise((h,l)=>{a=h,c=l}),g=setTimeout(()=>a(),1e3);return e.post("pubsub/sub",{signal:s.signal,searchParams:toUrlSearchParams({arg:textToUrlSafeRpc(i),...s}),headers:s.headers}).catch(h=>{t.unsubscribe(i,o),c(h)}).then(h=>{clearTimeout(g),h&&(readMessages(h,{onMessage:l=>{if(o){if(typeof o=="function"){o(l);return}typeof o.handleEvent=="function"&&o.handleEvent(l)}},onEnd:()=>t.unsubscribe(i,o),onError:s.onError}),a())}),y}return n})(r);async function readMessages(r,{onMessage:t,onEnd:e,onError:n}){n=n||log;try{for await(const i of r.ndjson())try{if(!i.from)continue;i.from!=null&&i.seqno!=null?t({type:"signed",from:peerIdFromString(i.from),data:rpcToBytes(i.data),sequenceNumber:rpcToBigInt(i.seqno),topic:rpcToText(i.topicIDs[0]),key:rpcToBytes(i.key??"u"),signature:rpcToBytes(i.signature??"u")}):t({type:"unsigned",data:rpcToBytes(i.data),topic:rpcToText(i.topicIDs[0])})}catch(o){o.message=`Failed to parse pubsub message: ${o.message}`,n(o,!1,i)}}catch(i){isAbortError(i)||n(i,!0)}finally{e()}}const isAbortError=r=>{switch(r.type){case"aborted":return!0;case"abort":return!0;default:return r.name==="AbortError"}},createUnsubscribe=(r,t)=>{async function e(n,i){t.unsubscribe(n,i)}return e};class SubscriptionTracker{constructor(){this._subs=new Map}subscribe(t,e,n){const i=this._subs.get(t)||[];if(i.find(s=>s.handler===e))throw new Error(`Already subscribed to ${t} with this handler`);const o=new AbortController;return this._subs.set(t,[{handler:e,controller:o}].concat(i)),n&&n.addEventListener("abort",()=>this.unsubscribe(t,e)),o.signal}unsubscribe(t,e){const n=this._subs.get(t)||[];let i;e?(this._subs.set(t,n.filter(o=>o.handler!==e)),i=n.filter(o=>o.handler===e)):(this._subs.set(t,[]),i=n),(this._subs.get(t)||[]).length||this._subs.delete(t),i.forEach(o=>o.controller.abort())}}function createPubsub(r){const t=new SubscriptionTracker;return{ls:createLs$1(r),peers:createPeers$1(r),publish:createPublish(r),subscribe:createSubscribe(r,t),unsubscribe:createUnsubscribe(r,t)}}const createLocal=configure(r=>{async function*t(e={}){yield*(await r.post("refs/local",{signal:e.signal,transform:objectToCamel,searchParams:toUrlSearchParams(e),headers:e.headers})).ndjson()}return t}),createRefs=configure((r,t)=>Object.assign(async function*(n,i={}){const o=Array.isArray(n)?n:[n];yield*(await r.post("refs",{signal:i.signal,searchParams:toUrlSearchParams({arg:o.map(a=>`${a instanceof Uint8Array?CID$1.decode(a):a}`),...i}),headers:i.headers,transform:objectToCamel})).ndjson()},{local:createLocal(t)})),createGc=configure(r=>{async function*t(e={}){yield*(await r.post("repo/gc",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers,transform:i=>({err:i.Error?new Error(i.Error):null,cid:(i.Key||{})["/"]?CID$1.parse(i.Key["/"]):null})})).ndjson()}return t}),createStat=configure(r=>{async function t(e={}){const i=await(await r.post("repo/stat",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json();return{numObjects:BigInt(i.NumObjects),repoSize:BigInt(i.RepoSize),repoPath:i.RepoPath,version:i.Version,storageMax:BigInt(i.StorageMax)}}return t}),createVersion$1=configure(r=>{async function t(e={}){return(await(await r.post("repo/version",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()).Version}return t});function createRepo(r){return{gc:createGc(r),stat:createStat(r),version:createVersion$1(r)}}const createBw=configure(r=>{async function*t(e={}){yield*(await r.post("stats/bw",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers,transform:i=>({totalIn:BigInt(i.TotalIn),totalOut:BigInt(i.TotalOut),rateIn:parseFloat(i.RateIn),rateOut:parseFloat(i.RateOut)})})).ndjson()}return t});function createStats(r){return{bitswap:createStat$4(r),repo:createStat(r),bw:createBw(r)}}const createAddrs=configure(r=>{async function t(e={}){const n=await r.post("swarm/addrs",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers}),{Addrs:i}=await n.json();return Object.keys(i).map(o=>({id:peerIdFromString(o),addrs:(i[o]||[]).map(s=>multiaddr$1(s))}))}return t}),createConnect=configure(r=>{async function t(e,n={}){const i=await r.post("swarm/connect",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers}),{Strings:o}=await i.json();return o||[]}return t}),createDisconnect=configure(r=>{async function t(e,n={}){const i=await r.post("swarm/disconnect",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers}),{Strings:o}=await i.json();return o||[]}return t}),createLocalAddrs=configure(r=>{async function t(e={}){const n=await r.post("swarm/addrs/local",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers}),{Strings:i}=await n.json();return(i||[]).map(o=>multiaddr$1(o))}return t}),createPeers=configure(r=>{async function t(e={}){const n=await r.post("swarm/peers",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers}),{Peers:i}=await n.json();return(i||[]).map(o=>({addr:multiaddr$1(o.Addr),peer:peerIdFromString(o.Peer),muxer:o.Muxer,latency:o.Latency,streams:o.Streams,direction:o.Direction==null?void 0:o.Direction===0?"inbound":"outbound"}))}return t});function createSwarm(r){return{addrs:createAddrs(r),connect:createConnect(r),disconnect:createDisconnect(r),localAddrs:createLocalAddrs(r),peers:createPeers(r)}}const createAddAll=configure(r=>{async function*t(e,n={}){const i=new AbortController,o=abortSignal(i.signal,n.signal),{headers:s,body:a,total:c,parts:y}=await multipartRequest(e,i,n.headers),[g,h]=typeof n.progress=="function"?createProgressHandler(c,y,n.progress):[void 0,void 0],l=await r.post("add",{searchParams:toUrlSearchParams({"stream-channels":!0,...n,progress:!!g}),onUploadProgress:h,signal:o,headers:s,body:a});for await(let w of l.ndjson())w=objectToCamel(w),w.hash!==void 0?yield toCoreInterface(w):g&&g(w.bytes||0,w.name)}return t}),createProgressHandler=(r,t,e)=>t?[void 0,createOnUploadProgress(r,t,e)]:[e,void 0],createOnUploadProgress=(r,t,e)=>{let n=0;const i=t.length;return({loaded:o,total:s})=>{const a=Math.floor(o/s*r);for(;n<i;){const{start:c,end:y,name:g}=t[n];if(a<y){e(a-c,g);break}else e(y-c,g),n+=1}}};function toCoreInterface({name:r,hash:t,size:e,mode:n,mtime:i,mtimeNsecs:o}){const s={path:r,cid:CID$1.parse(t),size:parseInt(e)};return n!=null&&(s.mode=parseInt(n,8)),i!=null&&(s.mtime={secs:i,nsecs:o||0}),s}function blobToIt(r){return typeof r.stream=="function"?browserReadableStreamToIt(r.stream()):browserReadableStreamToIt(new Response(r).body)}async function*toAsyncIterable(r){yield r}async function normaliseContent(r){if(isBytes(r))return toAsyncIterable(toBytes(r));if(typeof r=="string"||r instanceof String)return toAsyncIterable(toBytes(r.toString()));if(isBlob(r))return blobToIt(r);if(isReadableStream(r)&&(r=browserReadableStreamToIt(r)),Symbol.iterator in r||Symbol.asyncIterator in r){const t=peekableIterator(r),{value:e,done:n}=await t.peek();if(n)return toAsyncIterable(new Uint8Array(0));if(t.push(e),Number.isInteger(e))return toAsyncIterable(Uint8Array.from(await all(t)));if(isBytes(e)||typeof e=="string"||e instanceof String)return map(t,toBytes)}throw errCode(new Error(`Unexpected input: ${r}`),"ERR_UNEXPECTED_INPUT")}function toBytes(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?new Uint8Array(r):Array.isArray(r)?Uint8Array.from(r):fromString$b(r.toString())}async function*normaliseCandidateSingle(r,t){if(r==null)throw errCode(new Error(`Unexpected input: ${r}`),"ERR_UNEXPECTED_INPUT");if(typeof r=="string"||r instanceof String){yield toFileObject(r.toString(),t);return}if(isBytes(r)||isBlob(r)){yield toFileObject(r,t);return}if(isReadableStream(r)&&(r=browserReadableStreamToIt(r)),Symbol.iterator in r||Symbol.asyncIterator in r){const e=peekableIterator(r),{value:n,done:i}=await e.peek();if(i){yield{content:[]};return}if(e.push(n),Number.isInteger(n)||isBytes(n)||typeof n=="string"||n instanceof String){yield toFileObject(e,t);return}throw errCode(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(isFileObject(r)){yield toFileObject(r,t);return}throw errCode(new Error('Unexpected input: cannot convert "'+typeof r+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function toFileObject(r,t){const{path:e,mode:n,mtime:i,content:o}=r,s={path:e||"",mode:parseMode(n),mtime:parseMtime(i)};return o?s.content=await t(o):e||(s.content=await t(r)),s}function normaliseInput(r){return normaliseCandidateSingle(r,normaliseContent)}function createAdd(r){const t=createAddAll(r);return configure(()=>{async function e(n,i={}){return await last(t(normaliseInput(n),i))}return e})(r)}const createCat=configure(r=>{async function*t(e,n={}){yield*(await r.post("cat",{signal:n.signal,searchParams:toUrlSearchParams({arg:e.toString(),...n}),headers:n.headers})).iterator()}return t}),createCommands=configure(r=>async(e={})=>(await r.post("commands",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).json()),createDns=configure(r=>async(e,n={})=>(await(await r.post("dns",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers})).json()).Path),createGetEndpointConfig=configure(r=>()=>{const t=new URL(r.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}}),createGet=configure(r=>{async function*t(e,n={}){const i={arg:`${e instanceof Uint8Array?CID$1.decode(e):e}`,...n};i.compressionLevel&&(i["compression-level"]=i.compressionLevel,delete i.compressionLevel),yield*(await r.post("get",{signal:n.signal,searchParams:toUrlSearchParams(i),headers:n.headers})).iterator()}return t}),createId=configure(r=>{async function t(e={}){const i=await(await r.post("id",{signal:e.signal,searchParams:toUrlSearchParams({arg:e.peerId?e.peerId.toString():void 0,...e}),headers:e.headers})).json(),o={...objectToCamel(i)};return o.id=peerIdFromString(o.id),o.addresses&&(o.addresses=o.addresses.map(s=>multiaddr$1(s))),o}return t}),createIsOnline=r=>{const t=createId(r);async function e(n={}){const i=await t(n);return!!(i&&i.addresses&&i.addresses.length)}return e},createLs=configure((r,t)=>{async function*e(n,i={}){const o=`${n instanceof Uint8Array?CID$1.decode(n):n}`;async function s(c){let y=c.Hash;if(y.includes("/")){const h=y.startsWith("/ipfs/")?y:`/ipfs/${y}`;y=(await createStat$2(t)(h)).cid}else y=CID$1.parse(y);const g={name:c.Name,path:o+(c.Name?`/${c.Name}`:""),size:c.Size,cid:y,type:typeOf(c)};return c.Mode&&(g.mode=parseInt(c.Mode,8)),c.Mtime!==void 0&&c.Mtime!==null&&(g.mtime={secs:c.Mtime},c.MtimeNsecs!==void 0&&c.MtimeNsecs!==null&&(g.mtime.nsecs=c.MtimeNsecs)),g}const a=await r.post("ls",{signal:i.signal,searchParams:toUrlSearchParams({arg:o,...i}),headers:i.headers});for await(let c of a.ndjson()){if(c=c.Objects,!c)throw new Error("expected .Objects in results");if(c=c[0],!c)throw new Error("expected one array in results.Objects");const y=c.Links;if(!Array.isArray(y))throw new Error("expected one array in results.Objects[0].Links");if(!y.length){yield s(c);return}yield*y.map(s)}}return e});function typeOf(r){switch(r.Type){case 1:case 5:return"dir";case 2:return"file";default:return"file"}}const createMount=configure(r=>{async function t(e={}){const n=await r.post("dns",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers});return objectToCamel(await n.json())}return t}),createPing=configure(r=>{async function*t(e,n={}){yield*(await r.post("ping",{signal:n.signal,searchParams:toUrlSearchParams({arg:`${e}`,...n}),headers:n.headers,transform:objectToCamel})).ndjson()}return t}),createResolve=configure(r=>{async function t(e,n={}){const i=await r.post("resolve",{signal:n.signal,searchParams:toUrlSearchParams({arg:e,...n}),headers:n.headers}),{Path:o}=await i.json();return o}return t}),createStart=configure(r=>async(e={})=>{throw errCode(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),createStop=configure(r=>{async function t(e={}){await(await r.post("shutdown",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers})).text()}return t}),createVersion=configure(r=>{async function t(e={}){const n=await r.post("version",{signal:e.signal,searchParams:toUrlSearchParams(e),headers:e.headers});return{...objectToCamel(await n.json()),"ipfs-http-client":"1.0.0"}}return t});var urlSource_1,hasRequiredUrlSource;function requireUrlSource(){if(hasRequiredUrlSource)return urlSource_1;hasRequiredUrlSource=1;const r=requireHttp(),t=(n,i)=>({path:decodeURIComponent(new URL(n).pathname.split("/").pop()||""),content:e(n,i)});async function*e(n,i){yield*(await new r().get(n,i)).iterator()}return urlSource_1=t,urlSource_1}requireUrlSource();function create(r={}){const t={name:identity$4.name,code:identity$4.code,encode:y=>y,decode:y=>y},e=Object.values(bases$3);(r.ipld&&r.ipld.bases?r.ipld.bases:[]).forEach(y=>e.push(y));const n=new Multibases({bases:e,loadBase:r.ipld&&r.ipld.loadBase}),i=Object.values(codecs$1);[dagPB,dagCBOR,dagJSON,dagJOSE,t].concat(r.ipld&&r.ipld.codecs||[]).forEach(y=>i.push(y));const o=new Multicodecs({codecs:i,loadCodec:r.ipld&&r.ipld.loadCodec}),s=Object.values(hashes);(r.ipld&&r.ipld.hashers?r.ipld.hashers:[]).forEach(y=>s.push(y));const a=new Multihashes({hashers:s,loadHasher:r.ipld&&r.ipld.loadHasher});return{add:createAdd(r),addAll:createAddAll(r),bitswap:createBitswap(r),block:createBlock(r),bootstrap:createBootstrap(r),cat:createCat(r),commands:createCommands(r),config:createConfig(r),dag:createDag(o,r),dht:createDht(r),diag:createDiag(r),dns:createDns(r),files:createFiles(r),get:createGet(r),getEndpointConfig:createGetEndpointConfig(r),id:createId(r),isOnline:createIsOnline(r),key:createKey(r),log:createLog(r),ls:createLs(r),mount:createMount(r),name:createName(r),object:createObject(o,r),pin:createPin(r),ping:createPing(r),pubsub:createPubsub(r),refs:createRefs(r),repo:createRepo(r),resolve:createResolve(r),start:createStart(r),stats:createStats(r),stop:createStop(r),swarm:createSwarm(r),version:createVersion(r),bases:n,codecs:o,hashers:a}}var pRetry={exports:{}},retry$1={},retry_operation,hasRequiredRetry_operation;function requireRetry_operation(){if(hasRequiredRetry_operation)return retry_operation;hasRequiredRetry_operation=1;function r(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return retry_operation=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},n),this._options.unref&&this._timer.unref(),!0},r.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},r.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},r.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,i=0;i<this._errors.length;i++){var o=this._errors[i],s=o.message,a=(t[s]||0)+1;t[s]=a,a>=n&&(e=o,n=a)}return e},retry_operation}var hasRequiredRetry$1;function requireRetry$1(){return hasRequiredRetry$1||(hasRequiredRetry$1=1,(function(r){var t=requireRetry_operation();r.operation=function(e){var n=r.timeouts(e);return new t(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},r.timeouts=function(e){if(e instanceof Array)return[].concat(e);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in e)n[i]=e[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],s=0;s<n.retries;s++)o.push(this.createTimeout(s,n));return e&&e.forever&&!o.length&&o.push(this.createTimeout(s,n)),o.sort(function(a,c){return a-c}),o},r.createTimeout=function(e,n){var i=n.randomize?Math.random()+1:1,o=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,e));return o=Math.min(o,n.maxTimeout),o},r.wrap=function(e,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var o in e)typeof e[o]=="function"&&i.push(o)}for(var s=0;s<i.length;s++){var a=i[s],c=e[a];e[a]=function(g){var h=r.operation(n),l=Array.prototype.slice.call(arguments,1),w=l.pop();l.push(function(u){h.retry(u)||(u&&(arguments[0]=h.mainError()),w.apply(this,arguments))}),h.attempt(function(){g.apply(e,l)})}.bind(e,c),e[a].options=n}}})(retry$1)),retry$1}var retry,hasRequiredRetry;function requireRetry(){return hasRequiredRetry||(hasRequiredRetry=1,retry=requireRetry$1()),retry}var hasRequiredPRetry;function requirePRetry(){if(hasRequiredPRetry)return pRetry.exports;hasRequiredPRetry=1;const r=requireRetry(),t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class e extends Error{constructor(a){super(),a instanceof Error?(this.originalError=a,{message:a}=a):(this.originalError=new Error(a),this.originalError.stack=this.stack),this.name="AbortError",this.message=a}}const n=(s,a,c)=>{const y=c.retries-(a-1);return s.attemptNumber=a,s.retriesLeft=y,s},i=s=>t.includes(s),o=(s,a)=>new Promise((c,y)=>{a={onFailedAttempt:()=>{},retries:10,...a};const g=r.operation(a);g.attempt(async h=>{try{c(await s(h))}catch(l){if(!(l instanceof Error)){y(new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`));return}if(l instanceof e)g.stop(),y(l.originalError);else if(l instanceof TypeError&&!i(l.message))g.stop(),y(l);else{n(l,h,a);try{await a.onFailedAttempt(l)}catch(w){y(w);return}g.retry(l)||y(g.mainError())}}})});return pRetry.exports=o,pRetry.exports.default=o,pRetry.exports.AbortError=e,pRetry.exports}requirePRetry();var itPipe={exports:{}},hasRequiredItPipe;function requireItPipe(){if(hasRequiredItPipe)return itPipe.exports;hasRequiredItPipe=1;const r=(...o)=>{let s;for(;o.length;)s=o.shift()(s);return s},t=o=>o&&(typeof o[Symbol.asyncIterator]=="function"||typeof o[Symbol.iterator]=="function"||typeof o.next=="function"),e=o=>o&&typeof o.sink=="function"&&t(o.source),n=o=>s=>(o.sink(s),o.source),i=(...o)=>{if(e(o[0])){const s=o[0];o[0]=()=>s.source}else if(t(o[0])){const s=o[0];o[0]=()=>s}if(o.length>1&&e(o[o.length-1])&&(o[o.length-1]=o[o.length-1].sink),o.length>2)for(let s=1;s<o.length-1;s++)e(o[s])&&(o[s]=n(o[s]));return r(...o)};return itPipe.exports=i,itPipe.exports.pipe=i,itPipe.exports.rawPipe=r,itPipe.exports.isIterable=t,itPipe.exports.isDuplex=e,itPipe.exports}requireItPipe();const coerce$7=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};function base$7(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$9=base$7,_brrp__multiformats_scope_baseX$7=src$9;let Encoder$7=class{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$7=class{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$7(this,t)}},ComposedDecoder$7=class{constructor(t){this.decoders=t}or(t){return or$7(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$7=(r,t)=>new ComposedDecoder$7({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});let Codec$7=class{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$7(t,e,n),this.decoder=new Decoder$7(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const from$7=({name:r,prefix:t,encode:e,decode:n})=>new Codec$7(r,t,e,n),baseX$7=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$7(e,t);return from$7({prefix:r,name:t,encode:n,decode:o=>coerce$7(i(o))})},decode$a=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode$a=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648$7=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from$7({prefix:t,name:r,encode(i){return encode$a(i,n,e)},decode(i){return decode$a(i,n,e,r)}});baseX$7({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$7({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$7({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$7({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$7({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$7({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$7({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$7({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$7({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$7({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$7({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const typeofs$2=["string","number","bigint","symbol"],objectTypeNames$2=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is$2(r){if(r===null)return"null";if(r===void 0)return"undefined";if(r===!0||r===!1)return"boolean";const t=typeof r;if(typeofs$2.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(r))return"Array";if(isBuffer$5(r))return"Buffer";const e=getObjectType$2(r);return e||"Object"}function isBuffer$5(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}function getObjectType$2(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(objectTypeNames$2.includes(t))return t}let Type$2=class{constructor(t,e,n){this.major=t,this.majorEncoded=t<<5,this.name=e,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};Type$2.uint=new Type$2(0,"uint",!0);Type$2.negint=new Type$2(1,"negint",!0);Type$2.bytes=new Type$2(2,"bytes",!0);Type$2.string=new Type$2(3,"string",!0);Type$2.array=new Type$2(4,"array",!1);Type$2.map=new Type$2(5,"map",!1);Type$2.tag=new Type$2(6,"tag",!1);Type$2.float=new Type$2(7,"float",!0);Type$2.false=new Type$2(7,"false",!0);Type$2.true=new Type$2(7,"true",!0);Type$2.null=new Type$2(7,"null",!0);Type$2.undefined=new Type$2(7,"undefined",!0);Type$2.break=new Type$2(7,"break",!0);let Token$2=class{constructor(t,e,n){this.type=t,this.value=e,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};const useBuffer$2=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function";new TextDecoder;const textEncoder$2=new TextEncoder;function isBuffer$4(r){return useBuffer$2&&globalThis.Buffer.isBuffer(r)}const fromString$7=useBuffer$2?r=>r.length>64?globalThis.Buffer.from(r):utf8ToBytes$2(r):r=>r.length>64?textEncoder$2.encode(r):utf8ToBytes$2(r);function compare$2(r,t){if(isBuffer$4(r)&&isBuffer$4(t))return r.compare(t);for(let e=0;e<r.length;e++)if(r[e]!==t[e])return r[e]<t[e]?-1:1;return 0}function utf8ToBytes$2(r,t=1/0){let e;const n=r.length;let i=null;const o=[];for(let s=0;s<n;++s){if(e=r.charCodeAt(s),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}const decodeErrPrefix$2="CBOR decode error:",encodeErrPrefix$2="CBOR encode error:",uintBoundaries$2=[24,256,65536,4294967296,BigInt("18446744073709551616")];function encodeUint$2(r,t){return encodeUintValue$2(r,0,t.value)}function encodeUintValue$2(r,t,e){if(e<uintBoundaries$2[0]){const n=Number(e);r.push([t|n])}else if(e<uintBoundaries$2[1]){const n=Number(e);r.push([t|24,n])}else if(e<uintBoundaries$2[2]){const n=Number(e);r.push([t|25,n>>>8,n&255])}else if(e<uintBoundaries$2[3]){const n=Number(e);r.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(e);if(n<uintBoundaries$2[4]){const i=[t|27,0,0,0,0,0,0,0];let o=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=s&255,s=s>>8,i[3]=s&255,s=s>>8,i[2]=s&255,s=s>>8,i[1]=s&255,r.push(i)}else throw new Error(`${decodeErrPrefix$2} encountered BigInt larger than allowable range`)}}encodeUint$2.encodedSize=function r(t){return encodeUintValue$2.encodedSize(t.value)};encodeUintValue$2.encodedSize=function r(t){return t<uintBoundaries$2[0]?1:t<uintBoundaries$2[1]?2:t<uintBoundaries$2[2]?3:t<uintBoundaries$2[3]?5:9};encodeUint$2.compareTokens=function r(t,e){return t.value<e.value?-1:t.value>e.value?1:0};const neg1b$2=BigInt(-1),pos1b$2=BigInt(1);function encodeNegint$2(r,t){const e=t.value,n=typeof e=="bigint"?e*neg1b$2-pos1b$2:e*-1-1;encodeUintValue$2(r,t.type.majorEncoded,n)}encodeNegint$2.encodedSize=function r(t){const e=t.value,n=typeof e=="bigint"?e*neg1b$2-pos1b$2:e*-1-1;return n<uintBoundaries$2[0]?1:n<uintBoundaries$2[1]?2:n<uintBoundaries$2[2]?3:n<uintBoundaries$2[3]?5:9};encodeNegint$2.compareTokens=function r(t,e){return t.value<e.value?1:t.value>e.value?-1:0};function tokenBytes$2(r){return r.encodedBytes===void 0&&(r.encodedBytes=r.type===Type$2.string?fromString$7(r.value):r.value),r.encodedBytes}function encodeBytes$2(r,t){const e=tokenBytes$2(t);encodeUintValue$2(r,t.type.majorEncoded,e.length),r.push(e)}encodeBytes$2.encodedSize=function r(t){const e=tokenBytes$2(t);return encodeUintValue$2.encodedSize(e.length)+e.length};encodeBytes$2.compareTokens=function r(t,e){return compareBytes$2(tokenBytes$2(t),tokenBytes$2(e))};function compareBytes$2(r,t){return r.length<t.length?-1:r.length>t.length?1:compare$2(r,t)}const encodeString$2=encodeBytes$2;function encodeArray$2(r,t){encodeUintValue$2(r,Type$2.array.majorEncoded,t.value)}encodeArray$2.compareTokens=encodeUint$2.compareTokens;encodeArray$2.encodedSize=function r(t){return encodeUintValue$2.encodedSize(t.value)};function encodeMap$2(r,t){encodeUintValue$2(r,Type$2.map.majorEncoded,t.value)}encodeMap$2.compareTokens=encodeUint$2.compareTokens;encodeMap$2.encodedSize=function r(t){return encodeUintValue$2.encodedSize(t.value)};function encodeTag$2(r,t){encodeUintValue$2(r,Type$2.tag.majorEncoded,t.value)}encodeTag$2.compareTokens=encodeUint$2.compareTokens;encodeTag$2.encodedSize=function r(t){return encodeUintValue$2.encodedSize(t.value)};const MINOR_FALSE$2=20,MINOR_TRUE$2=21,MINOR_NULL$2=22,MINOR_UNDEFINED$2=23;function encodeFloat$2(r,t,e){const n=t.value;if(n===!1)r.push([Type$2.float.majorEncoded|MINOR_FALSE$2]);else if(n===!0)r.push([Type$2.float.majorEncoded|MINOR_TRUE$2]);else if(n===null)r.push([Type$2.float.majorEncoded|MINOR_NULL$2]);else if(n===void 0)r.push([Type$2.float.majorEncoded|MINOR_UNDEFINED$2]);else{let i,o=!1;(!e||e.float64!==!0)&&(encodeFloat16$2(n),i=readFloat16$2(ui8a$2,1),n===i||Number.isNaN(n)?(ui8a$2[0]=249,r.push(ui8a$2.slice(0,3)),o=!0):(encodeFloat32$2(n),i=readFloat32$2(ui8a$2,1),n===i&&(ui8a$2[0]=250,r.push(ui8a$2.slice(0,5)),o=!0))),o||(encodeFloat64$2(n),i=readFloat64$2(ui8a$2,1),ui8a$2[0]=251,r.push(ui8a$2.slice(0,9)))}}encodeFloat$2.encodedSize=function r(t,e){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!e||e.float64!==!0){encodeFloat16$2(n);let i=readFloat16$2(ui8a$2,1);if(n===i||Number.isNaN(n))return 3;if(encodeFloat32$2(n),i=readFloat32$2(ui8a$2,1),n===i)return 5}return 9};const buffer$3=new ArrayBuffer(9),dataView$2=new DataView(buffer$3,1),ui8a$2=new Uint8Array(buffer$3,0);function encodeFloat16$2(r){if(r===1/0)dataView$2.setUint16(0,31744,!1);else if(r===-1/0)dataView$2.setUint16(0,64512,!1);else if(Number.isNaN(r))dataView$2.setUint16(0,32256,!1);else{dataView$2.setFloat32(0,r);const t=dataView$2.getUint32(0),e=(t&2139095040)>>23,n=t&8388607;if(e===255)dataView$2.setUint16(0,31744,!1);else if(e===0)dataView$2.setUint16(0,(r&2147483648)>>16|n>>13,!1);else{const i=e-127;i<-24?dataView$2.setUint16(0,0):i<-14?dataView$2.setUint16(0,(t&2147483648)>>16|1<<24+i,!1):dataView$2.setUint16(0,(t&2147483648)>>16|i+15<<10|n>>13,!1)}}}function readFloat16$2(r,t){if(r.length-t<2)throw new Error(`${decodeErrPrefix$2} not enough data for float16`);const e=(r[t]<<8)+r[t+1];if(e===31744)return 1/0;if(e===64512)return-1/0;if(e===32256)return NaN;const n=e>>10&31,i=e&1023;let o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,e&32768?-o:o}function encodeFloat32$2(r){dataView$2.setFloat32(0,r,!1)}function readFloat32$2(r,t){if(r.length-t<4)throw new Error(`${decodeErrPrefix$2} not enough data for float32`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,4).getFloat32(0,!1)}function encodeFloat64$2(r){dataView$2.setFloat64(0,r,!1)}function readFloat64$2(r,t){if(r.length-t<8)throw new Error(`${decodeErrPrefix$2} not enough data for float64`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,8).getFloat64(0,!1)}encodeFloat$2.compareTokens=encodeUint$2.compareTokens;function makeCborEncoders$2(){const r=[];return r[Type$2.uint.major]=encodeUint$2,r[Type$2.negint.major]=encodeNegint$2,r[Type$2.bytes.major]=encodeBytes$2,r[Type$2.string.major]=encodeString$2,r[Type$2.array.major]=encodeArray$2,r[Type$2.map.major]=encodeMap$2,r[Type$2.tag.major]=encodeTag$2,r[Type$2.float.major]=encodeFloat$2,r}makeCborEncoders$2();let Ref$2=class ve{constructor(t,e){this.obj=t,this.parent=e}includes(t){let e=this;do if(e.obj===t)return!0;while(e=e.parent);return!1}static createCheck(t,e){if(t&&t.includes(e))throw new Error(`${encodeErrPrefix$2} object contains circular references`);return new ve(e,t)}};const simpleTokens$2={null:new Token$2(Type$2.null,null),undefined:new Token$2(Type$2.undefined,void 0),true:new Token$2(Type$2.true,!0),false:new Token$2(Type$2.false,!1),emptyArray:new Token$2(Type$2.array,0),emptyMap:new Token$2(Type$2.map,0)},typeEncoders$2={number(r,t,e,n){return!Number.isInteger(r)||!Number.isSafeInteger(r)?new Token$2(Type$2.float,r):r>=0?new Token$2(Type$2.uint,r):new Token$2(Type$2.negint,r)},bigint(r,t,e,n){return r>=BigInt(0)?new Token$2(Type$2.uint,r):new Token$2(Type$2.negint,r)},Uint8Array(r,t,e,n){return new Token$2(Type$2.bytes,r)},string(r,t,e,n){return new Token$2(Type$2.string,r)},boolean(r,t,e,n){return r?simpleTokens$2.true:simpleTokens$2.false},null(r,t,e,n){return simpleTokens$2.null},undefined(r,t,e,n){return simpleTokens$2.undefined},ArrayBuffer(r,t,e,n){return new Token$2(Type$2.bytes,new Uint8Array(r))},DataView(r,t,e,n){return new Token$2(Type$2.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))},Array(r,t,e,n){if(!r.length)return e.addBreakTokens===!0?[simpleTokens$2.emptyArray,new Token$2(Type$2.break)]:simpleTokens$2.emptyArray;n=Ref$2.createCheck(n,r);const i=[];let o=0;for(const s of r)i[o++]=objectToTokens$2(s,e,n);return e.addBreakTokens?[new Token$2(Type$2.array,r.length),i,new Token$2(Type$2.break)]:[new Token$2(Type$2.array,r.length),i]},Object(r,t,e,n){const i=t!=="Object",o=i?r.keys():Object.keys(r),s=i?r.size:o.length;if(!s)return e.addBreakTokens===!0?[simpleTokens$2.emptyMap,new Token$2(Type$2.break)]:simpleTokens$2.emptyMap;n=Ref$2.createCheck(n,r);const a=[];let c=0;for(const y of o)a[c++]=[objectToTokens$2(y,e,n),objectToTokens$2(i?r.get(y):r[y],e,n)];return sortMapEntries$2(a,e),e.addBreakTokens?[new Token$2(Type$2.map,s),a,new Token$2(Type$2.break)]:[new Token$2(Type$2.map,s),a]}};typeEncoders$2.Map=typeEncoders$2.Object;typeEncoders$2.Buffer=typeEncoders$2.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders$2[`${r}Array`]=typeEncoders$2.DataView;function objectToTokens$2(r,t={},e){const n=is$2(r),i=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders$2[n];if(typeof i=="function"){const s=i(r,n,t,e);if(s!=null)return s}const o=typeEncoders$2[n];if(!o)throw new Error(`${encodeErrPrefix$2} unsupported type: ${n}`);return o(r,n,t,e)}function sortMapEntries$2(r,t){t.mapSorter&&r.sort(t.mapSorter)}const coerce$6=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},fromString$6=r=>new TextEncoder().encode(r),toString$2=r=>new TextDecoder().decode(r),coerce$5=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};function base$6(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$8=base$6,_brrp__multiformats_scope_baseX$6=src$8;let Encoder$6=class{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$6=class{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$6(this,t)}},ComposedDecoder$6=class{constructor(t){this.decoders=t}or(t){return or$6(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$6=(r,t)=>new ComposedDecoder$6({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});let Codec$6=class{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$6(t,e,n),this.decoder=new Decoder$6(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const from$6=({name:r,prefix:t,encode:e,decode:n})=>new Codec$6(r,t,e,n),baseX$6=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$6(e,t);return from$6({prefix:r,name:t,encode:n,decode:o=>coerce$5(i(o))})},decode$9=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode$9=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648$6=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from$6({prefix:t,name:r,encode(i){return encode$9(i,n,e)},decode(i){return decode$9(i,n,e,r)}});baseX$6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$6({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$6({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$6({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$6({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$6({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$6({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$6({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$6({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$6({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var murmurHash3js={exports:{}},hasRequiredMurmurHash3js;function requireMurmurHash3js(){return hasRequiredMurmurHash3js||(hasRequiredMurmurHash3js=1,(function(r,t){(function(e,n){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(p){if(!Array.isArray(p)&&!ArrayBuffer.isView(p))return!1;for(var $=0;$<p.length;$++)if(!Number.isInteger(p[$])||p[$]<0||p[$]>255)return!1;return!0}function s(p,$){return(p&65535)*$+(((p>>>16)*$&65535)<<16)}function a(p,$){return p<<$|p>>>32-$}function c(p){return p^=p>>>16,p=s(p,2246822507),p^=p>>>13,p=s(p,3266489909),p^=p>>>16,p}function y(p,$){p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535],$=[$[0]>>>16,$[0]&65535,$[1]>>>16,$[1]&65535];var f=[0,0,0,0];return f[3]+=p[3]+$[3],f[2]+=f[3]>>>16,f[3]&=65535,f[2]+=p[2]+$[2],f[1]+=f[2]>>>16,f[2]&=65535,f[1]+=p[1]+$[1],f[0]+=f[1]>>>16,f[1]&=65535,f[0]+=p[0]+$[0],f[0]&=65535,[f[0]<<16|f[1],f[2]<<16|f[3]]}function g(p,$){p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535],$=[$[0]>>>16,$[0]&65535,$[1]>>>16,$[1]&65535];var f=[0,0,0,0];return f[3]+=p[3]*$[3],f[2]+=f[3]>>>16,f[3]&=65535,f[2]+=p[2]*$[3],f[1]+=f[2]>>>16,f[2]&=65535,f[2]+=p[3]*$[2],f[1]+=f[2]>>>16,f[2]&=65535,f[1]+=p[1]*$[3],f[0]+=f[1]>>>16,f[1]&=65535,f[1]+=p[2]*$[2],f[0]+=f[1]>>>16,f[1]&=65535,f[1]+=p[3]*$[1],f[0]+=f[1]>>>16,f[1]&=65535,f[0]+=p[0]*$[3]+p[1]*$[2]+p[2]*$[1]+p[3]*$[0],f[0]&=65535,[f[0]<<16|f[1],f[2]<<16|f[3]]}function h(p,$){return $%=64,$===32?[p[1],p[0]]:$<32?[p[0]<<$|p[1]>>>32-$,p[1]<<$|p[0]>>>32-$]:($-=32,[p[1]<<$|p[0]>>>32-$,p[0]<<$|p[1]>>>32-$])}function l(p,$){return $%=64,$===0?p:$<32?[p[0]<<$|p[1]>>>32-$,p[1]<<$]:[p[1]<<$-32,0]}function w(p,$){return[p[0]^$[0],p[1]^$[1]]}function u(p){return p=w(p,[0,p[0]>>>1]),p=g(p,[4283543511,3981806797]),p=w(p,[0,p[0]>>>1]),p=g(p,[3301882366,444984403]),p=w(p,[0,p[0]>>>1]),p}i.x86.hash32=function(p,$){if(i.inputValidation&&!o(p))return n;$=$||0;for(var f=p.length%4,m=p.length-f,E=$,T=0,_=3432918353,x=461845907,S=0;S<m;S=S+4)T=p[S]|p[S+1]<<8|p[S+2]<<16|p[S+3]<<24,T=s(T,_),T=a(T,15),T=s(T,x),E^=T,E=a(E,13),E=s(E,5)+3864292196;switch(T=0,f){case 3:T^=p[S+2]<<16;case 2:T^=p[S+1]<<8;case 1:T^=p[S],T=s(T,_),T=a(T,15),T=s(T,x),E^=T}return E^=p.length,E=c(E),E>>>0},i.x86.hash128=function(p,$){if(i.inputValidation&&!o(p))return n;$=$||0;for(var f=p.length%16,m=p.length-f,E=$,T=$,_=$,x=$,S=0,C=0,B=0,M=0,I=597399067,L=2869860233,H=951274213,N=2716044179,k=0;k<m;k=k+16)S=p[k]|p[k+1]<<8|p[k+2]<<16|p[k+3]<<24,C=p[k+4]|p[k+5]<<8|p[k+6]<<16|p[k+7]<<24,B=p[k+8]|p[k+9]<<8|p[k+10]<<16|p[k+11]<<24,M=p[k+12]|p[k+13]<<8|p[k+14]<<16|p[k+15]<<24,S=s(S,I),S=a(S,15),S=s(S,L),E^=S,E=a(E,19),E+=T,E=s(E,5)+1444728091,C=s(C,L),C=a(C,16),C=s(C,H),T^=C,T=a(T,17),T+=_,T=s(T,5)+197830471,B=s(B,H),B=a(B,17),B=s(B,N),_^=B,_=a(_,15),_+=x,_=s(_,5)+2530024501,M=s(M,N),M=a(M,18),M=s(M,I),x^=M,x=a(x,13),x+=E,x=s(x,5)+850148119;switch(S=0,C=0,B=0,M=0,f){case 15:M^=p[k+14]<<16;case 14:M^=p[k+13]<<8;case 13:M^=p[k+12],M=s(M,N),M=a(M,18),M=s(M,I),x^=M;case 12:B^=p[k+11]<<24;case 11:B^=p[k+10]<<16;case 10:B^=p[k+9]<<8;case 9:B^=p[k+8],B=s(B,H),B=a(B,17),B=s(B,N),_^=B;case 8:C^=p[k+7]<<24;case 7:C^=p[k+6]<<16;case 6:C^=p[k+5]<<8;case 5:C^=p[k+4],C=s(C,L),C=a(C,16),C=s(C,H),T^=C;case 4:S^=p[k+3]<<24;case 3:S^=p[k+2]<<16;case 2:S^=p[k+1]<<8;case 1:S^=p[k],S=s(S,I),S=a(S,15),S=s(S,L),E^=S}return E^=p.length,T^=p.length,_^=p.length,x^=p.length,E+=T,E+=_,E+=x,T+=E,_+=E,x+=E,E=c(E),T=c(T),_=c(_),x=c(x),E+=T,E+=_,E+=x,T+=E,_+=E,x+=E,("00000000"+(E>>>0).toString(16)).slice(-8)+("00000000"+(T>>>0).toString(16)).slice(-8)+("00000000"+(_>>>0).toString(16)).slice(-8)+("00000000"+(x>>>0).toString(16)).slice(-8)},i.x64.hash128=function(p,$){if(i.inputValidation&&!o(p))return n;$=$||0;for(var f=p.length%16,m=p.length-f,E=[0,$],T=[0,$],_=[0,0],x=[0,0],S=[2277735313,289559509],C=[1291169091,658871167],B=0;B<m;B=B+16)_=[p[B+4]|p[B+5]<<8|p[B+6]<<16|p[B+7]<<24,p[B]|p[B+1]<<8|p[B+2]<<16|p[B+3]<<24],x=[p[B+12]|p[B+13]<<8|p[B+14]<<16|p[B+15]<<24,p[B+8]|p[B+9]<<8|p[B+10]<<16|p[B+11]<<24],_=g(_,S),_=h(_,31),_=g(_,C),E=w(E,_),E=h(E,27),E=y(E,T),E=y(g(E,[0,5]),[0,1390208809]),x=g(x,C),x=h(x,33),x=g(x,S),T=w(T,x),T=h(T,31),T=y(T,E),T=y(g(T,[0,5]),[0,944331445]);switch(_=[0,0],x=[0,0],f){case 15:x=w(x,l([0,p[B+14]],48));case 14:x=w(x,l([0,p[B+13]],40));case 13:x=w(x,l([0,p[B+12]],32));case 12:x=w(x,l([0,p[B+11]],24));case 11:x=w(x,l([0,p[B+10]],16));case 10:x=w(x,l([0,p[B+9]],8));case 9:x=w(x,[0,p[B+8]]),x=g(x,C),x=h(x,33),x=g(x,S),T=w(T,x);case 8:_=w(_,l([0,p[B+7]],56));case 7:_=w(_,l([0,p[B+6]],48));case 6:_=w(_,l([0,p[B+5]],40));case 5:_=w(_,l([0,p[B+4]],32));case 4:_=w(_,l([0,p[B+3]],24));case 3:_=w(_,l([0,p[B+2]],16));case 2:_=w(_,l([0,p[B+1]],8));case 1:_=w(_,[0,p[B]]),_=g(_,S),_=h(_,31),_=g(_,C),E=w(E,_)}return E=w(E,[0,p.length]),T=w(T,[0,p.length]),E=y(E,T),T=y(T,E),E=u(E),T=u(T),E=y(E,T),T=y(T,E),("00000000"+(E[0]>>>0).toString(16)).slice(-8)+("00000000"+(E[1]>>>0).toString(16)).slice(-8)+("00000000"+(T[0]>>>0).toString(16)).slice(-8)+("00000000"+(T[1]>>>0).toString(16)).slice(-8)},r.exports&&(t=r.exports=i),t.murmurHash3=i})()})(murmurHash3js,murmurHash3js.exports)),murmurHash3js.exports}var murmurhash3jsRevisited,hasRequiredMurmurhash3jsRevisited;function requireMurmurhash3jsRevisited(){return hasRequiredMurmurhash3jsRevisited||(hasRequiredMurmurhash3jsRevisited=1,murmurhash3jsRevisited=requireMurmurHash3js()),murmurhash3jsRevisited}requireMurmurhash3jsRevisited();var indexMinimal$2={},minimal$5={},longbits$2,hasRequiredLongbits$2;function requireLongbits$2(){if(hasRequiredLongbits$2)return longbits$2;hasRequiredLongbits$2=1,longbits$2=t;var r=requireMinimal$5();function t(o,s){this.lo=o>>>0,this.hi=s>>>0}var e=t.zero=new t(0,0);e.toNumber=function(){return 0},e.zzEncode=e.zzDecode=function(){return this},e.length=function(){return 1};var n=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(s){if(s===0)return e;var a=s<0;a&&(s=-s);var c=s>>>0,y=(s-c)/4294967296>>>0;return a&&(y=~y>>>0,c=~c>>>0,++c>4294967295&&(c=0,++y>4294967295&&(y=0))),new t(c,y)},t.from=function(s){if(typeof s=="number")return t.fromNumber(s);if(r.isString(s))if(r.Long)s=r.Long.fromString(s);else return t.fromNumber(parseInt(s,10));return s.low||s.high?new t(s.low>>>0,s.high>>>0):e},t.prototype.toNumber=function(s){if(!s&&this.hi>>>31){var a=~this.lo+1>>>0,c=~this.hi>>>0;return a||(c=c+1>>>0),-(a+c*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(s){return r.Long?new r.Long(this.lo|0,this.hi|0,!!s):{low:this.lo|0,high:this.hi|0,unsigned:!!s}};var i=String.prototype.charCodeAt;return t.fromHash=function(s){return s===n?e:new t((i.call(s,0)|i.call(s,1)<<8|i.call(s,2)<<16|i.call(s,3)<<24)>>>0,(i.call(s,4)|i.call(s,5)<<8|i.call(s,6)<<16|i.call(s,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},t.prototype.zzDecode=function(){var s=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},t.prototype.length=function(){var s=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?a===0?s<16384?s<128?1:2:s<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:c<128?9:10},longbits$2}var hasRequiredMinimal$5;function requireMinimal$5(){return hasRequiredMinimal$5||(hasRequiredMinimal$5=1,(function(r){var t=r;t.asPromise=requireAspromise(),t.base64=requireBase64(),t.EventEmitter=requireEventemitter(),t.float=requireFloat(),t.inquire=requireInquire(),t.utf8=requireUtf8(),t.pool=requirePool(),t.LongBits=requireLongbits$2(),t.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$5,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,s){var a=o[s];return a!=null&&o.hasOwnProperty(s)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1},t.Buffer=(function(){try{var i=t.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}})(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,s){var a=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(a.lo,a.hi,s):a.toNumber(!!s)};function e(i,o,s){for(var a=Object.keys(o),c=0;c<a.length;++c)(i[a[c]]===void 0||!s)&&(i[a[c]]=o[a[c]]);return i}t.merge=e,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function n(i){function o(s,a){if(!(this instanceof o))return new o(s,a);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&e(this,a)}return(o.prototype=Object.create(Error.prototype)).constructor=o,Object.defineProperty(o.prototype,"name",{get:function(){return i}}),o.prototype.toString=function(){return this.name+": "+this.message},o}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(o){for(var s={},a=0;a<o.length;++a)s[o[a]]=1;return function(){for(var c=Object.keys(this),y=c.length-1;y>-1;--y)if(s[c[y]]===1&&this[c[y]]!==void 0&&this[c[y]]!==null)return c[y]}},t.oneOfSetter=function(o){return function(s){for(var a=0;a<o.length;++a)o[a]!==s&&delete this[o[a]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var i=t.Buffer;if(!i){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=i.from!==Uint8Array.from&&i.from||function(s,a){return new i(s,a)},t._Buffer_allocUnsafe=i.allocUnsafe||function(s){return new i(s)}}})(minimal$5)),minimal$5}var writer$2,hasRequiredWriter$2;function requireWriter$2(){if(hasRequiredWriter$2)return writer$2;hasRequiredWriter$2=1,writer$2=c;var r=requireMinimal$5(),t,e=r.LongBits,n=r.base64,i=r.utf8;function o($,f,m){this.fn=$,this.len=f,this.next=void 0,this.val=m}function s(){}function a($){this.head=$.head,this.tail=$.tail,this.len=$.len,this.next=$.states}function c(){this.len=0,this.head=new o(s,0,0),this.tail=this.head,this.states=null}var y=function(){return r.Buffer?function(){return(c.create=function(){return new t})()}:function(){return new c}};c.create=y(),c.alloc=function(f){return new r.Array(f)},r.Array!==Array&&(c.alloc=r.pool(c.alloc,r.Array.prototype.subarray)),c.prototype._push=function(f,m,E){return this.tail=this.tail.next=new o(f,m,E),this.len+=m,this};function g($,f,m){f[m]=$&255}function h($,f,m){for(;$>127;)f[m++]=$&127|128,$>>>=7;f[m]=$}function l($,f){this.len=$,this.next=void 0,this.val=f}l.prototype=Object.create(o.prototype),l.prototype.fn=h,c.prototype.uint32=function(f){return this.len+=(this.tail=this.tail.next=new l((f=f>>>0)<128?1:f<16384?2:f<2097152?3:f<268435456?4:5,f)).len,this},c.prototype.int32=function(f){return f<0?this._push(w,10,e.fromNumber(f)):this.uint32(f)},c.prototype.sint32=function(f){return this.uint32((f<<1^f>>31)>>>0)};function w($,f,m){for(;$.hi;)f[m++]=$.lo&127|128,$.lo=($.lo>>>7|$.hi<<25)>>>0,$.hi>>>=7;for(;$.lo>127;)f[m++]=$.lo&127|128,$.lo=$.lo>>>7;f[m++]=$.lo}c.prototype.uint64=function(f){var m=e.from(f);return this._push(w,m.length(),m)},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(f){var m=e.from(f).zzEncode();return this._push(w,m.length(),m)},c.prototype.bool=function(f){return this._push(g,1,f?1:0)};function u($,f,m){f[m]=$&255,f[m+1]=$>>>8&255,f[m+2]=$>>>16&255,f[m+3]=$>>>24}c.prototype.fixed32=function(f){return this._push(u,4,f>>>0)},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(f){var m=e.from(f);return this._push(u,4,m.lo)._push(u,4,m.hi)},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(f){return this._push(r.float.writeFloatLE,4,f)},c.prototype.double=function(f){return this._push(r.float.writeDoubleLE,8,f)};var p=r.Array.prototype.set?function(f,m,E){m.set(f,E)}:function(f,m,E){for(var T=0;T<f.length;++T)m[E+T]=f[T]};return c.prototype.bytes=function(f){var m=f.length>>>0;if(!m)return this._push(g,1,0);if(r.isString(f)){var E=c.alloc(m=n.length(f));n.decode(f,E,0),f=E}return this.uint32(m)._push(p,m,f)},c.prototype.string=function(f){var m=i.length(f);return m?this.uint32(m)._push(i.write,m,f):this._push(g,1,0)},c.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new o(s,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(s,0,0),this.len=0),this},c.prototype.ldelim=function(){var f=this.head,m=this.tail,E=this.len;return this.reset().uint32(E),E&&(this.tail.next=f.next,this.tail=m,this.len+=E),this},c.prototype.finish=function(){for(var f=this.head.next,m=this.constructor.alloc(this.len),E=0;f;)f.fn(f.val,m,E),E+=f.len,f=f.next;return m},c._configure=function($){t=$,c.create=y(),t._configure()},writer$2}var writer_buffer$2,hasRequiredWriter_buffer$2;function requireWriter_buffer$2(){if(hasRequiredWriter_buffer$2)return writer_buffer$2;hasRequiredWriter_buffer$2=1,writer_buffer$2=e;var r=requireWriter$2();(e.prototype=Object.create(r.prototype)).constructor=e;var t=requireMinimal$5();function e(){r.call(this)}e._configure=function(){e.alloc=t._Buffer_allocUnsafe,e.writeBytesBuffer=t.Buffer&&t.Buffer.prototype instanceof Uint8Array&&t.Buffer.prototype.set.name==="set"?function(o,s,a){s.set(o,a)}:function(o,s,a){if(o.copy)o.copy(s,a,0,o.length);else for(var c=0;c<o.length;)s[a++]=o[c++]}},e.prototype.bytes=function(o){t.isString(o)&&(o=t._Buffer_from(o,"base64"));var s=o.length>>>0;return this.uint32(s),s&&this._push(e.writeBytesBuffer,s,o),this};function n(i,o,s){i.length<40?t.utf8.write(i,o,s):o.utf8Write?o.utf8Write(i,s):o.write(i,s)}return e.prototype.string=function(o){var s=t.Buffer.byteLength(o);return this.uint32(s),s&&this._push(n,s,o),this},e._configure(),writer_buffer$2}var reader$2,hasRequiredReader$2;function requireReader$2(){if(hasRequiredReader$2)return reader$2;hasRequiredReader$2=1,reader$2=o;var r=requireMinimal$5(),t,e=r.LongBits,n=r.utf8;function i(h,l){return RangeError("index out of range: "+h.pos+" + "+(l||1)+" > "+h.len)}function o(h){this.buf=h,this.pos=0,this.len=h.length}var s=typeof Uint8Array<"u"?function(l){if(l instanceof Uint8Array||Array.isArray(l))return new o(l);throw Error("illegal buffer")}:function(l){if(Array.isArray(l))return new o(l);throw Error("illegal buffer")},a=function(){return r.Buffer?function(w){return(o.create=function(p){return r.Buffer.isBuffer(p)?new t(p):s(p)})(w)}:s};o.create=a(),o.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,o.prototype.uint32=(function(){var l=4294967295;return function(){if(l=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(l=(l|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return l;if((this.pos+=5)>this.len)throw this.pos=this.len,i(this,10);return l}})(),o.prototype.int32=function(){return this.uint32()|0},o.prototype.sint32=function(){var l=this.uint32();return l>>>1^-(l&1)|0};function c(){var h=new e(0,0),l=0;if(this.len-this.pos>4){for(;l<4;++l)if(h.lo=(h.lo|(this.buf[this.pos]&127)<<l*7)>>>0,this.buf[this.pos++]<128)return h;if(h.lo=(h.lo|(this.buf[this.pos]&127)<<28)>>>0,h.hi=(h.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return h;l=0}else{for(;l<3;++l){if(this.pos>=this.len)throw i(this);if(h.lo=(h.lo|(this.buf[this.pos]&127)<<l*7)>>>0,this.buf[this.pos++]<128)return h}return h.lo=(h.lo|(this.buf[this.pos++]&127)<<l*7)>>>0,h}if(this.len-this.pos>4){for(;l<5;++l)if(h.hi=(h.hi|(this.buf[this.pos]&127)<<l*7+3)>>>0,this.buf[this.pos++]<128)return h}else for(;l<5;++l){if(this.pos>=this.len)throw i(this);if(h.hi=(h.hi|(this.buf[this.pos]&127)<<l*7+3)>>>0,this.buf[this.pos++]<128)return h}throw Error("invalid varint encoding")}o.prototype.bool=function(){return this.uint32()!==0};function y(h,l){return(h[l-4]|h[l-3]<<8|h[l-2]<<16|h[l-1]<<24)>>>0}o.prototype.fixed32=function(){if(this.pos+4>this.len)throw i(this,4);return y(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i(this,4);return y(this.buf,this.pos+=4)|0};function g(){if(this.pos+8>this.len)throw i(this,8);return new e(y(this.buf,this.pos+=4),y(this.buf,this.pos+=4))}return o.prototype.float=function(){if(this.pos+4>this.len)throw i(this,4);var l=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,l},o.prototype.double=function(){if(this.pos+8>this.len)throw i(this,4);var l=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,l},o.prototype.bytes=function(){var l=this.uint32(),w=this.pos,u=this.pos+l;if(u>this.len)throw i(this,l);return this.pos+=l,Array.isArray(this.buf)?this.buf.slice(w,u):w===u?new this.buf.constructor(0):this._slice.call(this.buf,w,u)},o.prototype.string=function(){var l=this.bytes();return n.read(l,0,l.length)},o.prototype.skip=function(l){if(typeof l=="number"){if(this.pos+l>this.len)throw i(this,l);this.pos+=l}else do if(this.pos>=this.len)throw i(this);while(this.buf[this.pos++]&128);return this},o.prototype.skipType=function(h){switch(h){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(h=this.uint32()&7)!==4;)this.skipType(h);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+h+" at offset "+this.pos)}return this},o._configure=function(h){t=h,o.create=a(),t._configure();var l=r.Long?"toLong":"toNumber";r.merge(o.prototype,{int64:function(){return c.call(this)[l](!1)},uint64:function(){return c.call(this)[l](!0)},sint64:function(){return c.call(this).zzDecode()[l](!1)},fixed64:function(){return g.call(this)[l](!0)},sfixed64:function(){return g.call(this)[l](!1)}})},reader$2}var reader_buffer$2,hasRequiredReader_buffer$2;function requireReader_buffer$2(){if(hasRequiredReader_buffer$2)return reader_buffer$2;hasRequiredReader_buffer$2=1,reader_buffer$2=e;var r=requireReader$2();(e.prototype=Object.create(r.prototype)).constructor=e;var t=requireMinimal$5();function e(n){r.call(this,n)}return e._configure=function(){t.Buffer&&(e.prototype._slice=t.Buffer.prototype.slice)},e.prototype.string=function(){var i=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+i,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+i,this.len))},e._configure(),reader_buffer$2}var rpc$2={},service$2,hasRequiredService$2;function requireService$2(){if(hasRequiredService$2)return service$2;hasRequiredService$2=1,service$2=t;var r=requireMinimal$5();(t.prototype=Object.create(r.EventEmitter.prototype)).constructor=t;function t(e,n,i){if(typeof e!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!n,this.responseDelimited=!!i}return t.prototype.rpcCall=function e(n,i,o,s,a){if(!s)throw TypeError("request must be specified");var c=this;if(!a)return r.asPromise(e,c,n,i,o,s);if(!c.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return c.rpcImpl(n,i[c.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(g,h){if(g)return c.emit("error",g,n),a(g);if(h===null){c.end(!0);return}if(!(h instanceof o))try{h=o[c.responseDelimited?"decodeDelimited":"decode"](h)}catch(l){return c.emit("error",l,n),a(l)}return c.emit("data",h,n),a(null,h)})}catch(y){c.emit("error",y,n),setTimeout(function(){a(y)},0);return}},t.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$2}var hasRequiredRpc$2;function requireRpc$2(){return hasRequiredRpc$2||(hasRequiredRpc$2=1,(function(r){var t=r;t.Service=requireService$2()})(rpc$2)),rpc$2}var roots$2,hasRequiredRoots$2;function requireRoots$2(){return hasRequiredRoots$2||(hasRequiredRoots$2=1,roots$2={}),roots$2}var hasRequiredIndexMinimal$2;function requireIndexMinimal$2(){return hasRequiredIndexMinimal$2||(hasRequiredIndexMinimal$2=1,(function(r){var t=r;t.build="minimal",t.Writer=requireWriter$2(),t.BufferWriter=requireWriter_buffer$2(),t.Reader=requireReader$2(),t.BufferReader=requireReader_buffer$2(),t.util=requireMinimal$5(),t.rpc=requireRpc$2(),t.roots=requireRoots$2(),t.configure=e;function e(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}e()})(indexMinimal$2)),indexMinimal$2}var minimal$4,hasRequiredMinimal$4;function requireMinimal$4(){return hasRequiredMinimal$4||(hasRequiredMinimal$4=1,minimal$4=requireIndexMinimal$2()),minimal$4}var minimalExports$2=requireMinimal$4();const $protobuf$2=getDefaultExportFromCjs(minimalExports$2),$Reader$2=$protobuf$2.Reader,$Writer$2=$protobuf$2.Writer,$util$2=$protobuf$2.util,$root$2=$protobuf$2.roots["ipfs-unixfs"]||($protobuf$2.roots["ipfs-unixfs"]={});$root$2.Data=(()=>{function r(t){if(this.blocksizes=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.Type=0,r.prototype.Data=$util$2.newBuffer([]),r.prototype.filesize=$util$2.Long?$util$2.Long.fromBits(0,0,!0):0,r.prototype.blocksizes=$util$2.emptyArray,r.prototype.hashType=$util$2.Long?$util$2.Long.fromBits(0,0,!0):0,r.prototype.fanout=$util$2.Long?$util$2.Long.fromBits(0,0,!0):0,r.prototype.mode=0,r.prototype.mtime=null,r.encode=function(e,n){if(n||(n=$Writer$2.create()),n.uint32(8).int32(e.Type),e.Data!=null&&Object.hasOwnProperty.call(e,"Data")&&n.uint32(18).bytes(e.Data),e.filesize!=null&&Object.hasOwnProperty.call(e,"filesize")&&n.uint32(24).uint64(e.filesize),e.blocksizes!=null&&e.blocksizes.length)for(var i=0;i<e.blocksizes.length;++i)n.uint32(32).uint64(e.blocksizes[i]);return e.hashType!=null&&Object.hasOwnProperty.call(e,"hashType")&&n.uint32(40).uint64(e.hashType),e.fanout!=null&&Object.hasOwnProperty.call(e,"fanout")&&n.uint32(48).uint64(e.fanout),e.mode!=null&&Object.hasOwnProperty.call(e,"mode")&&n.uint32(56).uint32(e.mode),e.mtime!=null&&Object.hasOwnProperty.call(e,"mtime")&&$root$2.UnixTime.encode(e.mtime,n.uint32(66).fork()).ldelim(),n},r.decode=function(e,n){e instanceof $Reader$2||(e=$Reader$2.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root$2.Data;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.Type=e.int32();break;case 2:o.Data=e.bytes();break;case 3:o.filesize=e.uint64();break;case 4:if(o.blocksizes&&o.blocksizes.length||(o.blocksizes=[]),(s&7)===2)for(var a=e.uint32()+e.pos;e.pos<a;)o.blocksizes.push(e.uint64());else o.blocksizes.push(e.uint64());break;case 5:o.hashType=e.uint64();break;case 6:o.fanout=e.uint64();break;case 7:o.mode=e.uint32();break;case 8:o.mtime=$root$2.UnixTime.decode(e,e.uint32());break;default:e.skipType(s&7);break}}if(!o.hasOwnProperty("Type"))throw $util$2.ProtocolError("missing required 'Type'",{instance:o});return o},r.fromObject=function(e){if(e instanceof $root$2.Data)return e;var n=new $root$2.Data;switch(e.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(e.Data!=null&&(typeof e.Data=="string"?$util$2.base64.decode(e.Data,n.Data=$util$2.newBuffer($util$2.base64.length(e.Data)),0):e.Data.length&&(n.Data=e.Data)),e.filesize!=null&&($util$2.Long?(n.filesize=$util$2.Long.fromValue(e.filesize)).unsigned=!0:typeof e.filesize=="string"?n.filesize=parseInt(e.filesize,10):typeof e.filesize=="number"?n.filesize=e.filesize:typeof e.filesize=="object"&&(n.filesize=new $util$2.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)$util$2.Long?(n.blocksizes[i]=$util$2.Long.fromValue(e.blocksizes[i])).unsigned=!0:typeof e.blocksizes[i]=="string"?n.blocksizes[i]=parseInt(e.blocksizes[i],10):typeof e.blocksizes[i]=="number"?n.blocksizes[i]=e.blocksizes[i]:typeof e.blocksizes[i]=="object"&&(n.blocksizes[i]=new $util$2.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0))}if(e.hashType!=null&&($util$2.Long?(n.hashType=$util$2.Long.fromValue(e.hashType)).unsigned=!0:typeof e.hashType=="string"?n.hashType=parseInt(e.hashType,10):typeof e.hashType=="number"?n.hashType=e.hashType:typeof e.hashType=="object"&&(n.hashType=new $util$2.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),e.fanout!=null&&($util$2.Long?(n.fanout=$util$2.Long.fromValue(e.fanout)).unsigned=!0:typeof e.fanout=="string"?n.fanout=parseInt(e.fanout,10):typeof e.fanout=="number"?n.fanout=e.fanout:typeof e.fanout=="object"&&(n.fanout=new $util$2.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),e.mode!=null&&(n.mode=e.mode>>>0),e.mtime!=null){if(typeof e.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=$root$2.UnixTime.fromObject(e.mtime)}return n},r.toObject=function(e,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocksizes=[]),n.defaults){if(i.Type=n.enums===String?"Raw":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=$util$2.newBuffer(i.Data))),$util$2.Long){var o=new $util$2.Long(0,0,!0);i.filesize=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.filesize=n.longs===String?"0":0;if($util$2.Long){var o=new $util$2.Long(0,0,!0);i.hashType=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.hashType=n.longs===String?"0":0;if($util$2.Long){var o=new $util$2.Long(0,0,!0);i.fanout=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.fanout=n.longs===String?"0":0;i.mode=0,i.mtime=null}if(e.Type!=null&&e.hasOwnProperty("Type")&&(i.Type=n.enums===String?$root$2.Data.DataType[e.Type]:e.Type),e.Data!=null&&e.hasOwnProperty("Data")&&(i.Data=n.bytes===String?$util$2.base64.encode(e.Data,0,e.Data.length):n.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),e.filesize!=null&&e.hasOwnProperty("filesize")&&(typeof e.filesize=="number"?i.filesize=n.longs===String?String(e.filesize):e.filesize:i.filesize=n.longs===String?$util$2.Long.prototype.toString.call(e.filesize):n.longs===Number?new $util$2.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){i.blocksizes=[];for(var s=0;s<e.blocksizes.length;++s)typeof e.blocksizes[s]=="number"?i.blocksizes[s]=n.longs===String?String(e.blocksizes[s]):e.blocksizes[s]:i.blocksizes[s]=n.longs===String?$util$2.Long.prototype.toString.call(e.blocksizes[s]):n.longs===Number?new $util$2.LongBits(e.blocksizes[s].low>>>0,e.blocksizes[s].high>>>0).toNumber(!0):e.blocksizes[s]}return e.hashType!=null&&e.hasOwnProperty("hashType")&&(typeof e.hashType=="number"?i.hashType=n.longs===String?String(e.hashType):e.hashType:i.hashType=n.longs===String?$util$2.Long.prototype.toString.call(e.hashType):n.longs===Number?new $util$2.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),e.fanout!=null&&e.hasOwnProperty("fanout")&&(typeof e.fanout=="number"?i.fanout=n.longs===String?String(e.fanout):e.fanout:i.fanout=n.longs===String?$util$2.Long.prototype.toString.call(e.fanout):n.longs===Number?new $util$2.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),e.mode!=null&&e.hasOwnProperty("mode")&&(i.mode=e.mode),e.mtime!=null&&e.hasOwnProperty("mtime")&&(i.mtime=$root$2.UnixTime.toObject(e.mtime,n)),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$2.util.toJSONOptions)},r.DataType=(function(){const t={},e=Object.create(t);return e[t[0]="Raw"]=0,e[t[1]="Directory"]=1,e[t[2]="File"]=2,e[t[3]="Metadata"]=3,e[t[4]="Symlink"]=4,e[t[5]="HAMTShard"]=5,e})(),r})();$root$2.UnixTime=(()=>{function r(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.Seconds=$util$2.Long?$util$2.Long.fromBits(0,0,!1):0,r.prototype.FractionalNanoseconds=0,r.encode=function(e,n){return n||(n=$Writer$2.create()),n.uint32(8).int64(e.Seconds),e.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&n.uint32(21).fixed32(e.FractionalNanoseconds),n},r.decode=function(e,n){e instanceof $Reader$2||(e=$Reader$2.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root$2.UnixTime;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.Seconds=e.int64();break;case 2:o.FractionalNanoseconds=e.fixed32();break;default:e.skipType(s&7);break}}if(!o.hasOwnProperty("Seconds"))throw $util$2.ProtocolError("missing required 'Seconds'",{instance:o});return o},r.fromObject=function(e){if(e instanceof $root$2.UnixTime)return e;var n=new $root$2.UnixTime;return e.Seconds!=null&&($util$2.Long?(n.Seconds=$util$2.Long.fromValue(e.Seconds)).unsigned=!1:typeof e.Seconds=="string"?n.Seconds=parseInt(e.Seconds,10):typeof e.Seconds=="number"?n.Seconds=e.Seconds:typeof e.Seconds=="object"&&(n.Seconds=new $util$2.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),e.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=e.FractionalNanoseconds>>>0),n},r.toObject=function(e,n){n||(n={});var i={};if(n.defaults){if($util$2.Long){var o=new $util$2.Long(0,0,!1);i.Seconds=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.Seconds=n.longs===String?"0":0;i.FractionalNanoseconds=0}return e.Seconds!=null&&e.hasOwnProperty("Seconds")&&(typeof e.Seconds=="number"?i.Seconds=n.longs===String?String(e.Seconds):e.Seconds:i.Seconds=n.longs===String?$util$2.Long.prototype.toString.call(e.Seconds):n.longs===Number?new $util$2.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),e.FractionalNanoseconds!=null&&e.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=e.FractionalNanoseconds),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$2.util.toJSONOptions)},r})();$root$2.Metadata=(()=>{function r(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.MimeType="",r.encode=function(e,n){return n||(n=$Writer$2.create()),e.MimeType!=null&&Object.hasOwnProperty.call(e,"MimeType")&&n.uint32(10).string(e.MimeType),n},r.decode=function(e,n){e instanceof $Reader$2||(e=$Reader$2.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root$2.Metadata;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.MimeType=e.string();break;default:e.skipType(s&7);break}}return o},r.fromObject=function(e){if(e instanceof $root$2.Metadata)return e;var n=new $root$2.Metadata;return e.MimeType!=null&&(n.MimeType=String(e.MimeType)),n},r.toObject=function(e,n){n||(n={});var i={};return n.defaults&&(i.MimeType=""),e.MimeType!=null&&e.hasOwnProperty("MimeType")&&(i.MimeType=e.MimeType),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$2.util.toJSONOptions)},r})();function base$5(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$7=base$5,_brrp__multiformats_scope_baseX$5=src$7;let Encoder$5=class{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$5=class{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$5(this,t)}},ComposedDecoder$5=class{constructor(t){this.decoders=t}or(t){return or$5(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$5=(r,t)=>new ComposedDecoder$5({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});let Codec$5=class{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$5(t,e,n),this.decoder=new Decoder$5(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const from$5=({name:r,prefix:t,encode:e,decode:n})=>new Codec$5(r,t,e,n),baseX$5=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$5(e,t);return from$5({prefix:r,name:t,encode:n,decode:o=>coerce$6(i(o))})},decode$8=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode$8=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648$5=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from$5({prefix:t,name:r,encode(i){return encode$8(i,n,e)},decode(i){return decode$8(i,n,e,r)}});baseX$5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$5({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$5({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$5({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$5({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$5({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$5({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$5({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$5({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$5({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});new TextDecoder;new TextEncoder;new TextEncoder;var buffer$2={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=a,base64Js.toByteArray=y,base64Js.fromByteArray=l;for(var r=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)r[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(w){var u=w.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=w.indexOf("=");p===-1&&(p=u);var $=p===u?0:4-p%4;return[p,$]}function a(w){var u=s(w),p=u[0],$=u[1];return(p+$)*3/4-$}function c(w,u,p){return(u+p)*3/4-p}function y(w){var u,p=s(w),$=p[0],f=p[1],m=new e(c(w,$,f)),E=0,T=f>0?$-4:$,_;for(_=0;_<T;_+=4)u=t[w.charCodeAt(_)]<<18|t[w.charCodeAt(_+1)]<<12|t[w.charCodeAt(_+2)]<<6|t[w.charCodeAt(_+3)],m[E++]=u>>16&255,m[E++]=u>>8&255,m[E++]=u&255;return f===2&&(u=t[w.charCodeAt(_)]<<2|t[w.charCodeAt(_+1)]>>4,m[E++]=u&255),f===1&&(u=t[w.charCodeAt(_)]<<10|t[w.charCodeAt(_+1)]<<4|t[w.charCodeAt(_+2)]>>2,m[E++]=u>>8&255,m[E++]=u&255),m}function g(w){return r[w>>18&63]+r[w>>12&63]+r[w>>6&63]+r[w&63]}function h(w,u,p){for(var $,f=[],m=u;m<p;m+=3)$=(w[m]<<16&16711680)+(w[m+1]<<8&65280)+(w[m+2]&255),f.push(g($));return f.join("")}function l(w){for(var u,p=w.length,$=p%3,f=[],m=16383,E=0,T=p-$;E<T;E+=m)f.push(h(w,E,E+m>T?T:E+m));return $===1?(u=w[p-1],f.push(r[u>>2]+r[u<<4&63]+"==")):$===2&&(u=(w[p-2]<<8)+w[p-1],f.push(r[u>>10]+r[u>>4&63]+r[u<<2&63]+"=")),f.join("")}return base64Js}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(r,t,e,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,y=c>>1,g=-7,h=e?i-1:0,l=e?-1:1,w=r[t+h];for(h+=l,o=w&(1<<-g)-1,w>>=-g,g+=a;g>0;o=o*256+r[t+h],h+=l,g-=8);for(s=o&(1<<-g)-1,o>>=-g,g+=n;g>0;s=s*256+r[t+h],h+=l,g-=8);if(o===0)o=1-y;else{if(o===c)return s?NaN:(w?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-y}return(w?-1:1)*s*Math.pow(2,o-n)},ieee754.write=function(r,t,e,n,i,o){var s,a,c,y=o*8-i-1,g=(1<<y)-1,h=g>>1,l=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:o-1,u=n?1:-1,p=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=g):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+h>=1?t+=l/c:t+=l*Math.pow(2,1-h),t*c>=2&&(s++,c/=2),s+h>=g?(a=0,s=g):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s=s+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;r[e+w]=a&255,w+=u,a/=256,i-=8);for(s=s<<i|a,y+=i;y>0;r[e+w]=s&255,w+=u,s/=256,y-=8);r[e+w-u]|=p*128}),ieee754}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,(function(r){const t=requireBase64Js(),e=requireIeee754(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=m,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const D=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(D,d),D.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(D){if(D>i)throw new RangeError('The value "'+D+'" is invalid for option "size"');const d=new Uint8Array(D);return Object.setPrototypeOf(d,a.prototype),d}function a(D,d,b){if(typeof D=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(D)}return c(D,d,b)}a.poolSize=8192;function c(D,d,b){if(typeof D=="string")return l(D,d);if(ArrayBuffer.isView(D))return u(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(de(D,ArrayBuffer)||D&&de(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(D,SharedArrayBuffer)||D&&de(D.buffer,SharedArrayBuffer)))return p(D,d,b);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const v=D.valueOf&&D.valueOf();if(v!=null&&v!==D)return a.from(v,d,b);const A=$(D);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return a.from(D[Symbol.toPrimitive]("string"),d,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}a.from=function(D,d,b){return c(D,d,b)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function y(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function g(D,d,b){return y(D),D<=0?s(D):d!==void 0?typeof b=="string"?s(D).fill(d,b):s(D).fill(d):s(D)}a.alloc=function(D,d,b){return g(D,d,b)};function h(D){return y(D),s(D<0?0:f(D)|0)}a.allocUnsafe=function(D){return h(D)},a.allocUnsafeSlow=function(D){return h(D)};function l(D,d){if((typeof d!="string"||d==="")&&(d="utf8"),!a.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const b=E(D,d)|0;let v=s(b);const A=v.write(D,d);return A!==b&&(v=v.slice(0,A)),v}function w(D){const d=D.length<0?0:f(D.length)|0,b=s(d);for(let v=0;v<d;v+=1)b[v]=D[v]&255;return b}function u(D){if(de(D,Uint8Array)){const d=new Uint8Array(D);return p(d.buffer,d.byteOffset,d.byteLength)}return w(D)}function p(D,d,b){if(d<0||D.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<d+(b||0))throw new RangeError('"length" is outside of buffer bounds');let v;return d===void 0&&b===void 0?v=new Uint8Array(D):b===void 0?v=new Uint8Array(D,d):v=new Uint8Array(D,d,b),Object.setPrototypeOf(v,a.prototype),v}function $(D){if(a.isBuffer(D)){const d=f(D.length)|0,b=s(d);return b.length===0||D.copy(b,0,0,d),b}if(D.length!==void 0)return typeof D.length!="number"||Te(D.length)?s(0):w(D);if(D.type==="Buffer"&&Array.isArray(D.data))return w(D.data)}function f(D){if(D>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return D|0}function m(D){return+D!=D&&(D=0),a.alloc(+D)}a.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},a.compare=function(d,b){if(de(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),de(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(d)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===b)return 0;let v=d.length,A=b.length;for(let U=0,P=Math.min(v,A);U<P;++U)if(d[U]!==b[U]){v=d[U],A=b[U];break}return v<A?-1:A<v?1:0},a.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(d,b){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);let v;if(b===void 0)for(b=0,v=0;v<d.length;++v)b+=d[v].length;const A=a.allocUnsafe(b);let U=0;for(v=0;v<d.length;++v){let P=d[v];if(de(P,Uint8Array))U+P.length>A.length?(a.isBuffer(P)||(P=a.from(P)),P.copy(A,U)):Uint8Array.prototype.set.call(A,P,U);else if(a.isBuffer(P))P.copy(A,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=P.length}return A};function E(D,d){if(a.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||de(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);const b=D.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&b===0)return 0;let A=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return ne(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return we(D).length;default:if(A)return v?-1:ne(D).length;d=(""+d).toLowerCase(),A=!0}}a.byteLength=E;function T(D,d,b){let v=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,d>>>=0,b<=d))return"";for(D||(D="utf8");;)switch(D){case"hex":return J(this,d,b);case"utf8":case"utf-8":return N(this,d,b);case"ascii":return re(this,d,b);case"latin1":case"binary":return G(this,d,b);case"base64":return H(this,d,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,d,b);default:if(v)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),v=!0}}a.prototype._isBuffer=!0;function _(D,d,b){const v=D[d];D[d]=D[b],D[b]=v}a.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<d;b+=2)_(this,b,b+1);return this},a.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<d;b+=4)_(this,b,b+3),_(this,b+1,b+2);return this},a.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<d;b+=8)_(this,b,b+7),_(this,b+1,b+6),_(this,b+2,b+5),_(this,b+3,b+4);return this},a.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?N(this,0,d):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},a.prototype.inspect=function(){let d="";const b=r.INSPECT_MAX_BYTES;return d=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(d+=" ... "),"<Buffer "+d+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(d,b,v,A,U){if(de(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(b===void 0&&(b=0),v===void 0&&(v=d?d.length:0),A===void 0&&(A=0),U===void 0&&(U=this.length),b<0||v>d.length||A<0||U>this.length)throw new RangeError("out of range index");if(A>=U&&b>=v)return 0;if(A>=U)return-1;if(b>=v)return 1;if(b>>>=0,v>>>=0,A>>>=0,U>>>=0,this===d)return 0;let P=U-A,j=v-b;const Z=Math.min(P,j),K=this.slice(A,U),ee=d.slice(b,v);for(let X=0;X<Z;++X)if(K[X]!==ee[X]){P=K[X],j=ee[X];break}return P<j?-1:j<P?1:0};function x(D,d,b,v,A){if(D.length===0)return-1;if(typeof b=="string"?(v=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,Te(b)&&(b=A?0:D.length-1),b<0&&(b=D.length+b),b>=D.length){if(A)return-1;b=D.length-1}else if(b<0)if(A)b=0;else return-1;if(typeof d=="string"&&(d=a.from(d,v)),a.isBuffer(d))return d.length===0?-1:S(D,d,b,v,A);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(D,d,b):Uint8Array.prototype.lastIndexOf.call(D,d,b):S(D,[d],b,v,A);throw new TypeError("val must be string, number or Buffer")}function S(D,d,b,v,A){let U=1,P=D.length,j=d.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(D.length<2||d.length<2)return-1;U=2,P/=2,j/=2,b/=2}function Z(ee,X){return U===1?ee[X]:ee.readUInt16BE(X*U)}let K;if(A){let ee=-1;for(K=b;K<P;K++)if(Z(D,K)===Z(d,ee===-1?0:K-ee)){if(ee===-1&&(ee=K),K-ee+1===j)return ee*U}else ee!==-1&&(K-=K-ee),ee=-1}else for(b+j>P&&(b=P-j),K=b;K>=0;K--){let ee=!0;for(let X=0;X<j;X++)if(Z(D,K+X)!==Z(d,X)){ee=!1;break}if(ee)return K}return-1}a.prototype.includes=function(d,b,v){return this.indexOf(d,b,v)!==-1},a.prototype.indexOf=function(d,b,v){return x(this,d,b,v,!0)},a.prototype.lastIndexOf=function(d,b,v){return x(this,d,b,v,!1)};function C(D,d,b,v){b=Number(b)||0;const A=D.length-b;v?(v=Number(v),v>A&&(v=A)):v=A;const U=d.length;v>U/2&&(v=U/2);let P;for(P=0;P<v;++P){const j=parseInt(d.substr(P*2,2),16);if(Te(j))return P;D[b+P]=j}return P}function B(D,d,b,v){return pe(ne(d,D.length-b),D,b,v)}function M(D,d,b,v){return pe(he(d),D,b,v)}function I(D,d,b,v){return pe(we(d),D,b,v)}function L(D,d,b,v){return pe(ge(d,D.length-b),D,b,v)}a.prototype.write=function(d,b,v,A){if(b===void 0)A="utf8",v=this.length,b=0;else if(v===void 0&&typeof b=="string")A=b,v=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(v)?(v=v>>>0,A===void 0&&(A="utf8")):(A=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-b;if((v===void 0||v>U)&&(v=U),d.length>0&&(v<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let P=!1;for(;;)switch(A){case"hex":return C(this,d,b,v);case"utf8":case"utf-8":return B(this,d,b,v);case"ascii":case"latin1":case"binary":return M(this,d,b,v);case"base64":return I(this,d,b,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,d,b,v);default:if(P)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),P=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(D,d,b){return d===0&&b===D.length?t.fromByteArray(D):t.fromByteArray(D.slice(d,b))}function N(D,d,b){b=Math.min(D.length,b);const v=[];let A=d;for(;A<b;){const U=D[A];let P=null,j=U>239?4:U>223?3:U>191?2:1;if(A+j<=b){let Z,K,ee,X;switch(j){case 1:U<128&&(P=U);break;case 2:Z=D[A+1],(Z&192)===128&&(X=(U&31)<<6|Z&63,X>127&&(P=X));break;case 3:Z=D[A+1],K=D[A+2],(Z&192)===128&&(K&192)===128&&(X=(U&15)<<12|(Z&63)<<6|K&63,X>2047&&(X<55296||X>57343)&&(P=X));break;case 4:Z=D[A+1],K=D[A+2],ee=D[A+3],(Z&192)===128&&(K&192)===128&&(ee&192)===128&&(X=(U&15)<<18|(Z&63)<<12|(K&63)<<6|ee&63,X>65535&&X<1114112&&(P=X))}}P===null?(P=65533,j=1):P>65535&&(P-=65536,v.push(P>>>10&1023|55296),P=56320|P&1023),v.push(P),A+=j}return F(v)}const k=4096;function F(D){const d=D.length;if(d<=k)return String.fromCharCode.apply(String,D);let b="",v=0;for(;v<d;)b+=String.fromCharCode.apply(String,D.slice(v,v+=k));return b}function re(D,d,b){let v="";b=Math.min(D.length,b);for(let A=d;A<b;++A)v+=String.fromCharCode(D[A]&127);return v}function G(D,d,b){let v="";b=Math.min(D.length,b);for(let A=d;A<b;++A)v+=String.fromCharCode(D[A]);return v}function J(D,d,b){const v=D.length;(!d||d<0)&&(d=0),(!b||b<0||b>v)&&(b=v);let A="";for(let U=d;U<b;++U)A+=xe[D[U]];return A}function le(D,d,b){const v=D.slice(d,b);let A="";for(let U=0;U<v.length-1;U+=2)A+=String.fromCharCode(v[U]+v[U+1]*256);return A}a.prototype.slice=function(d,b){const v=this.length;d=~~d,b=b===void 0?v:~~b,d<0?(d+=v,d<0&&(d=0)):d>v&&(d=v),b<0?(b+=v,b<0&&(b=0)):b>v&&(b=v),b<d&&(b=d);const A=this.subarray(d,b);return Object.setPrototypeOf(A,a.prototype),A};function W(D,d,b){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+d>b)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(d,b,v){d=d>>>0,b=b>>>0,v||W(d,b,this.length);let A=this[d],U=1,P=0;for(;++P<b&&(U*=256);)A+=this[d+P]*U;return A},a.prototype.readUintBE=a.prototype.readUIntBE=function(d,b,v){d=d>>>0,b=b>>>0,v||W(d,b,this.length);let A=this[d+--b],U=1;for(;b>0&&(U*=256);)A+=this[d+--b]*U;return A},a.prototype.readUint8=a.prototype.readUInt8=function(d,b){return d=d>>>0,b||W(d,1,this.length),this[d]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(d,b){return d=d>>>0,b||W(d,2,this.length),this[d]|this[d+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(d,b){return d=d>>>0,b||W(d,2,this.length),this[d]<<8|this[d+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(d,b){return d=d>>>0,b||W(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(d,b){return d=d>>>0,b||W(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},a.prototype.readBigUInt64LE=be(function(d){d=d>>>0,R(d,"offset");const b=this[d],v=this[d+7];(b===void 0||v===void 0)&&z(d,this.length-8);const A=b+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,U=this[++d]+this[++d]*2**8+this[++d]*2**16+v*2**24;return BigInt(A)+(BigInt(U)<<BigInt(32))}),a.prototype.readBigUInt64BE=be(function(d){d=d>>>0,R(d,"offset");const b=this[d],v=this[d+7];(b===void 0||v===void 0)&&z(d,this.length-8);const A=b*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],U=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+v;return(BigInt(A)<<BigInt(32))+BigInt(U)}),a.prototype.readIntLE=function(d,b,v){d=d>>>0,b=b>>>0,v||W(d,b,this.length);let A=this[d],U=1,P=0;for(;++P<b&&(U*=256);)A+=this[d+P]*U;return U*=128,A>=U&&(A-=Math.pow(2,8*b)),A},a.prototype.readIntBE=function(d,b,v){d=d>>>0,b=b>>>0,v||W(d,b,this.length);let A=b,U=1,P=this[d+--A];for(;A>0&&(U*=256);)P+=this[d+--A]*U;return U*=128,P>=U&&(P-=Math.pow(2,8*b)),P},a.prototype.readInt8=function(d,b){return d=d>>>0,b||W(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},a.prototype.readInt16LE=function(d,b){d=d>>>0,b||W(d,2,this.length);const v=this[d]|this[d+1]<<8;return v&32768?v|4294901760:v},a.prototype.readInt16BE=function(d,b){d=d>>>0,b||W(d,2,this.length);const v=this[d+1]|this[d]<<8;return v&32768?v|4294901760:v},a.prototype.readInt32LE=function(d,b){return d=d>>>0,b||W(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},a.prototype.readInt32BE=function(d,b){return d=d>>>0,b||W(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},a.prototype.readBigInt64LE=be(function(d){d=d>>>0,R(d,"offset");const b=this[d],v=this[d+7];(b===void 0||v===void 0)&&z(d,this.length-8);const A=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(v<<24);return(BigInt(A)<<BigInt(32))+BigInt(b+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),a.prototype.readBigInt64BE=be(function(d){d=d>>>0,R(d,"offset");const b=this[d],v=this[d+7];(b===void 0||v===void 0)&&z(d,this.length-8);const A=(b<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(A)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+v)}),a.prototype.readFloatLE=function(d,b){return d=d>>>0,b||W(d,4,this.length),e.read(this,d,!0,23,4)},a.prototype.readFloatBE=function(d,b){return d=d>>>0,b||W(d,4,this.length),e.read(this,d,!1,23,4)},a.prototype.readDoubleLE=function(d,b){return d=d>>>0,b||W(d,8,this.length),e.read(this,d,!0,52,8)},a.prototype.readDoubleBE=function(d,b){return d=d>>>0,b||W(d,8,this.length),e.read(this,d,!1,52,8)};function Y(D,d,b,v,A,U){if(!a.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>A||d<U)throw new RangeError('"value" argument is out of bounds');if(b+v>D.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(d,b,v,A){if(d=+d,b=b>>>0,v=v>>>0,!A){const j=Math.pow(2,8*v)-1;Y(this,d,b,v,j,0)}let U=1,P=0;for(this[b]=d&255;++P<v&&(U*=256);)this[b+P]=d/U&255;return b+v},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(d,b,v,A){if(d=+d,b=b>>>0,v=v>>>0,!A){const j=Math.pow(2,8*v)-1;Y(this,d,b,v,j,0)}let U=v-1,P=1;for(this[b+U]=d&255;--U>=0&&(P*=256);)this[b+U]=d/P&255;return b+v},a.prototype.writeUint8=a.prototype.writeUInt8=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,1,255,0),this[b]=d&255,b+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,2,65535,0),this[b]=d&255,this[b+1]=d>>>8,b+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,2,65535,0),this[b]=d>>>8,this[b+1]=d&255,b+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,4,4294967295,0),this[b+3]=d>>>24,this[b+2]=d>>>16,this[b+1]=d>>>8,this[b]=d&255,b+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,4,4294967295,0),this[b]=d>>>24,this[b+1]=d>>>16,this[b+2]=d>>>8,this[b+3]=d&255,b+4};function te(D,d,b,v,A){O(d,v,A,D,b,7);let U=Number(d&BigInt(4294967295));D[b++]=U,U=U>>8,D[b++]=U,U=U>>8,D[b++]=U,U=U>>8,D[b++]=U;let P=Number(d>>BigInt(32)&BigInt(4294967295));return D[b++]=P,P=P>>8,D[b++]=P,P=P>>8,D[b++]=P,P=P>>8,D[b++]=P,b}function ce(D,d,b,v,A){O(d,v,A,D,b,7);let U=Number(d&BigInt(4294967295));D[b+7]=U,U=U>>8,D[b+6]=U,U=U>>8,D[b+5]=U,U=U>>8,D[b+4]=U;let P=Number(d>>BigInt(32)&BigInt(4294967295));return D[b+3]=P,P=P>>8,D[b+2]=P,P=P>>8,D[b+1]=P,P=P>>8,D[b]=P,b+8}a.prototype.writeBigUInt64LE=be(function(d,b=0){return te(this,d,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=be(function(d,b=0){return ce(this,d,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(d,b,v,A){if(d=+d,b=b>>>0,!A){const Z=Math.pow(2,8*v-1);Y(this,d,b,v,Z-1,-Z)}let U=0,P=1,j=0;for(this[b]=d&255;++U<v&&(P*=256);)d<0&&j===0&&this[b+U-1]!==0&&(j=1),this[b+U]=(d/P>>0)-j&255;return b+v},a.prototype.writeIntBE=function(d,b,v,A){if(d=+d,b=b>>>0,!A){const Z=Math.pow(2,8*v-1);Y(this,d,b,v,Z-1,-Z)}let U=v-1,P=1,j=0;for(this[b+U]=d&255;--U>=0&&(P*=256);)d<0&&j===0&&this[b+U+1]!==0&&(j=1),this[b+U]=(d/P>>0)-j&255;return b+v},a.prototype.writeInt8=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,1,127,-128),d<0&&(d=255+d+1),this[b]=d&255,b+1},a.prototype.writeInt16LE=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,2,32767,-32768),this[b]=d&255,this[b+1]=d>>>8,b+2},a.prototype.writeInt16BE=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,2,32767,-32768),this[b]=d>>>8,this[b+1]=d&255,b+2},a.prototype.writeInt32LE=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,4,2147483647,-2147483648),this[b]=d&255,this[b+1]=d>>>8,this[b+2]=d>>>16,this[b+3]=d>>>24,b+4},a.prototype.writeInt32BE=function(d,b,v){return d=+d,b=b>>>0,v||Y(this,d,b,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[b]=d>>>24,this[b+1]=d>>>16,this[b+2]=d>>>8,this[b+3]=d&255,b+4},a.prototype.writeBigInt64LE=be(function(d,b=0){return te(this,d,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=be(function(d,b=0){return ce(this,d,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $e(D,d,b,v,A,U){if(b+v>D.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function me(D,d,b,v,A){return d=+d,b=b>>>0,A||$e(D,d,b,4),e.write(D,d,b,v,23,4),b+4}a.prototype.writeFloatLE=function(d,b,v){return me(this,d,b,!0,v)},a.prototype.writeFloatBE=function(d,b,v){return me(this,d,b,!1,v)};function De(D,d,b,v,A){return d=+d,b=b>>>0,A||$e(D,d,b,8),e.write(D,d,b,v,52,8),b+8}a.prototype.writeDoubleLE=function(d,b,v){return De(this,d,b,!0,v)},a.prototype.writeDoubleBE=function(d,b,v){return De(this,d,b,!1,v)},a.prototype.copy=function(d,b,v,A){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(v||(v=0),!A&&A!==0&&(A=this.length),b>=d.length&&(b=d.length),b||(b=0),A>0&&A<v&&(A=v),A===v||d.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),d.length-b<A-v&&(A=d.length-b+v);const U=A-v;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,v,A):Uint8Array.prototype.set.call(d,this.subarray(v,A),b),U},a.prototype.fill=function(d,b,v,A){if(typeof d=="string"){if(typeof b=="string"?(A=b,b=0,v=this.length):typeof v=="string"&&(A=v,v=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(d.length===1){const P=d.charCodeAt(0);(A==="utf8"&&P<128||A==="latin1")&&(d=P)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(b<0||this.length<b||this.length<v)throw new RangeError("Out of range index");if(v<=b)return this;b=b>>>0,v=v===void 0?this.length:v>>>0,d||(d=0);let U;if(typeof d=="number")for(U=b;U<v;++U)this[U]=d;else{const P=a.isBuffer(d)?d:a.from(d,A),j=P.length;if(j===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(U=0;U<v-b;++U)this[U+b]=P[U%j]}return this};const ye={};function ue(D,d,b){ye[D]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}ue("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ue("ERR_INVALID_ARG_TYPE",function(D,d){return`The "${D}" argument must be of type number. Received type ${typeof d}`},TypeError),ue("ERR_OUT_OF_RANGE",function(D,d,b){let v=`The value of "${D}" is out of range.`,A=b;return Number.isInteger(b)&&Math.abs(b)>2**32?A=fe(String(b)):typeof b=="bigint"&&(A=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(A=fe(A)),A+="n"),v+=` It must be ${d}. Received ${A}`,v},RangeError);function fe(D){let d="",b=D.length;const v=D[0]==="-"?1:0;for(;b>=v+4;b-=3)d=`_${D.slice(b-3,b)}${d}`;return`${D.slice(0,b)}${d}`}function Ee(D,d,b){R(d,"offset"),(D[d]===void 0||D[d+b]===void 0)&&z(d,D.length-(b+1))}function O(D,d,b,v,A,U){if(D>b||D<d){const P=typeof d=="bigint"?"n":"";let j;throw d===0||d===BigInt(0)?j=`>= 0${P} and < 2${P} ** ${(U+1)*8}${P}`:j=`>= -(2${P} ** ${(U+1)*8-1}${P}) and < 2 ** ${(U+1)*8-1}${P}`,new ye.ERR_OUT_OF_RANGE("value",j,D)}Ee(v,A,U)}function R(D,d){if(typeof D!="number")throw new ye.ERR_INVALID_ARG_TYPE(d,"number",D)}function z(D,d,b){throw Math.floor(D)!==D?(R(D,b),new ye.ERR_OUT_OF_RANGE("offset","an integer",D)):d<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${d}`,D)}const q=/[^+/0-9A-Za-z-_]/g;function Q(D){if(D=D.split("=")[0],D=D.trim().replace(q,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function ne(D,d){d=d||1/0;let b;const v=D.length;let A=null;const U=[];for(let P=0;P<v;++P){if(b=D.charCodeAt(P),b>55295&&b<57344){if(!A){if(b>56319){(d-=3)>-1&&U.push(239,191,189);continue}else if(P+1===v){(d-=3)>-1&&U.push(239,191,189);continue}A=b;continue}if(b<56320){(d-=3)>-1&&U.push(239,191,189),A=b;continue}b=(A-55296<<10|b-56320)+65536}else A&&(d-=3)>-1&&U.push(239,191,189);if(A=null,b<128){if((d-=1)<0)break;U.push(b)}else if(b<2048){if((d-=2)<0)break;U.push(b>>6|192,b&63|128)}else if(b<65536){if((d-=3)<0)break;U.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((d-=4)<0)break;U.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return U}function he(D){const d=[];for(let b=0;b<D.length;++b)d.push(D.charCodeAt(b)&255);return d}function ge(D,d){let b,v,A;const U=[];for(let P=0;P<D.length&&!((d-=2)<0);++P)b=D.charCodeAt(P),v=b>>8,A=b%256,U.push(A),U.push(v);return U}function we(D){return t.toByteArray(Q(D))}function pe(D,d,b,v){let A;for(A=0;A<v&&!(A+b>=d.length||A>=D.length);++A)d[A+b]=D[A];return A}function de(D,d){return D instanceof d||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===d.name}function Te(D){return D!==D}const xe=(function(){const D="0123456789abcdef",d=new Array(256);for(let b=0;b<16;++b){const v=b*16;for(let A=0;A<16;++A)d[v+A]=D[b]+D[A]}return d})();function be(D){return typeof BigInt>"u"?Ce:D}function Ce(){throw new Error("BigInt not supported")}})(buffer$2)),buffer$2}var BufferList_1,hasRequiredBufferList;function requireBufferList(){if(hasRequiredBufferList)return BufferList_1;hasRequiredBufferList=1;const{Buffer:r}=requireBuffer(),t=Symbol.for("BufferList");function e(n){if(!(this instanceof e))return new e(n);e._init.call(this,n)}return e._init=function(i){Object.defineProperty(this,t,{value:!0}),this._bufs=[],this.length=0,i&&this.append(i)},e.prototype._new=function(i){return new e(i)},e.prototype._offset=function(i){if(i===0)return[0,0];let o=0;for(let s=0;s<this._bufs.length;s++){const a=o+this._bufs[s].length;if(i<a||s===this._bufs.length-1)return[s,i-o];o=a}},e.prototype._reverseOffset=function(n){const i=n[0];let o=n[1];for(let s=0;s<i;s++)o+=this._bufs[s].length;return o},e.prototype.get=function(i){if(i>this.length||i<0)return;const o=this._offset(i);return this._bufs[o[0]][o[1]]},e.prototype.slice=function(i,o){return typeof i=="number"&&i<0&&(i+=this.length),typeof o=="number"&&o<0&&(o+=this.length),this.copy(null,0,i,o)},e.prototype.copy=function(i,o,s,a){if((typeof s!="number"||s<0)&&(s=0),(typeof a!="number"||a>this.length)&&(a=this.length),s>=this.length||a<=0)return i||r.alloc(0);const c=!!i,y=this._offset(s),g=a-s;let h=g,l=c&&o||0,w=y[1];if(s===0&&a===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:r.concat(this._bufs,this.length);for(let u=0;u<this._bufs.length;u++)this._bufs[u].copy(i,l),l+=this._bufs[u].length;return i}if(h<=this._bufs[y[0]].length-w)return c?this._bufs[y[0]].copy(i,o,w,w+h):this._bufs[y[0]].slice(w,w+h);c||(i=r.allocUnsafe(g));for(let u=y[0];u<this._bufs.length;u++){const p=this._bufs[u].length-w;if(h>p)this._bufs[u].copy(i,l,w),l+=p;else{this._bufs[u].copy(i,l,w,w+h),l+=p;break}h-=p,w&&(w=0)}return i.length>l?i.slice(0,l):i},e.prototype.shallowSlice=function(i,o){if(i=i||0,o=typeof o!="number"?this.length:o,i<0&&(i+=this.length),o<0&&(o+=this.length),i===o)return this._new();const s=this._offset(i),a=this._offset(o),c=this._bufs.slice(s[0],a[0]+1);return a[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,a[1]),s[1]!==0&&(c[0]=c[0].slice(s[1])),this._new(c)},e.prototype.toString=function(i,o,s){return this.slice(o,s).toString(i)},e.prototype.consume=function(i){if(i=Math.trunc(i),Number.isNaN(i)||i<=0)return this;for(;this._bufs.length;)if(i>=this._bufs[0].length)i-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(i),this.length-=i;break}return this},e.prototype.duplicate=function(){const i=this._new();for(let o=0;o<this._bufs.length;o++)i.append(this._bufs[o]);return i},e.prototype.append=function(i){if(i==null)return this;if(i.buffer)this._appendBuffer(r.from(i.buffer,i.byteOffset,i.byteLength));else if(Array.isArray(i))for(let o=0;o<i.length;o++)this.append(i[o]);else if(this._isBufferList(i))for(let o=0;o<i._bufs.length;o++)this.append(i._bufs[o]);else typeof i=="number"&&(i=i.toString()),this._appendBuffer(r.from(i));return this},e.prototype._appendBuffer=function(i){this._bufs.push(i),this.length+=i.length},e.prototype.indexOf=function(n,i,o){if(o===void 0&&typeof i=="string"&&(o=i,i=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=r.from([n]):typeof n=="string"?n=r.from(n,o):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=r.from(n.buffer,n.byteOffset,n.byteLength):r.isBuffer(n)||(n=r.from(n)),i=Number(i||0),isNaN(i)&&(i=0),i<0&&(i=this.length+i),i<0&&(i=0),n.length===0)return i>this.length?this.length:i;const s=this._offset(i);let a=s[0],c=s[1];for(;a<this._bufs.length;a++){const y=this._bufs[a];for(;c<y.length;)if(y.length-c>=n.length){const h=y.indexOf(n,c);if(h!==-1)return this._reverseOffset([a,h]);c=y.length-n.length+1}else{const h=this._reverseOffset([a,c]);if(this._match(h,n))return h;c++}c=0}return-1},e.prototype._match=function(n,i){if(this.length-n<i.length)return!1;for(let o=0;o<i.length;o++)if(this.get(n+o)!==i[o])return!1;return!0},(function(){const n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const i in n)(function(o){n[o]===null?e.prototype[o]=function(s,a){return this.slice(s,s+a)[o](0,a)}:e.prototype[o]=function(s=0){return this.slice(s,s+n[o])[o](0)}})(i)})(),e.prototype._isBufferList=function(i){return i instanceof e||e.isBufferList(i)},e.isBufferList=function(i){return i!=null&&i[t]},BufferList_1=e,BufferList_1}requireBufferList();var rabin,hasRequiredRabin;function requireRabin(){if(hasRequiredRabin)return rabin;hasRequiredRabin=1;class r{constructor(e,n=12,i=8*1024,o=32*1024,s=64,a){this.bits=n,this.min=i,this.max=o,this.asModule=e,this.rabin=new e.Rabin(n,i,o,s,a),this.polynomial=a}fingerprint(e){const{__retain:n,__release:i,__allocArray:o,__getInt32Array:s,Int32Array_ID:a,Uint8Array_ID:c}=this.asModule,y=new Int32Array(Math.ceil(e.length/this.min)),g=n(o(a,y)),h=n(o(c,e)),l=this.rabin.fingerprint(h,g),w=s(l);i(h),i(g);const u=w.indexOf(0);return u>=0?w.subarray(0,u):w}}return rabin=r,rabin}var loader={},hasRequiredLoader;function requireLoader(){if(hasRequiredLoader)return loader;hasRequiredLoader=1;const r=-8,t=-4,e=0,n=1,i=1,o=2,s=5,a=1024,c=2048,y=8192,g=0,h=4,l=8,w=12,u=12,p=16,$=typeof BigUint64Array<"u",f=Symbol(),m=1024;function E(I,L){const H=new Uint32Array(I),N=new Uint16Array(I);var k=H[L+t>>>2]>>>1,F=L>>>1;if(k<=m)return String.fromCharCode.apply(String,N.subarray(F,F+k));const re=[];do{const G=N[F+m-1],J=G>=55296&&G<56320?m-1:m;re.push(String.fromCharCode.apply(String,N.subarray(F,F+=J))),k-=J}while(k>m);return re.join("")+String.fromCharCode.apply(String,N.subarray(F,F+k))}function T(I){const L={};function H(k,F){return k?E(k.buffer,F):"<yet unknown>"}const N=I.env=I.env||{};return N.abort=N.abort||function(F,re,G,J){const le=L.memory||N.memory;throw Error("abort: "+H(le,F)+" at "+H(le,re)+":"+G+":"+J)},N.trace=N.trace||function(F,re){const G=L.memory||N.memory;console.log("trace: "+H(G,F)+(re?" ":"")+Array.prototype.slice.call(arguments,2,2+re).join(", "))},I.Math=I.Math||Math,I.Date=I.Date||Date,L}function _(I,L){const H=L.exports,N=H.memory,k=H.table,F=H.__alloc,re=H.__retain,G=H.__rtti_base||-1;function J(O){const R=new Uint32Array(N.buffer),z=R[G>>>2];if((O>>>=0)>=z)throw Error("invalid id: "+O);return R[(G+4>>>2)+O*2]}function le(O){const R=new Uint32Array(N.buffer),z=R[G>>>2];if((O>>>=0)>=z)throw Error("invalid id: "+O);return R[(G+4>>>2)+O*2+1]}function W(O){return 31-Math.clz32(O>>>s&31)}function Y(O){const R=O.length,z=F(R<<1,n),q=new Uint16Array(N.buffer);for(var Q=0,ne=z>>>1;Q<R;++Q)q[ne+Q]=O.charCodeAt(Q);return z}I.__allocString=Y;function te(O){const R=N.buffer;if(new Uint32Array(R)[O+r>>>2]!==n)throw Error("not a string: "+O);return E(R,O)}I.__getString=te;function ce(O,R,z){const q=N.buffer;if(z)switch(O){case 2:return new Float32Array(q);case 3:return new Float64Array(q)}else switch(O){case 0:return new(R?Int8Array:Uint8Array)(q);case 1:return new(R?Int16Array:Uint16Array)(q);case 2:return new(R?Int32Array:Uint32Array)(q);case 3:return new(R?BigInt64Array:BigUint64Array)(q)}throw Error("unsupported align: "+O)}function $e(O,R){const z=J(O);if(!(z&(i|o)))throw Error("not an array: "+O+" @ "+z);const q=W(z),Q=R.length,ne=F(Q<<q,e),he=F(z&o?p:w,O),ge=new Uint32Array(N.buffer);ge[he+g>>>2]=re(ne),ge[he+h>>>2]=ne,ge[he+l>>>2]=Q<<q,z&o&&(ge[he+u>>>2]=Q);const we=ce(q,z&a,z&c);if(z&y)for(let pe=0;pe<Q;++pe)we[(ne>>>q)+pe]=re(R[pe]);else we.set(R,ne>>>q);return he}I.__allocArray=$e;function me(O){const R=new Uint32Array(N.buffer),z=R[O+r>>>2],q=J(z);if(!(q&i))throw Error("not an array: "+z);const Q=W(q);var ne=R[O+h>>>2];const he=q&o?R[O+u>>>2]:R[ne+t>>>2]>>>Q;return ce(Q,q&a,q&c).subarray(ne>>>=Q,ne+he)}I.__getArrayView=me;function De(O){const R=me(O),z=R.length,q=new Array(z);for(let Q=0;Q<z;Q++)q[Q]=R[Q];return q}I.__getArray=De;function ye(O){const R=N.buffer,z=new Uint32Array(R)[O+t>>>2];return R.slice(O,O+z)}I.__getArrayBuffer=ye;function ue(O,R,z){return new O(fe(O,R,z))}function fe(O,R,z){const q=N.buffer,Q=new Uint32Array(q),ne=Q[z+h>>>2];return new O(q,ne,Q[ne+t>>>2]>>>R)}I.__getInt8Array=ue.bind(null,Int8Array,0),I.__getInt8ArrayView=fe.bind(null,Int8Array,0),I.__getUint8Array=ue.bind(null,Uint8Array,0),I.__getUint8ArrayView=fe.bind(null,Uint8Array,0),I.__getUint8ClampedArray=ue.bind(null,Uint8ClampedArray,0),I.__getUint8ClampedArrayView=fe.bind(null,Uint8ClampedArray,0),I.__getInt16Array=ue.bind(null,Int16Array,1),I.__getInt16ArrayView=fe.bind(null,Int16Array,1),I.__getUint16Array=ue.bind(null,Uint16Array,1),I.__getUint16ArrayView=fe.bind(null,Uint16Array,1),I.__getInt32Array=ue.bind(null,Int32Array,2),I.__getInt32ArrayView=fe.bind(null,Int32Array,2),I.__getUint32Array=ue.bind(null,Uint32Array,2),I.__getUint32ArrayView=fe.bind(null,Uint32Array,2),$&&(I.__getInt64Array=ue.bind(null,BigInt64Array,3),I.__getInt64ArrayView=fe.bind(null,BigInt64Array,3),I.__getUint64Array=ue.bind(null,BigUint64Array,3),I.__getUint64ArrayView=fe.bind(null,BigUint64Array,3)),I.__getFloat32Array=ue.bind(null,Float32Array,2),I.__getFloat32ArrayView=fe.bind(null,Float32Array,2),I.__getFloat64Array=ue.bind(null,Float64Array,3),I.__getFloat64ArrayView=fe.bind(null,Float64Array,3);function Ee(O,R){const z=new Uint32Array(N.buffer);var q=z[O+r>>>2];if(q<=z[G>>>2])do if(q==R)return!0;while(q=le(q));return!1}return I.__instanceof=Ee,I.memory=I.memory||N,I.table=I.table||k,M(H,I)}function x(I){return typeof Response<"u"&&I instanceof Response}async function S(I,L){return x(I=await I)?B(I,L):_(T(L||(L={})),await WebAssembly.instantiate(I instanceof WebAssembly.Module?I:await WebAssembly.compile(I),L))}loader.instantiate=S;function C(I,L){return _(T(L||(L={})),new WebAssembly.Instance(I instanceof WebAssembly.Module?I:new WebAssembly.Module(I),L))}loader.instantiateSync=C;async function B(I,L){return WebAssembly.instantiateStreaming?_(T(L||(L={})),(await WebAssembly.instantiateStreaming(I,L)).instance):S(x(I=await I)?I.arrayBuffer():I,L)}loader.instantiateStreaming=B;function M(I,L){var H=L?Object.create(L):{},N=I.__argumentsLength?function(k){I.__argumentsLength.value=k}:I.__setArgumentsLength||I.__setargc||function(){};for(let k in I){if(!Object.prototype.hasOwnProperty.call(I,k))continue;const F=I[k];let re=k.split("."),G=H;for(;re.length>1;){let W=re.shift();Object.prototype.hasOwnProperty.call(G,W)||(G[W]={}),G=G[W]}let J=re[0],le=J.indexOf("#");if(le>=0){let W=J.substring(0,le),Y=G[W];if(typeof Y>"u"||!Y.prototype){let te=function(...ce){return te.wrap(te.prototype.constructor(0,...ce))};te.prototype={valueOf:function(){return this[f]}},te.wrap=function(ce){return Object.create(te.prototype,{[f]:{value:ce,writable:!1}})},Y&&Object.getOwnPropertyNames(Y).forEach(ce=>Object.defineProperty(te,ce,Object.getOwnPropertyDescriptor(Y,ce))),G[W]=te}if(J=J.substring(le+1),G=G[W].prototype,/^(get|set):/.test(J)){if(!Object.prototype.hasOwnProperty.call(G,J=J.substring(4))){let te=I[k.replace("set:","get:")],ce=I[k.replace("get:","set:")];Object.defineProperty(G,J,{get:function(){return te(this[f])},set:function($e){ce(this[f],$e)},enumerable:!0})}}else J==="constructor"?(G[J]=(...te)=>(N(te.length),F(...te))).original=F:(G[J]=function(...te){return N(te.length),F(this[f],...te)}).original=F}else/^(get|set):/.test(J)?Object.prototype.hasOwnProperty.call(G,J=J.substring(4))||Object.defineProperty(G,J,{get:I[k.replace("set:","get:")],set:I[k.replace("get:","set:")],enumerable:!0}):typeof F=="function"&&F!==N?(G[J]=(...W)=>(N(W.length),F(...W))).original=F:G[J]=F}return H}return loader.demangle=M,loader}var rabinWasm,hasRequiredRabinWasm;function requireRabinWasm(){if(hasRequiredRabinWasm)return rabinWasm;hasRequiredRabinWasm=1;const{instantiate:r}=requireLoader();t.supported=typeof WebAssembly<"u";function t(e={}){if(!t.supported)return null;var n=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return r(new Response(new Blob([n],{type:"application/wasm"})),e)}return rabinWasm=t,rabinWasm}var src$6,hasRequiredSrc$1;function requireSrc$1(){if(hasRequiredSrc$1)return src$6;hasRequiredSrc$1=1;const r=requireRabin(),t=requireRabinWasm();return src$6={Rabin:r,create:async(n,i,o,s,a)=>{const c=await t();return new r(c,n,i,o,s,a)}},src$6}requireSrc$1();from$5({prefix:"\0",name:"identity",encode:r=>toString$2(r),decode:r=>fromString$6(r)});rfc4648$5({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});rfc4648$5({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});baseX$5({prefix:"9",name:"base10",alphabet:"0123456789"});rfc4648$5({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4});rfc4648$5({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});baseX$5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});rfc4648$5({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$5({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$5({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$5({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});const alphabet$2=Array.from(""),alphabetBytesToChars$2=alphabet$2.reduce((r,t,e)=>(r[e]=t,r),[]),alphabetCharsToBytes$2=alphabet$2.reduce((r,t,e)=>(r[t.codePointAt(0)]=e,r),[]);function encode$7(r){return r.reduce((t,e)=>(t+=alphabetBytesToChars$2[e],t),"")}function decode$7(r){const t=[];for(const e of r){const n=alphabetCharsToBytes$2[e.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${e}`);t.push(n)}return new Uint8Array(t)}from$5({prefix:"",name:"base256emoji",encode:encode$7,decode:decode$7});new TextEncoder;new TextDecoder;var sparseArray,hasRequiredSparseArray;function requireSparseArray(){if(hasRequiredSparseArray)return sparseArray;hasRequiredSparseArray=1;const r=7;sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(s,a){let c=this._internalPositionFor(s,!1);if(a===void 0)c!==-1&&(this._unsetInternalPos(c),this._unsetBit(s),this._changedLength=!0,this._changedData=!0);else{let y=!1;c===-1?(c=this._data.length,this._setBit(s),this._changedData=!0):y=!0,this._setInternalPos(c,s,a,y),this._changedLength=!0}}unset(s){this.set(s,void 0)}get(s){this._sortData();const a=this._internalPositionFor(s,!0);if(a!==-1)return this._data[a][1]}push(s){return this.set(this.length,s),this.length}get length(){if(this._sortData(),this._changedLength){const s=this._data[this._data.length-1];this._length=s?s[0]+1:0,this._changedLength=!1}return this._length}forEach(s){let a=0;for(;a<this.length;)s(this.get(a),a,this),a++}map(s){let a=0,c=new Array(this.length);for(;a<this.length;)c[a]=s(this.get(a),a,this),a++;return c}reduce(s,a){let c=0,y=a;for(;c<this.length;){const g=this.get(c);y=s(y,g,c),c++}return y}find(s){let a=0,c,y;for(;a<this.length&&!c;)y=this.get(a),c=s(y),a++;return c?y:void 0}_internalPositionFor(s,a){const c=this._bytePosFor(s,a);if(c>=this._bitArrays.length)return-1;const y=this._bitArrays[c],g=s-c*r;if(!((y&1<<g)>0))return-1;const l=this._bitArrays.slice(0,c).reduce(t,0),w=~(4294967295<<g+1),u=e(y&w);return l+u-1}_bytePosFor(s,a){const c=Math.floor(s/r),y=c+1;for(;!a&&this._bitArrays.length<y;)this._bitArrays.push(0);return c}_setBit(s){const a=this._bytePosFor(s,!1);this._bitArrays[a]|=1<<s-a*r}_unsetBit(s){const a=this._bytePosFor(s,!1);this._bitArrays[a]&=~(1<<s-a*r)}_setInternalPos(s,a,c,y){const g=this._data,h=[a,c];if(y)this._sortData(),g[s]=h;else{if(g.length)if(g[g.length-1][0]>=a)g.push(h);else if(g[0][0]<=a)g.unshift(h);else{const l=Math.round(g.length/2);this._data=g.slice(0,l).concat(h).concat(g.slice(l))}else this._data.push(h);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(s){this._data.splice(s,1)}_sortData(){this._changedData&&this._data.sort(n),this._changedData=!1}bitField(){const s=[];let a=8,c=0,y=0,g;const h=this._bitArrays.slice();for(;h.length||c;){c===0&&(g=h.shift(),c=7);const w=Math.min(c,a),u=~(255<<w),p=g&u;y|=p<<8-a,g=g>>>w,c-=w,a-=w,(!a||!c&&!h.length)&&(s.push(y),y=0,a=8)}for(var l=s.length-1;l>0&&s[l]===0;l--)s.pop();return s}compactArray(){return this._sortData(),this._data.map(i)}};function t(o,s){return o+e(s)}function e(o){let s=o;return s=s-(s>>1&1431655765),s=(s&858993459)+(s>>2&858993459),(s+(s>>4)&252645135)*16843009>>24}function n(o,s){return o[0]-s[0]}function i(o){return o[1]}return sparseArray}function base$4(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$5=base$4,_brrp__multiformats_scope_baseX$4=src$5;const coerce$4=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},fromString$5=r=>new TextEncoder().encode(r),toString$1=r=>new TextDecoder().decode(r);let Encoder$4=class{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$4=class{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$4(this,t)}},ComposedDecoder$4=class{constructor(t){this.decoders=t}or(t){return or$4(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$4=(r,t)=>new ComposedDecoder$4({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});let Codec$4=class{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$4(t,e,n),this.decoder=new Decoder$4(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const from$4=({name:r,prefix:t,encode:e,decode:n})=>new Codec$4(r,t,e,n),baseX$4=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$4(e,t);return from$4({prefix:r,name:t,encode:n,decode:o=>coerce$4(i(o))})},decode$6=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode$6=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648$4=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from$4({prefix:t,name:r,encode(i){return encode$6(i,n,e)},decode(i){return decode$6(i,n,e,r)}}),identity=from$4({prefix:"\0",name:"identity",encode:r=>toString$1(r),decode:r=>fromString$5(r)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648$4({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648$4({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX$4({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648$4({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648$4({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648$4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648$4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648$4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648$4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648$4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648$4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648$4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648$4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648$4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX$4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX$4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX$4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX$4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648$4({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648$4({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648$4({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648$4({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet$1=Array.from(""),alphabetBytesToChars$1=alphabet$1.reduce((r,t,e)=>(r[e]=t,r),[]),alphabetCharsToBytes$1=alphabet$1.reduce((r,t,e)=>(r[t.codePointAt(0)]=e,r),[]);function encode$5(r){return r.reduce((t,e)=>(t+=alphabetBytesToChars$1[e],t),"")}function decode$5(r){const t=[];for(const e of r){const n=alphabetCharsToBytes$1[e.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${e}`);t.push(n)}return new Uint8Array(t)}const base256emoji=from$4({prefix:"",name:"base256emoji",encode:encode$5,decode:decode$5}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function asUint8Array(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function allocUnsafe(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function createCodec(r,t,e,n){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:e},decoder:{decode:n}}}const string=createCodec("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),ascii=createCodec("ascii","a",r=>{let t="a";for(let e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return t},r=>{r=r.substring(1);const t=allocUnsafe(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString$3(r,t="utf8"){const e=BASES[t];if(!e)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(r,"utf-8")):e.decoder.decode(`${e.prefix}${r}`)}const fromString$4=Object.freeze(Object.defineProperty({__proto__:null,fromString:fromString$3},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(fromString$4);var bucket,hasRequiredBucket;function requireBucket(){if(hasRequiredBucket)return bucket;hasRequiredBucket=1;const r=requireSparseArray(),{fromString:t}=require$$1$1;class e{constructor(c,y,g=0){this._options=c,this._popCount=0,this._parent=y,this._posAtParent=g,this._children=new r,this.key=null}async put(c,y){const g=await this._findNewBucketAndPos(c);await g.bucket._putAt(g,c,y)}async get(c){const y=await this._findChild(c);if(y)return y.value}async del(c){const y=await this._findPlace(c),g=y.bucket._at(y.pos);g&&g.key===c&&y.bucket._delAt(y.pos)}leafCount(){return this._children.compactArray().reduce((y,g)=>g instanceof e?y+g.leafCount():y+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const c=this._children.compactArray();for(const y of c)y instanceof e?yield*y.eachLeafSeries():yield y;return[]}serialize(c,y){const g=[];return y(this._children.reduce((h,l,w)=>(l&&(l instanceof e?h.push(l.serialize(c,y)):h.push(c(l,w))),h),g))}asyncTransform(c,y){return s(this,c,y)}toJSON(){return this.serialize(i,o)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(c){const y=await this._findPlace(c),g=y.bucket._at(y.pos);if(!(g instanceof e)&&g&&g.key===c)return g}async _findPlace(c){const y=this._options.hash(typeof c=="string"?t(c):c),g=await y.take(this._options.bits),h=this._children.get(g);return h instanceof e?h._findPlace(y):{bucket:this,pos:g,hash:y,existingChild:h}}async _findNewBucketAndPos(c){const y=await this._findPlace(c);if(y.existingChild&&y.existingChild.key!==c){const g=new e(this._options,y.bucket,y.pos);y.bucket._putObjectAt(y.pos,g);const h=await g._findPlace(y.existingChild.hash);return h.bucket._putAt(h,y.existingChild.key,y.existingChild.value),g._findNewBucketAndPos(y.hash)}return y}_putAt(c,y,g){this._putObjectAt(c.pos,{key:y,value:g,hash:c.hash})}_putObjectAt(c,y){this._children.get(c)||this._popCount++,this._children.set(c,y)}_delAt(c){if(c===-1)throw new Error("Invalid position");this._children.get(c)&&this._popCount--,this._children.unset(c),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const c=this._children.find(n);if(c&&!(c instanceof e)){const y=c.hash;y.untake(this._options.bits);const g={pos:this._posAtParent,hash:y,bucket:this._parent};this._parent._putAt(g,c.key,c.value)}}else this._parent._delAt(this._posAtParent)}_at(c){return this._children.get(c)}}function n(a){return!!a}function i(a,c){return a.key}function o(a){return a}async function s(a,c,y){const g=[];for(const h of a._children.compactArray())if(h instanceof e)await s(h,c,y);else{const l=await c(h);g.push({bitField:a._children.bitField(),children:l})}return y(g)}return bucket=e,bucket}var consumableHash={exports:{}},consumableBuffer,hasRequiredConsumableBuffer;function requireConsumableBuffer(){if(hasRequiredConsumableBuffer)return consumableBuffer;hasRequiredConsumableBuffer=1;const r=[255,254,252,248,240,224,192,128],t=[1,3,7,15,31,63,127,255];consumableBuffer=class{constructor(o){this._value=o,this._currentBytePos=o.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(o){let s=o,a=0;for(;s&&this._haveBits();){const c=this._value[this._currentBytePos],y=this._currentBitPos+1,g=Math.min(y,s),h=e(c,y-g,g);a=(a<<g)+h,s-=g,this._currentBitPos-=g,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return a}untake(o){for(this._currentBitPos+=o;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function e(i,o,s){const a=n(o,s);return(i&a)>>>o}function n(i,o){return r[i]&t[Math.min(o+i-1,7)]}return consumableBuffer}function concat(r,t){t||(t=r.reduce((i,o)=>i+o.length,0));const e=allocUnsafe(t);let n=0;for(const i of r)e.set(i,n),n+=i.length;return asUint8Array(e)}const concat$1=Object.freeze(Object.defineProperty({__proto__:null,concat},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(concat$1);var hasRequiredConsumableHash;function requireConsumableHash(){if(hasRequiredConsumableHash)return consumableHash.exports;hasRequiredConsumableHash=1;const r=requireConsumableBuffer(),{concat:t}=require$$1;function e(i){function o(s){return s instanceof n?s:new n(s,i)}return o}class n{constructor(o,s){if(!(o instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=o,this._hashFn=s,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(o){let s=o;for(;this._availableBits<s;)await this._produceMoreBits();let a=0;for(;s>0;){const c=this._buffers[this._currentBufferIndex],y=Math.min(c.availableBits(),s),g=c.take(y);a=(a<<y)+g,s-=y,this._availableBits-=y,c.availableBits()===0&&this._currentBufferIndex++}return a}untake(o){let s=o;for(;s>0;){const a=this._buffers[this._currentBufferIndex],c=Math.min(a.totalBits()-a.availableBits(),s);a.untake(c),s-=c,this._availableBits+=c,this._currentBufferIndex>0&&a.totalBits()===a.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const o=this._depth?t([this._value,Uint8Array.from([this._depth])]):this._value,s=await this._hashFn(o),a=new r(s);this._buffers.push(a),this._availableBits+=a.availableBits()}}return consumableHash.exports=e,consumableHash.exports.InfiniteHash=n,consumableHash.exports}var src$4,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src$4;hasRequiredSrc=1;const r=requireBucket(),t=requireConsumableHash();function e(n){if(!n||!n.hashFn)throw new Error("please define an options.hashFn");const i={bits:n.bits||8,hash:t(n.hashFn)};return new r(i)}return src$4={createHAMT:e,Bucket:r},src$4}requireSrc();function base$3(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$3=base$3,_brrp__multiformats_scope_baseX$3=src$3;const coerce$3=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},fromString$2=r=>new TextEncoder().encode(r),toString=r=>new TextDecoder().decode(r);let Encoder$3=class{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$3=class{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$3(this,t)}},ComposedDecoder$3=class{constructor(t){this.decoders=t}or(t){return or$3(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$3=(r,t)=>new ComposedDecoder$3({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});let Codec$3=class{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$3(t,e,n),this.decoder=new Decoder$3(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const from$3=({name:r,prefix:t,encode:e,decode:n})=>new Codec$3(r,t,e,n),baseX$3=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$3(e,t);return from$3({prefix:r,name:t,encode:n,decode:o=>coerce$3(i(o))})},decode$4=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode$4=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648$3=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from$3({prefix:t,name:r,encode(i){return encode$4(i,n,e)},decode(i){return decode$4(i,n,e,r)}});from$3({prefix:"\0",name:"identity",encode:r=>toString(r),decode:r=>fromString$2(r)});rfc4648$3({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});rfc4648$3({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});baseX$3({prefix:"9",name:"base10",alphabet:"0123456789"});rfc4648$3({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4});rfc4648$3({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});rfc4648$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});baseX$3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});baseX$3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$3({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$3({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$3({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$3({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});const alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((r,t,e)=>(r[e]=t,r),[]),alphabetCharsToBytes=alphabet.reduce((r,t,e)=>(r[t.codePointAt(0)]=e,r),[]);function encode$3(r){return r.reduce((t,e)=>(t+=alphabetBytesToChars[e],t),"")}function decode$3(r){const t=[];for(const e of r){const n=alphabetCharsToBytes[e.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${e}`);t.push(n)}return new Uint8Array(t)}from$3({prefix:"",name:"base256emoji",encode:encode$3,decode:decode$3});new TextEncoder;new TextDecoder;var indexMinimal$1={},minimal$3={},longbits$1,hasRequiredLongbits$1;function requireLongbits$1(){if(hasRequiredLongbits$1)return longbits$1;hasRequiredLongbits$1=1,longbits$1=t;var r=requireMinimal$3();function t(o,s){this.lo=o>>>0,this.hi=s>>>0}var e=t.zero=new t(0,0);e.toNumber=function(){return 0},e.zzEncode=e.zzDecode=function(){return this},e.length=function(){return 1};var n=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(s){if(s===0)return e;var a=s<0;a&&(s=-s);var c=s>>>0,y=(s-c)/4294967296>>>0;return a&&(y=~y>>>0,c=~c>>>0,++c>4294967295&&(c=0,++y>4294967295&&(y=0))),new t(c,y)},t.from=function(s){if(typeof s=="number")return t.fromNumber(s);if(r.isString(s))if(r.Long)s=r.Long.fromString(s);else return t.fromNumber(parseInt(s,10));return s.low||s.high?new t(s.low>>>0,s.high>>>0):e},t.prototype.toNumber=function(s){if(!s&&this.hi>>>31){var a=~this.lo+1>>>0,c=~this.hi>>>0;return a||(c=c+1>>>0),-(a+c*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(s){return r.Long?new r.Long(this.lo|0,this.hi|0,!!s):{low:this.lo|0,high:this.hi|0,unsigned:!!s}};var i=String.prototype.charCodeAt;return t.fromHash=function(s){return s===n?e:new t((i.call(s,0)|i.call(s,1)<<8|i.call(s,2)<<16|i.call(s,3)<<24)>>>0,(i.call(s,4)|i.call(s,5)<<8|i.call(s,6)<<16|i.call(s,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},t.prototype.zzDecode=function(){var s=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},t.prototype.length=function(){var s=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?a===0?s<16384?s<128?1:2:s<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:c<128?9:10},longbits$1}var hasRequiredMinimal$3;function requireMinimal$3(){return hasRequiredMinimal$3||(hasRequiredMinimal$3=1,(function(r){var t=r;t.asPromise=requireAspromise(),t.base64=requireBase64(),t.EventEmitter=requireEventemitter(),t.float=requireFloat(),t.inquire=requireInquire(),t.utf8=requireUtf8(),t.pool=requirePool(),t.LongBits=requireLongbits$1(),t.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$3,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,s){var a=o[s];return a!=null&&o.hasOwnProperty(s)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1},t.Buffer=(function(){try{var i=t.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}})(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,s){var a=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(a.lo,a.hi,s):a.toNumber(!!s)};function e(i,o,s){for(var a=Object.keys(o),c=0;c<a.length;++c)(i[a[c]]===void 0||!s)&&(i[a[c]]=o[a[c]]);return i}t.merge=e,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function n(i){function o(s,a){if(!(this instanceof o))return new o(s,a);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&e(this,a)}return(o.prototype=Object.create(Error.prototype)).constructor=o,Object.defineProperty(o.prototype,"name",{get:function(){return i}}),o.prototype.toString=function(){return this.name+": "+this.message},o}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(o){for(var s={},a=0;a<o.length;++a)s[o[a]]=1;return function(){for(var c=Object.keys(this),y=c.length-1;y>-1;--y)if(s[c[y]]===1&&this[c[y]]!==void 0&&this[c[y]]!==null)return c[y]}},t.oneOfSetter=function(o){return function(s){for(var a=0;a<o.length;++a)o[a]!==s&&delete this[o[a]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var i=t.Buffer;if(!i){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=i.from!==Uint8Array.from&&i.from||function(s,a){return new i(s,a)},t._Buffer_allocUnsafe=i.allocUnsafe||function(s){return new i(s)}}})(minimal$3)),minimal$3}var writer$1,hasRequiredWriter$1;function requireWriter$1(){if(hasRequiredWriter$1)return writer$1;hasRequiredWriter$1=1,writer$1=c;var r=requireMinimal$3(),t,e=r.LongBits,n=r.base64,i=r.utf8;function o($,f,m){this.fn=$,this.len=f,this.next=void 0,this.val=m}function s(){}function a($){this.head=$.head,this.tail=$.tail,this.len=$.len,this.next=$.states}function c(){this.len=0,this.head=new o(s,0,0),this.tail=this.head,this.states=null}var y=function(){return r.Buffer?function(){return(c.create=function(){return new t})()}:function(){return new c}};c.create=y(),c.alloc=function(f){return new r.Array(f)},r.Array!==Array&&(c.alloc=r.pool(c.alloc,r.Array.prototype.subarray)),c.prototype._push=function(f,m,E){return this.tail=this.tail.next=new o(f,m,E),this.len+=m,this};function g($,f,m){f[m]=$&255}function h($,f,m){for(;$>127;)f[m++]=$&127|128,$>>>=7;f[m]=$}function l($,f){this.len=$,this.next=void 0,this.val=f}l.prototype=Object.create(o.prototype),l.prototype.fn=h,c.prototype.uint32=function(f){return this.len+=(this.tail=this.tail.next=new l((f=f>>>0)<128?1:f<16384?2:f<2097152?3:f<268435456?4:5,f)).len,this},c.prototype.int32=function(f){return f<0?this._push(w,10,e.fromNumber(f)):this.uint32(f)},c.prototype.sint32=function(f){return this.uint32((f<<1^f>>31)>>>0)};function w($,f,m){for(;$.hi;)f[m++]=$.lo&127|128,$.lo=($.lo>>>7|$.hi<<25)>>>0,$.hi>>>=7;for(;$.lo>127;)f[m++]=$.lo&127|128,$.lo=$.lo>>>7;f[m++]=$.lo}c.prototype.uint64=function(f){var m=e.from(f);return this._push(w,m.length(),m)},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(f){var m=e.from(f).zzEncode();return this._push(w,m.length(),m)},c.prototype.bool=function(f){return this._push(g,1,f?1:0)};function u($,f,m){f[m]=$&255,f[m+1]=$>>>8&255,f[m+2]=$>>>16&255,f[m+3]=$>>>24}c.prototype.fixed32=function(f){return this._push(u,4,f>>>0)},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(f){var m=e.from(f);return this._push(u,4,m.lo)._push(u,4,m.hi)},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(f){return this._push(r.float.writeFloatLE,4,f)},c.prototype.double=function(f){return this._push(r.float.writeDoubleLE,8,f)};var p=r.Array.prototype.set?function(f,m,E){m.set(f,E)}:function(f,m,E){for(var T=0;T<f.length;++T)m[E+T]=f[T]};return c.prototype.bytes=function(f){var m=f.length>>>0;if(!m)return this._push(g,1,0);if(r.isString(f)){var E=c.alloc(m=n.length(f));n.decode(f,E,0),f=E}return this.uint32(m)._push(p,m,f)},c.prototype.string=function(f){var m=i.length(f);return m?this.uint32(m)._push(i.write,m,f):this._push(g,1,0)},c.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new o(s,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(s,0,0),this.len=0),this},c.prototype.ldelim=function(){var f=this.head,m=this.tail,E=this.len;return this.reset().uint32(E),E&&(this.tail.next=f.next,this.tail=m,this.len+=E),this},c.prototype.finish=function(){for(var f=this.head.next,m=this.constructor.alloc(this.len),E=0;f;)f.fn(f.val,m,E),E+=f.len,f=f.next;return m},c._configure=function($){t=$,c.create=y(),t._configure()},writer$1}var writer_buffer$1,hasRequiredWriter_buffer$1;function requireWriter_buffer$1(){if(hasRequiredWriter_buffer$1)return writer_buffer$1;hasRequiredWriter_buffer$1=1,writer_buffer$1=e;var r=requireWriter$1();(e.prototype=Object.create(r.prototype)).constructor=e;var t=requireMinimal$3();function e(){r.call(this)}e._configure=function(){e.alloc=t._Buffer_allocUnsafe,e.writeBytesBuffer=t.Buffer&&t.Buffer.prototype instanceof Uint8Array&&t.Buffer.prototype.set.name==="set"?function(o,s,a){s.set(o,a)}:function(o,s,a){if(o.copy)o.copy(s,a,0,o.length);else for(var c=0;c<o.length;)s[a++]=o[c++]}},e.prototype.bytes=function(o){t.isString(o)&&(o=t._Buffer_from(o,"base64"));var s=o.length>>>0;return this.uint32(s),s&&this._push(e.writeBytesBuffer,s,o),this};function n(i,o,s){i.length<40?t.utf8.write(i,o,s):o.utf8Write?o.utf8Write(i,s):o.write(i,s)}return e.prototype.string=function(o){var s=t.Buffer.byteLength(o);return this.uint32(s),s&&this._push(n,s,o),this},e._configure(),writer_buffer$1}var reader$1,hasRequiredReader$1;function requireReader$1(){if(hasRequiredReader$1)return reader$1;hasRequiredReader$1=1,reader$1=o;var r=requireMinimal$3(),t,e=r.LongBits,n=r.utf8;function i(h,l){return RangeError("index out of range: "+h.pos+" + "+(l||1)+" > "+h.len)}function o(h){this.buf=h,this.pos=0,this.len=h.length}var s=typeof Uint8Array<"u"?function(l){if(l instanceof Uint8Array||Array.isArray(l))return new o(l);throw Error("illegal buffer")}:function(l){if(Array.isArray(l))return new o(l);throw Error("illegal buffer")},a=function(){return r.Buffer?function(w){return(o.create=function(p){return r.Buffer.isBuffer(p)?new t(p):s(p)})(w)}:s};o.create=a(),o.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,o.prototype.uint32=(function(){var l=4294967295;return function(){if(l=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(l=(l|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return l;if((this.pos+=5)>this.len)throw this.pos=this.len,i(this,10);return l}})(),o.prototype.int32=function(){return this.uint32()|0},o.prototype.sint32=function(){var l=this.uint32();return l>>>1^-(l&1)|0};function c(){var h=new e(0,0),l=0;if(this.len-this.pos>4){for(;l<4;++l)if(h.lo=(h.lo|(this.buf[this.pos]&127)<<l*7)>>>0,this.buf[this.pos++]<128)return h;if(h.lo=(h.lo|(this.buf[this.pos]&127)<<28)>>>0,h.hi=(h.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return h;l=0}else{for(;l<3;++l){if(this.pos>=this.len)throw i(this);if(h.lo=(h.lo|(this.buf[this.pos]&127)<<l*7)>>>0,this.buf[this.pos++]<128)return h}return h.lo=(h.lo|(this.buf[this.pos++]&127)<<l*7)>>>0,h}if(this.len-this.pos>4){for(;l<5;++l)if(h.hi=(h.hi|(this.buf[this.pos]&127)<<l*7+3)>>>0,this.buf[this.pos++]<128)return h}else for(;l<5;++l){if(this.pos>=this.len)throw i(this);if(h.hi=(h.hi|(this.buf[this.pos]&127)<<l*7+3)>>>0,this.buf[this.pos++]<128)return h}throw Error("invalid varint encoding")}o.prototype.bool=function(){return this.uint32()!==0};function y(h,l){return(h[l-4]|h[l-3]<<8|h[l-2]<<16|h[l-1]<<24)>>>0}o.prototype.fixed32=function(){if(this.pos+4>this.len)throw i(this,4);return y(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i(this,4);return y(this.buf,this.pos+=4)|0};function g(){if(this.pos+8>this.len)throw i(this,8);return new e(y(this.buf,this.pos+=4),y(this.buf,this.pos+=4))}return o.prototype.float=function(){if(this.pos+4>this.len)throw i(this,4);var l=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,l},o.prototype.double=function(){if(this.pos+8>this.len)throw i(this,4);var l=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,l},o.prototype.bytes=function(){var l=this.uint32(),w=this.pos,u=this.pos+l;if(u>this.len)throw i(this,l);return this.pos+=l,Array.isArray(this.buf)?this.buf.slice(w,u):w===u?new this.buf.constructor(0):this._slice.call(this.buf,w,u)},o.prototype.string=function(){var l=this.bytes();return n.read(l,0,l.length)},o.prototype.skip=function(l){if(typeof l=="number"){if(this.pos+l>this.len)throw i(this,l);this.pos+=l}else do if(this.pos>=this.len)throw i(this);while(this.buf[this.pos++]&128);return this},o.prototype.skipType=function(h){switch(h){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(h=this.uint32()&7)!==4;)this.skipType(h);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+h+" at offset "+this.pos)}return this},o._configure=function(h){t=h,o.create=a(),t._configure();var l=r.Long?"toLong":"toNumber";r.merge(o.prototype,{int64:function(){return c.call(this)[l](!1)},uint64:function(){return c.call(this)[l](!0)},sint64:function(){return c.call(this).zzDecode()[l](!1)},fixed64:function(){return g.call(this)[l](!0)},sfixed64:function(){return g.call(this)[l](!1)}})},reader$1}var reader_buffer$1,hasRequiredReader_buffer$1;function requireReader_buffer$1(){if(hasRequiredReader_buffer$1)return reader_buffer$1;hasRequiredReader_buffer$1=1,reader_buffer$1=e;var r=requireReader$1();(e.prototype=Object.create(r.prototype)).constructor=e;var t=requireMinimal$3();function e(n){r.call(this,n)}return e._configure=function(){t.Buffer&&(e.prototype._slice=t.Buffer.prototype.slice)},e.prototype.string=function(){var i=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+i,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+i,this.len))},e._configure(),reader_buffer$1}var rpc$1={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=t;var r=requireMinimal$3();(t.prototype=Object.create(r.EventEmitter.prototype)).constructor=t;function t(e,n,i){if(typeof e!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!n,this.responseDelimited=!!i}return t.prototype.rpcCall=function e(n,i,o,s,a){if(!s)throw TypeError("request must be specified");var c=this;if(!a)return r.asPromise(e,c,n,i,o,s);if(!c.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return c.rpcImpl(n,i[c.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(g,h){if(g)return c.emit("error",g,n),a(g);if(h===null){c.end(!0);return}if(!(h instanceof o))try{h=o[c.responseDelimited?"decodeDelimited":"decode"](h)}catch(l){return c.emit("error",l,n),a(l)}return c.emit("data",h,n),a(null,h)})}catch(y){c.emit("error",y,n),setTimeout(function(){a(y)},0);return}},t.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc$1;function requireRpc$1(){return hasRequiredRpc$1||(hasRequiredRpc$1=1,(function(r){var t=r;t.Service=requireService$1()})(rpc$1)),rpc$1}var roots$1,hasRequiredRoots$1;function requireRoots$1(){return hasRequiredRoots$1||(hasRequiredRoots$1=1,roots$1={}),roots$1}var hasRequiredIndexMinimal$1;function requireIndexMinimal$1(){return hasRequiredIndexMinimal$1||(hasRequiredIndexMinimal$1=1,(function(r){var t=r;t.build="minimal",t.Writer=requireWriter$1(),t.BufferWriter=requireWriter_buffer$1(),t.Reader=requireReader$1(),t.BufferReader=requireReader_buffer$1(),t.util=requireMinimal$3(),t.rpc=requireRpc$1(),t.roots=requireRoots$1(),t.configure=e;function e(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}e()})(indexMinimal$1)),indexMinimal$1}var minimal$2,hasRequiredMinimal$2;function requireMinimal$2(){return hasRequiredMinimal$2||(hasRequiredMinimal$2=1,minimal$2=requireIndexMinimal$1()),minimal$2}var minimalExports$1=requireMinimal$2();const $protobuf$1=getDefaultExportFromCjs(minimalExports$1),$Reader$1=$protobuf$1.Reader,$Writer$1=$protobuf$1.Writer,$util$1=$protobuf$1.util,$root$1=$protobuf$1.roots["ipfs-unixfs"]||($protobuf$1.roots["ipfs-unixfs"]={});$root$1.Data=(()=>{function r(t){if(this.blocksizes=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.Type=0,r.prototype.Data=$util$1.newBuffer([]),r.prototype.filesize=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,r.prototype.blocksizes=$util$1.emptyArray,r.prototype.hashType=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,r.prototype.fanout=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,r.prototype.mode=0,r.prototype.mtime=null,r.encode=function(e,n){if(n||(n=$Writer$1.create()),n.uint32(8).int32(e.Type),e.Data!=null&&Object.hasOwnProperty.call(e,"Data")&&n.uint32(18).bytes(e.Data),e.filesize!=null&&Object.hasOwnProperty.call(e,"filesize")&&n.uint32(24).uint64(e.filesize),e.blocksizes!=null&&e.blocksizes.length)for(var i=0;i<e.blocksizes.length;++i)n.uint32(32).uint64(e.blocksizes[i]);return e.hashType!=null&&Object.hasOwnProperty.call(e,"hashType")&&n.uint32(40).uint64(e.hashType),e.fanout!=null&&Object.hasOwnProperty.call(e,"fanout")&&n.uint32(48).uint64(e.fanout),e.mode!=null&&Object.hasOwnProperty.call(e,"mode")&&n.uint32(56).uint32(e.mode),e.mtime!=null&&Object.hasOwnProperty.call(e,"mtime")&&$root$1.UnixTime.encode(e.mtime,n.uint32(66).fork()).ldelim(),n},r.decode=function(e,n){e instanceof $Reader$1||(e=$Reader$1.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root$1.Data;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.Type=e.int32();break;case 2:o.Data=e.bytes();break;case 3:o.filesize=e.uint64();break;case 4:if(o.blocksizes&&o.blocksizes.length||(o.blocksizes=[]),(s&7)===2)for(var a=e.uint32()+e.pos;e.pos<a;)o.blocksizes.push(e.uint64());else o.blocksizes.push(e.uint64());break;case 5:o.hashType=e.uint64();break;case 6:o.fanout=e.uint64();break;case 7:o.mode=e.uint32();break;case 8:o.mtime=$root$1.UnixTime.decode(e,e.uint32());break;default:e.skipType(s&7);break}}if(!o.hasOwnProperty("Type"))throw $util$1.ProtocolError("missing required 'Type'",{instance:o});return o},r.fromObject=function(e){if(e instanceof $root$1.Data)return e;var n=new $root$1.Data;switch(e.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(e.Data!=null&&(typeof e.Data=="string"?$util$1.base64.decode(e.Data,n.Data=$util$1.newBuffer($util$1.base64.length(e.Data)),0):e.Data.length&&(n.Data=e.Data)),e.filesize!=null&&($util$1.Long?(n.filesize=$util$1.Long.fromValue(e.filesize)).unsigned=!0:typeof e.filesize=="string"?n.filesize=parseInt(e.filesize,10):typeof e.filesize=="number"?n.filesize=e.filesize:typeof e.filesize=="object"&&(n.filesize=new $util$1.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)$util$1.Long?(n.blocksizes[i]=$util$1.Long.fromValue(e.blocksizes[i])).unsigned=!0:typeof e.blocksizes[i]=="string"?n.blocksizes[i]=parseInt(e.blocksizes[i],10):typeof e.blocksizes[i]=="number"?n.blocksizes[i]=e.blocksizes[i]:typeof e.blocksizes[i]=="object"&&(n.blocksizes[i]=new $util$1.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0))}if(e.hashType!=null&&($util$1.Long?(n.hashType=$util$1.Long.fromValue(e.hashType)).unsigned=!0:typeof e.hashType=="string"?n.hashType=parseInt(e.hashType,10):typeof e.hashType=="number"?n.hashType=e.hashType:typeof e.hashType=="object"&&(n.hashType=new $util$1.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),e.fanout!=null&&($util$1.Long?(n.fanout=$util$1.Long.fromValue(e.fanout)).unsigned=!0:typeof e.fanout=="string"?n.fanout=parseInt(e.fanout,10):typeof e.fanout=="number"?n.fanout=e.fanout:typeof e.fanout=="object"&&(n.fanout=new $util$1.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),e.mode!=null&&(n.mode=e.mode>>>0),e.mtime!=null){if(typeof e.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=$root$1.UnixTime.fromObject(e.mtime)}return n},r.toObject=function(e,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocksizes=[]),n.defaults){if(i.Type=n.enums===String?"Raw":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=$util$1.newBuffer(i.Data))),$util$1.Long){var o=new $util$1.Long(0,0,!0);i.filesize=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.filesize=n.longs===String?"0":0;if($util$1.Long){var o=new $util$1.Long(0,0,!0);i.hashType=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.hashType=n.longs===String?"0":0;if($util$1.Long){var o=new $util$1.Long(0,0,!0);i.fanout=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.fanout=n.longs===String?"0":0;i.mode=0,i.mtime=null}if(e.Type!=null&&e.hasOwnProperty("Type")&&(i.Type=n.enums===String?$root$1.Data.DataType[e.Type]:e.Type),e.Data!=null&&e.hasOwnProperty("Data")&&(i.Data=n.bytes===String?$util$1.base64.encode(e.Data,0,e.Data.length):n.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),e.filesize!=null&&e.hasOwnProperty("filesize")&&(typeof e.filesize=="number"?i.filesize=n.longs===String?String(e.filesize):e.filesize:i.filesize=n.longs===String?$util$1.Long.prototype.toString.call(e.filesize):n.longs===Number?new $util$1.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){i.blocksizes=[];for(var s=0;s<e.blocksizes.length;++s)typeof e.blocksizes[s]=="number"?i.blocksizes[s]=n.longs===String?String(e.blocksizes[s]):e.blocksizes[s]:i.blocksizes[s]=n.longs===String?$util$1.Long.prototype.toString.call(e.blocksizes[s]):n.longs===Number?new $util$1.LongBits(e.blocksizes[s].low>>>0,e.blocksizes[s].high>>>0).toNumber(!0):e.blocksizes[s]}return e.hashType!=null&&e.hasOwnProperty("hashType")&&(typeof e.hashType=="number"?i.hashType=n.longs===String?String(e.hashType):e.hashType:i.hashType=n.longs===String?$util$1.Long.prototype.toString.call(e.hashType):n.longs===Number?new $util$1.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),e.fanout!=null&&e.hasOwnProperty("fanout")&&(typeof e.fanout=="number"?i.fanout=n.longs===String?String(e.fanout):e.fanout:i.fanout=n.longs===String?$util$1.Long.prototype.toString.call(e.fanout):n.longs===Number?new $util$1.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),e.mode!=null&&e.hasOwnProperty("mode")&&(i.mode=e.mode),e.mtime!=null&&e.hasOwnProperty("mtime")&&(i.mtime=$root$1.UnixTime.toObject(e.mtime,n)),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$1.util.toJSONOptions)},r.DataType=(function(){const t={},e=Object.create(t);return e[t[0]="Raw"]=0,e[t[1]="Directory"]=1,e[t[2]="File"]=2,e[t[3]="Metadata"]=3,e[t[4]="Symlink"]=4,e[t[5]="HAMTShard"]=5,e})(),r})();$root$1.UnixTime=(()=>{function r(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.Seconds=$util$1.Long?$util$1.Long.fromBits(0,0,!1):0,r.prototype.FractionalNanoseconds=0,r.encode=function(e,n){return n||(n=$Writer$1.create()),n.uint32(8).int64(e.Seconds),e.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&n.uint32(21).fixed32(e.FractionalNanoseconds),n},r.decode=function(e,n){e instanceof $Reader$1||(e=$Reader$1.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root$1.UnixTime;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.Seconds=e.int64();break;case 2:o.FractionalNanoseconds=e.fixed32();break;default:e.skipType(s&7);break}}if(!o.hasOwnProperty("Seconds"))throw $util$1.ProtocolError("missing required 'Seconds'",{instance:o});return o},r.fromObject=function(e){if(e instanceof $root$1.UnixTime)return e;var n=new $root$1.UnixTime;return e.Seconds!=null&&($util$1.Long?(n.Seconds=$util$1.Long.fromValue(e.Seconds)).unsigned=!1:typeof e.Seconds=="string"?n.Seconds=parseInt(e.Seconds,10):typeof e.Seconds=="number"?n.Seconds=e.Seconds:typeof e.Seconds=="object"&&(n.Seconds=new $util$1.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),e.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=e.FractionalNanoseconds>>>0),n},r.toObject=function(e,n){n||(n={});var i={};if(n.defaults){if($util$1.Long){var o=new $util$1.Long(0,0,!1);i.Seconds=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.Seconds=n.longs===String?"0":0;i.FractionalNanoseconds=0}return e.Seconds!=null&&e.hasOwnProperty("Seconds")&&(typeof e.Seconds=="number"?i.Seconds=n.longs===String?String(e.Seconds):e.Seconds:i.Seconds=n.longs===String?$util$1.Long.prototype.toString.call(e.Seconds):n.longs===Number?new $util$1.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),e.FractionalNanoseconds!=null&&e.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=e.FractionalNanoseconds),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$1.util.toJSONOptions)},r})();$root$1.Metadata=(()=>{function r(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.MimeType="",r.encode=function(e,n){return n||(n=$Writer$1.create()),e.MimeType!=null&&Object.hasOwnProperty.call(e,"MimeType")&&n.uint32(10).string(e.MimeType),n},r.decode=function(e,n){e instanceof $Reader$1||(e=$Reader$1.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root$1.Metadata;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.MimeType=e.string();break;default:e.skipType(s&7);break}}return o},r.fromObject=function(e){if(e instanceof $root$1.Metadata)return e;var n=new $root$1.Metadata;return e.MimeType!=null&&(n.MimeType=String(e.MimeType)),n},r.toObject=function(e,n){n||(n={});var i={};return n.defaults&&(i.MimeType=""),e.MimeType!=null&&e.hasOwnProperty("MimeType")&&(i.MimeType=e.MimeType),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$1.util.toJSONOptions)},r})();function base$2(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$2=base$2,_brrp__multiformats_scope_baseX$2=src$2;const coerce$2=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$2=class{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$2=class{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$2(this,t)}},ComposedDecoder$2=class{constructor(t){this.decoders=t}or(t){return or$2(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$2=(r,t)=>new ComposedDecoder$2({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});let Codec$2=class{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$2(t,e,n),this.decoder=new Decoder$2(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const from$2=({name:r,prefix:t,encode:e,decode:n})=>new Codec$2(r,t,e,n),baseX$2=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$2(e,t);return from$2({prefix:r,name:t,encode:n,decode:o=>coerce$2(i(o))})},decode$2=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode$2=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648$2=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from$2({prefix:t,name:r,encode(i){return encode$2(i,n,e)},decode(i){return decode$2(i,n,e,r)}});rfc4648$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});baseX$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const coerce$1=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};function base$1(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src$1=base$1,_brrp__multiformats_scope_baseX$1=src$1;let Encoder$1=class{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$1(this,t)}},ComposedDecoder$1=class{constructor(t){this.decoders=t}or(t){return or$1(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$1=(r,t)=>new ComposedDecoder$1({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});let Codec$1=class{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$1(t,e,n),this.decoder=new Decoder$1(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const from$1=({name:r,prefix:t,encode:e,decode:n})=>new Codec$1(r,t,e,n),baseX$1=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX$1(e,t);return from$1({prefix:r,name:t,encode:n,decode:o=>coerce$1(i(o))})},decode$1=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode$1=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648$1=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from$1({prefix:t,name:r,encode(i){return encode$1(i,n,e)},decode(i){return decode$1(i,n,e,r)}});baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});new TextDecoder;new TextEncoder;new TextEncoder;const typeofs$1=["string","number","bigint","symbol"],objectTypeNames$1=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is$1(r){if(r===null)return"null";if(r===void 0)return"undefined";if(r===!0||r===!1)return"boolean";const t=typeof r;if(typeofs$1.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(r))return"Array";if(isBuffer$3(r))return"Buffer";const e=getObjectType$1(r);return e||"Object"}function isBuffer$3(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}function getObjectType$1(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(objectTypeNames$1.includes(t))return t}let Type$1=class{constructor(t,e,n){this.major=t,this.majorEncoded=t<<5,this.name=e,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};Type$1.uint=new Type$1(0,"uint",!0);Type$1.negint=new Type$1(1,"negint",!0);Type$1.bytes=new Type$1(2,"bytes",!0);Type$1.string=new Type$1(3,"string",!0);Type$1.array=new Type$1(4,"array",!1);Type$1.map=new Type$1(5,"map",!1);Type$1.tag=new Type$1(6,"tag",!1);Type$1.float=new Type$1(7,"float",!0);Type$1.false=new Type$1(7,"false",!0);Type$1.true=new Type$1(7,"true",!0);Type$1.null=new Type$1(7,"null",!0);Type$1.undefined=new Type$1(7,"undefined",!0);Type$1.break=new Type$1(7,"break",!0);let Token$1=class{constructor(t,e,n){this.type=t,this.value=e,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};const useBuffer$1=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function";new TextDecoder;const textEncoder$1=new TextEncoder;function isBuffer$2(r){return useBuffer$1&&globalThis.Buffer.isBuffer(r)}const fromString$1=useBuffer$1?r=>r.length>64?globalThis.Buffer.from(r):utf8ToBytes$1(r):r=>r.length>64?textEncoder$1.encode(r):utf8ToBytes$1(r);function compare$1(r,t){if(isBuffer$2(r)&&isBuffer$2(t))return r.compare(t);for(let e=0;e<r.length;e++)if(r[e]!==t[e])return r[e]<t[e]?-1:1;return 0}function utf8ToBytes$1(r,t=1/0){let e;const n=r.length;let i=null;const o=[];for(let s=0;s<n;++s){if(e=r.charCodeAt(s),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}const decodeErrPrefix$1="CBOR decode error:",encodeErrPrefix$1="CBOR encode error:",uintBoundaries$1=[24,256,65536,4294967296,BigInt("18446744073709551616")];function encodeUint$1(r,t){return encodeUintValue$1(r,0,t.value)}function encodeUintValue$1(r,t,e){if(e<uintBoundaries$1[0]){const n=Number(e);r.push([t|n])}else if(e<uintBoundaries$1[1]){const n=Number(e);r.push([t|24,n])}else if(e<uintBoundaries$1[2]){const n=Number(e);r.push([t|25,n>>>8,n&255])}else if(e<uintBoundaries$1[3]){const n=Number(e);r.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(e);if(n<uintBoundaries$1[4]){const i=[t|27,0,0,0,0,0,0,0];let o=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=s&255,s=s>>8,i[3]=s&255,s=s>>8,i[2]=s&255,s=s>>8,i[1]=s&255,r.push(i)}else throw new Error(`${decodeErrPrefix$1} encountered BigInt larger than allowable range`)}}encodeUint$1.encodedSize=function r(t){return encodeUintValue$1.encodedSize(t.value)};encodeUintValue$1.encodedSize=function r(t){return t<uintBoundaries$1[0]?1:t<uintBoundaries$1[1]?2:t<uintBoundaries$1[2]?3:t<uintBoundaries$1[3]?5:9};encodeUint$1.compareTokens=function r(t,e){return t.value<e.value?-1:t.value>e.value?1:0};const neg1b$1=BigInt(-1),pos1b$1=BigInt(1);function encodeNegint$1(r,t){const e=t.value,n=typeof e=="bigint"?e*neg1b$1-pos1b$1:e*-1-1;encodeUintValue$1(r,t.type.majorEncoded,n)}encodeNegint$1.encodedSize=function r(t){const e=t.value,n=typeof e=="bigint"?e*neg1b$1-pos1b$1:e*-1-1;return n<uintBoundaries$1[0]?1:n<uintBoundaries$1[1]?2:n<uintBoundaries$1[2]?3:n<uintBoundaries$1[3]?5:9};encodeNegint$1.compareTokens=function r(t,e){return t.value<e.value?1:t.value>e.value?-1:0};function tokenBytes$1(r){return r.encodedBytes===void 0&&(r.encodedBytes=r.type===Type$1.string?fromString$1(r.value):r.value),r.encodedBytes}function encodeBytes$1(r,t){const e=tokenBytes$1(t);encodeUintValue$1(r,t.type.majorEncoded,e.length),r.push(e)}encodeBytes$1.encodedSize=function r(t){const e=tokenBytes$1(t);return encodeUintValue$1.encodedSize(e.length)+e.length};encodeBytes$1.compareTokens=function r(t,e){return compareBytes$1(tokenBytes$1(t),tokenBytes$1(e))};function compareBytes$1(r,t){return r.length<t.length?-1:r.length>t.length?1:compare$1(r,t)}const encodeString$1=encodeBytes$1;function encodeArray$1(r,t){encodeUintValue$1(r,Type$1.array.majorEncoded,t.value)}encodeArray$1.compareTokens=encodeUint$1.compareTokens;encodeArray$1.encodedSize=function r(t){return encodeUintValue$1.encodedSize(t.value)};function encodeMap$1(r,t){encodeUintValue$1(r,Type$1.map.majorEncoded,t.value)}encodeMap$1.compareTokens=encodeUint$1.compareTokens;encodeMap$1.encodedSize=function r(t){return encodeUintValue$1.encodedSize(t.value)};function encodeTag$1(r,t){encodeUintValue$1(r,Type$1.tag.majorEncoded,t.value)}encodeTag$1.compareTokens=encodeUint$1.compareTokens;encodeTag$1.encodedSize=function r(t){return encodeUintValue$1.encodedSize(t.value)};const MINOR_FALSE$1=20,MINOR_TRUE$1=21,MINOR_NULL$1=22,MINOR_UNDEFINED$1=23;function encodeFloat$1(r,t,e){const n=t.value;if(n===!1)r.push([Type$1.float.majorEncoded|MINOR_FALSE$1]);else if(n===!0)r.push([Type$1.float.majorEncoded|MINOR_TRUE$1]);else if(n===null)r.push([Type$1.float.majorEncoded|MINOR_NULL$1]);else if(n===void 0)r.push([Type$1.float.majorEncoded|MINOR_UNDEFINED$1]);else{let i,o=!1;(!e||e.float64!==!0)&&(encodeFloat16$1(n),i=readFloat16$1(ui8a$1,1),n===i||Number.isNaN(n)?(ui8a$1[0]=249,r.push(ui8a$1.slice(0,3)),o=!0):(encodeFloat32$1(n),i=readFloat32$1(ui8a$1,1),n===i&&(ui8a$1[0]=250,r.push(ui8a$1.slice(0,5)),o=!0))),o||(encodeFloat64$1(n),i=readFloat64$1(ui8a$1,1),ui8a$1[0]=251,r.push(ui8a$1.slice(0,9)))}}encodeFloat$1.encodedSize=function r(t,e){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!e||e.float64!==!0){encodeFloat16$1(n);let i=readFloat16$1(ui8a$1,1);if(n===i||Number.isNaN(n))return 3;if(encodeFloat32$1(n),i=readFloat32$1(ui8a$1,1),n===i)return 5}return 9};const buffer$1=new ArrayBuffer(9),dataView$1=new DataView(buffer$1,1),ui8a$1=new Uint8Array(buffer$1,0);function encodeFloat16$1(r){if(r===1/0)dataView$1.setUint16(0,31744,!1);else if(r===-1/0)dataView$1.setUint16(0,64512,!1);else if(Number.isNaN(r))dataView$1.setUint16(0,32256,!1);else{dataView$1.setFloat32(0,r);const t=dataView$1.getUint32(0),e=(t&2139095040)>>23,n=t&8388607;if(e===255)dataView$1.setUint16(0,31744,!1);else if(e===0)dataView$1.setUint16(0,(r&2147483648)>>16|n>>13,!1);else{const i=e-127;i<-24?dataView$1.setUint16(0,0):i<-14?dataView$1.setUint16(0,(t&2147483648)>>16|1<<24+i,!1):dataView$1.setUint16(0,(t&2147483648)>>16|i+15<<10|n>>13,!1)}}}function readFloat16$1(r,t){if(r.length-t<2)throw new Error(`${decodeErrPrefix$1} not enough data for float16`);const e=(r[t]<<8)+r[t+1];if(e===31744)return 1/0;if(e===64512)return-1/0;if(e===32256)return NaN;const n=e>>10&31,i=e&1023;let o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,e&32768?-o:o}function encodeFloat32$1(r){dataView$1.setFloat32(0,r,!1)}function readFloat32$1(r,t){if(r.length-t<4)throw new Error(`${decodeErrPrefix$1} not enough data for float32`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,4).getFloat32(0,!1)}function encodeFloat64$1(r){dataView$1.setFloat64(0,r,!1)}function readFloat64$1(r,t){if(r.length-t<8)throw new Error(`${decodeErrPrefix$1} not enough data for float64`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,8).getFloat64(0,!1)}encodeFloat$1.compareTokens=encodeUint$1.compareTokens;function makeCborEncoders$1(){const r=[];return r[Type$1.uint.major]=encodeUint$1,r[Type$1.negint.major]=encodeNegint$1,r[Type$1.bytes.major]=encodeBytes$1,r[Type$1.string.major]=encodeString$1,r[Type$1.array.major]=encodeArray$1,r[Type$1.map.major]=encodeMap$1,r[Type$1.tag.major]=encodeTag$1,r[Type$1.float.major]=encodeFloat$1,r}makeCborEncoders$1();let Ref$1=class Se{constructor(t,e){this.obj=t,this.parent=e}includes(t){let e=this;do if(e.obj===t)return!0;while(e=e.parent);return!1}static createCheck(t,e){if(t&&t.includes(e))throw new Error(`${encodeErrPrefix$1} object contains circular references`);return new Se(e,t)}};const simpleTokens$1={null:new Token$1(Type$1.null,null),undefined:new Token$1(Type$1.undefined,void 0),true:new Token$1(Type$1.true,!0),false:new Token$1(Type$1.false,!1),emptyArray:new Token$1(Type$1.array,0),emptyMap:new Token$1(Type$1.map,0)},typeEncoders$1={number(r,t,e,n){return!Number.isInteger(r)||!Number.isSafeInteger(r)?new Token$1(Type$1.float,r):r>=0?new Token$1(Type$1.uint,r):new Token$1(Type$1.negint,r)},bigint(r,t,e,n){return r>=BigInt(0)?new Token$1(Type$1.uint,r):new Token$1(Type$1.negint,r)},Uint8Array(r,t,e,n){return new Token$1(Type$1.bytes,r)},string(r,t,e,n){return new Token$1(Type$1.string,r)},boolean(r,t,e,n){return r?simpleTokens$1.true:simpleTokens$1.false},null(r,t,e,n){return simpleTokens$1.null},undefined(r,t,e,n){return simpleTokens$1.undefined},ArrayBuffer(r,t,e,n){return new Token$1(Type$1.bytes,new Uint8Array(r))},DataView(r,t,e,n){return new Token$1(Type$1.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))},Array(r,t,e,n){if(!r.length)return e.addBreakTokens===!0?[simpleTokens$1.emptyArray,new Token$1(Type$1.break)]:simpleTokens$1.emptyArray;n=Ref$1.createCheck(n,r);const i=[];let o=0;for(const s of r)i[o++]=objectToTokens$1(s,e,n);return e.addBreakTokens?[new Token$1(Type$1.array,r.length),i,new Token$1(Type$1.break)]:[new Token$1(Type$1.array,r.length),i]},Object(r,t,e,n){const i=t!=="Object",o=i?r.keys():Object.keys(r),s=i?r.size:o.length;if(!s)return e.addBreakTokens===!0?[simpleTokens$1.emptyMap,new Token$1(Type$1.break)]:simpleTokens$1.emptyMap;n=Ref$1.createCheck(n,r);const a=[];let c=0;for(const y of o)a[c++]=[objectToTokens$1(y,e,n),objectToTokens$1(i?r.get(y):r[y],e,n)];return sortMapEntries$1(a,e),e.addBreakTokens?[new Token$1(Type$1.map,s),a,new Token$1(Type$1.break)]:[new Token$1(Type$1.map,s),a]}};typeEncoders$1.Map=typeEncoders$1.Object;typeEncoders$1.Buffer=typeEncoders$1.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders$1[`${r}Array`]=typeEncoders$1.DataView;function objectToTokens$1(r,t={},e){const n=is$1(r),i=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders$1[n];if(typeof i=="function"){const s=i(r,n,t,e);if(s!=null)return s}const o=typeEncoders$1[n];if(!o)throw new Error(`${encodeErrPrefix$1} unsupported type: ${n}`);return o(r,n,t,e)}function sortMapEntries$1(r,t){t.mapSorter&&r.sort(t.mapSorter)}var indexMinimal={},minimal$1={},longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=t;var r=requireMinimal$1();function t(o,s){this.lo=o>>>0,this.hi=s>>>0}var e=t.zero=new t(0,0);e.toNumber=function(){return 0},e.zzEncode=e.zzDecode=function(){return this},e.length=function(){return 1};var n=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(s){if(s===0)return e;var a=s<0;a&&(s=-s);var c=s>>>0,y=(s-c)/4294967296>>>0;return a&&(y=~y>>>0,c=~c>>>0,++c>4294967295&&(c=0,++y>4294967295&&(y=0))),new t(c,y)},t.from=function(s){if(typeof s=="number")return t.fromNumber(s);if(r.isString(s))if(r.Long)s=r.Long.fromString(s);else return t.fromNumber(parseInt(s,10));return s.low||s.high?new t(s.low>>>0,s.high>>>0):e},t.prototype.toNumber=function(s){if(!s&&this.hi>>>31){var a=~this.lo+1>>>0,c=~this.hi>>>0;return a||(c=c+1>>>0),-(a+c*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(s){return r.Long?new r.Long(this.lo|0,this.hi|0,!!s):{low:this.lo|0,high:this.hi|0,unsigned:!!s}};var i=String.prototype.charCodeAt;return t.fromHash=function(s){return s===n?e:new t((i.call(s,0)|i.call(s,1)<<8|i.call(s,2)<<16|i.call(s,3)<<24)>>>0,(i.call(s,4)|i.call(s,5)<<8|i.call(s,6)<<16|i.call(s,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},t.prototype.zzDecode=function(){var s=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},t.prototype.length=function(){var s=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?a===0?s<16384?s<128?1:2:s<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:c<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,(function(r){var t=r;t.asPromise=requireAspromise(),t.base64=requireBase64(),t.EventEmitter=requireEventemitter(),t.float=requireFloat(),t.inquire=requireInquire(),t.utf8=requireUtf8(),t.pool=requirePool(),t.LongBits=requireLongbits(),t.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$1,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,s){var a=o[s];return a!=null&&o.hasOwnProperty(s)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1},t.Buffer=(function(){try{var i=t.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}})(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,s){var a=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(a.lo,a.hi,s):a.toNumber(!!s)};function e(i,o,s){for(var a=Object.keys(o),c=0;c<a.length;++c)(i[a[c]]===void 0||!s)&&(i[a[c]]=o[a[c]]);return i}t.merge=e,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function n(i){function o(s,a){if(!(this instanceof o))return new o(s,a);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&e(this,a)}return(o.prototype=Object.create(Error.prototype)).constructor=o,Object.defineProperty(o.prototype,"name",{get:function(){return i}}),o.prototype.toString=function(){return this.name+": "+this.message},o}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(o){for(var s={},a=0;a<o.length;++a)s[o[a]]=1;return function(){for(var c=Object.keys(this),y=c.length-1;y>-1;--y)if(s[c[y]]===1&&this[c[y]]!==void 0&&this[c[y]]!==null)return c[y]}},t.oneOfSetter=function(o){return function(s){for(var a=0;a<o.length;++a)o[a]!==s&&delete this[o[a]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var i=t.Buffer;if(!i){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=i.from!==Uint8Array.from&&i.from||function(s,a){return new i(s,a)},t._Buffer_allocUnsafe=i.allocUnsafe||function(s){return new i(s)}}})(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=c;var r=requireMinimal$1(),t,e=r.LongBits,n=r.base64,i=r.utf8;function o($,f,m){this.fn=$,this.len=f,this.next=void 0,this.val=m}function s(){}function a($){this.head=$.head,this.tail=$.tail,this.len=$.len,this.next=$.states}function c(){this.len=0,this.head=new o(s,0,0),this.tail=this.head,this.states=null}var y=function(){return r.Buffer?function(){return(c.create=function(){return new t})()}:function(){return new c}};c.create=y(),c.alloc=function(f){return new r.Array(f)},r.Array!==Array&&(c.alloc=r.pool(c.alloc,r.Array.prototype.subarray)),c.prototype._push=function(f,m,E){return this.tail=this.tail.next=new o(f,m,E),this.len+=m,this};function g($,f,m){f[m]=$&255}function h($,f,m){for(;$>127;)f[m++]=$&127|128,$>>>=7;f[m]=$}function l($,f){this.len=$,this.next=void 0,this.val=f}l.prototype=Object.create(o.prototype),l.prototype.fn=h,c.prototype.uint32=function(f){return this.len+=(this.tail=this.tail.next=new l((f=f>>>0)<128?1:f<16384?2:f<2097152?3:f<268435456?4:5,f)).len,this},c.prototype.int32=function(f){return f<0?this._push(w,10,e.fromNumber(f)):this.uint32(f)},c.prototype.sint32=function(f){return this.uint32((f<<1^f>>31)>>>0)};function w($,f,m){for(;$.hi;)f[m++]=$.lo&127|128,$.lo=($.lo>>>7|$.hi<<25)>>>0,$.hi>>>=7;for(;$.lo>127;)f[m++]=$.lo&127|128,$.lo=$.lo>>>7;f[m++]=$.lo}c.prototype.uint64=function(f){var m=e.from(f);return this._push(w,m.length(),m)},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(f){var m=e.from(f).zzEncode();return this._push(w,m.length(),m)},c.prototype.bool=function(f){return this._push(g,1,f?1:0)};function u($,f,m){f[m]=$&255,f[m+1]=$>>>8&255,f[m+2]=$>>>16&255,f[m+3]=$>>>24}c.prototype.fixed32=function(f){return this._push(u,4,f>>>0)},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(f){var m=e.from(f);return this._push(u,4,m.lo)._push(u,4,m.hi)},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(f){return this._push(r.float.writeFloatLE,4,f)},c.prototype.double=function(f){return this._push(r.float.writeDoubleLE,8,f)};var p=r.Array.prototype.set?function(f,m,E){m.set(f,E)}:function(f,m,E){for(var T=0;T<f.length;++T)m[E+T]=f[T]};return c.prototype.bytes=function(f){var m=f.length>>>0;if(!m)return this._push(g,1,0);if(r.isString(f)){var E=c.alloc(m=n.length(f));n.decode(f,E,0),f=E}return this.uint32(m)._push(p,m,f)},c.prototype.string=function(f){var m=i.length(f);return m?this.uint32(m)._push(i.write,m,f):this._push(g,1,0)},c.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new o(s,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(s,0,0),this.len=0),this},c.prototype.ldelim=function(){var f=this.head,m=this.tail,E=this.len;return this.reset().uint32(E),E&&(this.tail.next=f.next,this.tail=m,this.len+=E),this},c.prototype.finish=function(){for(var f=this.head.next,m=this.constructor.alloc(this.len),E=0;f;)f.fn(f.val,m,E),E+=f.len,f=f.next;return m},c._configure=function($){t=$,c.create=y(),t._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=e;var r=requireWriter();(e.prototype=Object.create(r.prototype)).constructor=e;var t=requireMinimal$1();function e(){r.call(this)}e._configure=function(){e.alloc=t._Buffer_allocUnsafe,e.writeBytesBuffer=t.Buffer&&t.Buffer.prototype instanceof Uint8Array&&t.Buffer.prototype.set.name==="set"?function(o,s,a){s.set(o,a)}:function(o,s,a){if(o.copy)o.copy(s,a,0,o.length);else for(var c=0;c<o.length;)s[a++]=o[c++]}},e.prototype.bytes=function(o){t.isString(o)&&(o=t._Buffer_from(o,"base64"));var s=o.length>>>0;return this.uint32(s),s&&this._push(e.writeBytesBuffer,s,o),this};function n(i,o,s){i.length<40?t.utf8.write(i,o,s):o.utf8Write?o.utf8Write(i,s):o.write(i,s)}return e.prototype.string=function(o){var s=t.Buffer.byteLength(o);return this.uint32(s),s&&this._push(n,s,o),this},e._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=o;var r=requireMinimal$1(),t,e=r.LongBits,n=r.utf8;function i(h,l){return RangeError("index out of range: "+h.pos+" + "+(l||1)+" > "+h.len)}function o(h){this.buf=h,this.pos=0,this.len=h.length}var s=typeof Uint8Array<"u"?function(l){if(l instanceof Uint8Array||Array.isArray(l))return new o(l);throw Error("illegal buffer")}:function(l){if(Array.isArray(l))return new o(l);throw Error("illegal buffer")},a=function(){return r.Buffer?function(w){return(o.create=function(p){return r.Buffer.isBuffer(p)?new t(p):s(p)})(w)}:s};o.create=a(),o.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,o.prototype.uint32=(function(){var l=4294967295;return function(){if(l=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(l=(l|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(l=(l|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return l;if((this.pos+=5)>this.len)throw this.pos=this.len,i(this,10);return l}})(),o.prototype.int32=function(){return this.uint32()|0},o.prototype.sint32=function(){var l=this.uint32();return l>>>1^-(l&1)|0};function c(){var h=new e(0,0),l=0;if(this.len-this.pos>4){for(;l<4;++l)if(h.lo=(h.lo|(this.buf[this.pos]&127)<<l*7)>>>0,this.buf[this.pos++]<128)return h;if(h.lo=(h.lo|(this.buf[this.pos]&127)<<28)>>>0,h.hi=(h.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return h;l=0}else{for(;l<3;++l){if(this.pos>=this.len)throw i(this);if(h.lo=(h.lo|(this.buf[this.pos]&127)<<l*7)>>>0,this.buf[this.pos++]<128)return h}return h.lo=(h.lo|(this.buf[this.pos++]&127)<<l*7)>>>0,h}if(this.len-this.pos>4){for(;l<5;++l)if(h.hi=(h.hi|(this.buf[this.pos]&127)<<l*7+3)>>>0,this.buf[this.pos++]<128)return h}else for(;l<5;++l){if(this.pos>=this.len)throw i(this);if(h.hi=(h.hi|(this.buf[this.pos]&127)<<l*7+3)>>>0,this.buf[this.pos++]<128)return h}throw Error("invalid varint encoding")}o.prototype.bool=function(){return this.uint32()!==0};function y(h,l){return(h[l-4]|h[l-3]<<8|h[l-2]<<16|h[l-1]<<24)>>>0}o.prototype.fixed32=function(){if(this.pos+4>this.len)throw i(this,4);return y(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i(this,4);return y(this.buf,this.pos+=4)|0};function g(){if(this.pos+8>this.len)throw i(this,8);return new e(y(this.buf,this.pos+=4),y(this.buf,this.pos+=4))}return o.prototype.float=function(){if(this.pos+4>this.len)throw i(this,4);var l=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,l},o.prototype.double=function(){if(this.pos+8>this.len)throw i(this,4);var l=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,l},o.prototype.bytes=function(){var l=this.uint32(),w=this.pos,u=this.pos+l;if(u>this.len)throw i(this,l);return this.pos+=l,Array.isArray(this.buf)?this.buf.slice(w,u):w===u?new this.buf.constructor(0):this._slice.call(this.buf,w,u)},o.prototype.string=function(){var l=this.bytes();return n.read(l,0,l.length)},o.prototype.skip=function(l){if(typeof l=="number"){if(this.pos+l>this.len)throw i(this,l);this.pos+=l}else do if(this.pos>=this.len)throw i(this);while(this.buf[this.pos++]&128);return this},o.prototype.skipType=function(h){switch(h){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(h=this.uint32()&7)!==4;)this.skipType(h);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+h+" at offset "+this.pos)}return this},o._configure=function(h){t=h,o.create=a(),t._configure();var l=r.Long?"toLong":"toNumber";r.merge(o.prototype,{int64:function(){return c.call(this)[l](!1)},uint64:function(){return c.call(this)[l](!0)},sint64:function(){return c.call(this).zzDecode()[l](!1)},fixed64:function(){return g.call(this)[l](!0)},sfixed64:function(){return g.call(this)[l](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=e;var r=requireReader();(e.prototype=Object.create(r.prototype)).constructor=e;var t=requireMinimal$1();function e(n){r.call(this,n)}return e._configure=function(){t.Buffer&&(e.prototype._slice=t.Buffer.prototype.slice)},e.prototype.string=function(){var i=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+i,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+i,this.len))},e._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=t;var r=requireMinimal$1();(t.prototype=Object.create(r.EventEmitter.prototype)).constructor=t;function t(e,n,i){if(typeof e!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!n,this.responseDelimited=!!i}return t.prototype.rpcCall=function e(n,i,o,s,a){if(!s)throw TypeError("request must be specified");var c=this;if(!a)return r.asPromise(e,c,n,i,o,s);if(!c.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return c.rpcImpl(n,i[c.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(g,h){if(g)return c.emit("error",g,n),a(g);if(h===null){c.end(!0);return}if(!(h instanceof o))try{h=o[c.responseDelimited?"decodeDelimited":"decode"](h)}catch(l){return c.emit("error",l,n),a(l)}return c.emit("data",h,n),a(null,h)})}catch(y){c.emit("error",y,n),setTimeout(function(){a(y)},0);return}},t.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(r){var t=r;t.Service=requireService()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(r){var t=r;t.build="minimal",t.Writer=requireWriter(),t.BufferWriter=requireWriter_buffer(),t.Reader=requireReader(),t.BufferReader=requireReader_buffer(),t.util=requireMinimal$1(),t.rpc=requireRpc(),t.roots=requireRoots(),t.configure=e;function e(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}e()})(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var minimalExports=requireMinimal();const $protobuf=getDefaultExportFromCjs(minimalExports),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots["ipfs-unixfs"]||($protobuf.roots["ipfs-unixfs"]={});$root.Data=(()=>{function r(t){if(this.blocksizes=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.Type=0,r.prototype.Data=$util.newBuffer([]),r.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,r.prototype.blocksizes=$util.emptyArray,r.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,r.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,r.prototype.mode=0,r.prototype.mtime=null,r.encode=function(e,n){if(n||(n=$Writer.create()),n.uint32(8).int32(e.Type),e.Data!=null&&Object.hasOwnProperty.call(e,"Data")&&n.uint32(18).bytes(e.Data),e.filesize!=null&&Object.hasOwnProperty.call(e,"filesize")&&n.uint32(24).uint64(e.filesize),e.blocksizes!=null&&e.blocksizes.length)for(var i=0;i<e.blocksizes.length;++i)n.uint32(32).uint64(e.blocksizes[i]);return e.hashType!=null&&Object.hasOwnProperty.call(e,"hashType")&&n.uint32(40).uint64(e.hashType),e.fanout!=null&&Object.hasOwnProperty.call(e,"fanout")&&n.uint32(48).uint64(e.fanout),e.mode!=null&&Object.hasOwnProperty.call(e,"mode")&&n.uint32(56).uint32(e.mode),e.mtime!=null&&Object.hasOwnProperty.call(e,"mtime")&&$root.UnixTime.encode(e.mtime,n.uint32(66).fork()).ldelim(),n},r.decode=function(e,n){e instanceof $Reader||(e=$Reader.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root.Data;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.Type=e.int32();break;case 2:o.Data=e.bytes();break;case 3:o.filesize=e.uint64();break;case 4:if(o.blocksizes&&o.blocksizes.length||(o.blocksizes=[]),(s&7)===2)for(var a=e.uint32()+e.pos;e.pos<a;)o.blocksizes.push(e.uint64());else o.blocksizes.push(e.uint64());break;case 5:o.hashType=e.uint64();break;case 6:o.fanout=e.uint64();break;case 7:o.mode=e.uint32();break;case 8:o.mtime=$root.UnixTime.decode(e,e.uint32());break;default:e.skipType(s&7);break}}if(!o.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:o});return o},r.fromObject=function(e){if(e instanceof $root.Data)return e;var n=new $root.Data;switch(e.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(e.Data!=null&&(typeof e.Data=="string"?$util.base64.decode(e.Data,n.Data=$util.newBuffer($util.base64.length(e.Data)),0):e.Data.length&&(n.Data=e.Data)),e.filesize!=null&&($util.Long?(n.filesize=$util.Long.fromValue(e.filesize)).unsigned=!0:typeof e.filesize=="string"?n.filesize=parseInt(e.filesize,10):typeof e.filesize=="number"?n.filesize=e.filesize:typeof e.filesize=="object"&&(n.filesize=new $util.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)$util.Long?(n.blocksizes[i]=$util.Long.fromValue(e.blocksizes[i])).unsigned=!0:typeof e.blocksizes[i]=="string"?n.blocksizes[i]=parseInt(e.blocksizes[i],10):typeof e.blocksizes[i]=="number"?n.blocksizes[i]=e.blocksizes[i]:typeof e.blocksizes[i]=="object"&&(n.blocksizes[i]=new $util.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0))}if(e.hashType!=null&&($util.Long?(n.hashType=$util.Long.fromValue(e.hashType)).unsigned=!0:typeof e.hashType=="string"?n.hashType=parseInt(e.hashType,10):typeof e.hashType=="number"?n.hashType=e.hashType:typeof e.hashType=="object"&&(n.hashType=new $util.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),e.fanout!=null&&($util.Long?(n.fanout=$util.Long.fromValue(e.fanout)).unsigned=!0:typeof e.fanout=="string"?n.fanout=parseInt(e.fanout,10):typeof e.fanout=="number"?n.fanout=e.fanout:typeof e.fanout=="object"&&(n.fanout=new $util.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),e.mode!=null&&(n.mode=e.mode>>>0),e.mtime!=null){if(typeof e.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=$root.UnixTime.fromObject(e.mtime)}return n},r.toObject=function(e,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocksizes=[]),n.defaults){if(i.Type=n.enums===String?"Raw":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=$util.newBuffer(i.Data))),$util.Long){var o=new $util.Long(0,0,!0);i.filesize=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.filesize=n.longs===String?"0":0;if($util.Long){var o=new $util.Long(0,0,!0);i.hashType=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.hashType=n.longs===String?"0":0;if($util.Long){var o=new $util.Long(0,0,!0);i.fanout=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.fanout=n.longs===String?"0":0;i.mode=0,i.mtime=null}if(e.Type!=null&&e.hasOwnProperty("Type")&&(i.Type=n.enums===String?$root.Data.DataType[e.Type]:e.Type),e.Data!=null&&e.hasOwnProperty("Data")&&(i.Data=n.bytes===String?$util.base64.encode(e.Data,0,e.Data.length):n.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),e.filesize!=null&&e.hasOwnProperty("filesize")&&(typeof e.filesize=="number"?i.filesize=n.longs===String?String(e.filesize):e.filesize:i.filesize=n.longs===String?$util.Long.prototype.toString.call(e.filesize):n.longs===Number?new $util.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){i.blocksizes=[];for(var s=0;s<e.blocksizes.length;++s)typeof e.blocksizes[s]=="number"?i.blocksizes[s]=n.longs===String?String(e.blocksizes[s]):e.blocksizes[s]:i.blocksizes[s]=n.longs===String?$util.Long.prototype.toString.call(e.blocksizes[s]):n.longs===Number?new $util.LongBits(e.blocksizes[s].low>>>0,e.blocksizes[s].high>>>0).toNumber(!0):e.blocksizes[s]}return e.hashType!=null&&e.hasOwnProperty("hashType")&&(typeof e.hashType=="number"?i.hashType=n.longs===String?String(e.hashType):e.hashType:i.hashType=n.longs===String?$util.Long.prototype.toString.call(e.hashType):n.longs===Number?new $util.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),e.fanout!=null&&e.hasOwnProperty("fanout")&&(typeof e.fanout=="number"?i.fanout=n.longs===String?String(e.fanout):e.fanout:i.fanout=n.longs===String?$util.Long.prototype.toString.call(e.fanout):n.longs===Number?new $util.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),e.mode!=null&&e.hasOwnProperty("mode")&&(i.mode=e.mode),e.mtime!=null&&e.hasOwnProperty("mtime")&&(i.mtime=$root.UnixTime.toObject(e.mtime,n)),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},r.DataType=(function(){const t={},e=Object.create(t);return e[t[0]="Raw"]=0,e[t[1]="Directory"]=1,e[t[2]="File"]=2,e[t[3]="Metadata"]=3,e[t[4]="Symlink"]=4,e[t[5]="HAMTShard"]=5,e})(),r})();$root.UnixTime=(()=>{function r(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,r.prototype.FractionalNanoseconds=0,r.encode=function(e,n){return n||(n=$Writer.create()),n.uint32(8).int64(e.Seconds),e.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&n.uint32(21).fixed32(e.FractionalNanoseconds),n},r.decode=function(e,n){e instanceof $Reader||(e=$Reader.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root.UnixTime;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.Seconds=e.int64();break;case 2:o.FractionalNanoseconds=e.fixed32();break;default:e.skipType(s&7);break}}if(!o.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:o});return o},r.fromObject=function(e){if(e instanceof $root.UnixTime)return e;var n=new $root.UnixTime;return e.Seconds!=null&&($util.Long?(n.Seconds=$util.Long.fromValue(e.Seconds)).unsigned=!1:typeof e.Seconds=="string"?n.Seconds=parseInt(e.Seconds,10):typeof e.Seconds=="number"?n.Seconds=e.Seconds:typeof e.Seconds=="object"&&(n.Seconds=new $util.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),e.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=e.FractionalNanoseconds>>>0),n},r.toObject=function(e,n){n||(n={});var i={};if(n.defaults){if($util.Long){var o=new $util.Long(0,0,!1);i.Seconds=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.Seconds=n.longs===String?"0":0;i.FractionalNanoseconds=0}return e.Seconds!=null&&e.hasOwnProperty("Seconds")&&(typeof e.Seconds=="number"?i.Seconds=n.longs===String?String(e.Seconds):e.Seconds:i.Seconds=n.longs===String?$util.Long.prototype.toString.call(e.Seconds):n.longs===Number?new $util.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),e.FractionalNanoseconds!=null&&e.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=e.FractionalNanoseconds),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},r})();$root.Metadata=(()=>{function r(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)t[e[n]]!=null&&(this[e[n]]=t[e[n]])}return r.prototype.MimeType="",r.encode=function(e,n){return n||(n=$Writer.create()),e.MimeType!=null&&Object.hasOwnProperty.call(e,"MimeType")&&n.uint32(10).string(e.MimeType),n},r.decode=function(e,n){e instanceof $Reader||(e=$Reader.create(e));for(var i=n===void 0?e.len:e.pos+n,o=new $root.Metadata;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:o.MimeType=e.string();break;default:e.skipType(s&7);break}}return o},r.fromObject=function(e){if(e instanceof $root.Metadata)return e;var n=new $root.Metadata;return e.MimeType!=null&&(n.MimeType=String(e.MimeType)),n},r.toObject=function(e,n){n||(n={});var i={};return n.defaults&&(i.MimeType=""),e.MimeType!=null&&e.hasOwnProperty("MimeType")&&(i.MimeType=e.MimeType),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},r})();const coerce=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};function base(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=i}var a=r.length,c=r.charAt(0),y=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function h(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var p=0,$=0,f=0,m=u.length;f!==m&&u[f]===0;)f++,p++;for(var E=(m-f)*g+1>>>0,T=new Uint8Array(E);f!==m;){for(var _=u[f],x=0,S=E-1;(_!==0||x<$)&&S!==-1;S--,x++)_+=256*T[S]>>>0,T[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");$=x,f++}for(var C=E-$;C!==E&&T[C]===0;)C++;for(var B=c.repeat(p);C<E;++C)B+=r.charAt(T[C]);return B}function l(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var p=0;if(u[p]!==" "){for(var $=0,f=0;u[p]===c;)$++,p++;for(var m=(u.length-p)*y+1>>>0,E=new Uint8Array(m);u[p];){var T=e[u.charCodeAt(p)];if(T===255)return;for(var _=0,x=m-1;(T!==0||_<f)&&x!==-1;x--,_++)T+=a*E[x]>>>0,E[x]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");f=_,p++}if(u[p]!==" "){for(var S=m-f;S!==m&&E[S]===0;)S++;for(var C=new Uint8Array($+(m-S)),B=$;S!==m;)C[B++]=E[S++];return C}}}function w(u){var p=l(u);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:w}}var src=base,_brrp__multiformats_scope_baseX=src;class Encoder{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or(this,t)}}class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(r,t)=>new ComposedDecoder({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class Codec{constructor(t,e,n,i){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder(t,e,n),this.decoder=new Decoder(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from=({name:r,prefix:t,encode:e,decode:n})=>new Codec(r,t,e,n),baseX=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:i}=_brrp__multiformats_scope_baseX(e,t);return from({prefix:r,name:t,encode:n,decode:o=>coerce(i(o))})},decode=(r,t,e,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;const s=new Uint8Array(o*e/8|0);let a=0,c=0,y=0;for(let g=0;g<o;++g){const h=i[r[g]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<e|h,a+=e,a>=8&&(a-=8,s[y++]=255&c>>a)}if(a>=e||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},encode=(r,t,e)=>{const n=t[t.length-1]==="=",i=(1<<e)-1;let o="",s=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],s+=8;s>e;)s-=e,o+=t[i&a>>s];if(s&&(o+=t[i&a<<e-s]),n)for(;o.length*e&7;)o+="=";return o},rfc4648=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>from({prefix:t,name:r,encode(i){return encode(i,n,e)},decode(i){return decode(i,n,e,r)}});baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(r){if(r===null)return"null";if(r===void 0)return"undefined";if(r===!0||r===!1)return"boolean";const t=typeof r;if(typeofs.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(r))return"Array";if(isBuffer$1(r))return"Buffer";const e=getObjectType(r);return e||"Object"}function isBuffer$1(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}function getObjectType(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(objectTypeNames.includes(t))return t}class Type{constructor(t,e,n){this.major=t,this.majorEncoded=t<<5,this.name=e,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(t,e,n){this.type=t,this.value=e,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function";new TextDecoder;const textEncoder=new TextEncoder;function isBuffer(r){return useBuffer&&globalThis.Buffer.isBuffer(r)}const fromString=useBuffer?r=>r.length>64?globalThis.Buffer.from(r):utf8ToBytes(r):r=>r.length>64?textEncoder.encode(r):utf8ToBytes(r);function compare(r,t){if(isBuffer(r)&&isBuffer(t))return r.compare(t);for(let e=0;e<r.length;e++)if(r[e]!==t[e])return r[e]<t[e]?-1:1;return 0}function utf8ToBytes(r,t=1/0){let e;const n=r.length;let i=null;const o=[];for(let s=0;s<n;++s){if(e=r.charCodeAt(s),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:",uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function encodeUint(r,t){return encodeUintValue(r,0,t.value)}function encodeUintValue(r,t,e){if(e<uintBoundaries[0]){const n=Number(e);r.push([t|n])}else if(e<uintBoundaries[1]){const n=Number(e);r.push([t|24,n])}else if(e<uintBoundaries[2]){const n=Number(e);r.push([t|25,n>>>8,n&255])}else if(e<uintBoundaries[3]){const n=Number(e);r.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(e);if(n<uintBoundaries[4]){const i=[t|27,0,0,0,0,0,0,0];let o=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=s&255,s=s>>8,i[3]=s&255,s=s>>8,i[2]=s&255,s=s>>8,i[1]=s&255,r.push(i)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function r(t){return encodeUintValue.encodedSize(t.value)};encodeUintValue.encodedSize=function r(t){return t<uintBoundaries[0]?1:t<uintBoundaries[1]?2:t<uintBoundaries[2]?3:t<uintBoundaries[3]?5:9};encodeUint.compareTokens=function r(t,e){return t.value<e.value?-1:t.value>e.value?1:0};const neg1b=BigInt(-1),pos1b=BigInt(1);function encodeNegint(r,t){const e=t.value,n=typeof e=="bigint"?e*neg1b-pos1b:e*-1-1;encodeUintValue(r,t.type.majorEncoded,n)}encodeNegint.encodedSize=function r(t){const e=t.value,n=typeof e=="bigint"?e*neg1b-pos1b:e*-1-1;return n<uintBoundaries[0]?1:n<uintBoundaries[1]?2:n<uintBoundaries[2]?3:n<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function r(t,e){return t.value<e.value?1:t.value>e.value?-1:0};function tokenBytes(r){return r.encodedBytes===void 0&&(r.encodedBytes=r.type===Type.string?fromString(r.value):r.value),r.encodedBytes}function encodeBytes(r,t){const e=tokenBytes(t);encodeUintValue(r,t.type.majorEncoded,e.length),r.push(e)}encodeBytes.encodedSize=function r(t){const e=tokenBytes(t);return encodeUintValue.encodedSize(e.length)+e.length};encodeBytes.compareTokens=function r(t,e){return compareBytes(tokenBytes(t),tokenBytes(e))};function compareBytes(r,t){return r.length<t.length?-1:r.length>t.length?1:compare(r,t)}const encodeString=encodeBytes;function encodeArray(r,t){encodeUintValue(r,Type.array.majorEncoded,t.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function r(t){return encodeUintValue.encodedSize(t.value)};function encodeMap(r,t){encodeUintValue(r,Type.map.majorEncoded,t.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function r(t){return encodeUintValue.encodedSize(t.value)};function encodeTag(r,t){encodeUintValue(r,Type.tag.majorEncoded,t.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function r(t){return encodeUintValue.encodedSize(t.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function encodeFloat(r,t,e){const n=t.value;if(n===!1)r.push([Type.float.majorEncoded|MINOR_FALSE]);else if(n===!0)r.push([Type.float.majorEncoded|MINOR_TRUE]);else if(n===null)r.push([Type.float.majorEncoded|MINOR_NULL]);else if(n===void 0)r.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let i,o=!1;(!e||e.float64!==!0)&&(encodeFloat16(n),i=readFloat16(ui8a,1),n===i||Number.isNaN(n)?(ui8a[0]=249,r.push(ui8a.slice(0,3)),o=!0):(encodeFloat32(n),i=readFloat32(ui8a,1),n===i&&(ui8a[0]=250,r.push(ui8a.slice(0,5)),o=!0))),o||(encodeFloat64(n),i=readFloat64(ui8a,1),ui8a[0]=251,r.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function r(t,e){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!e||e.float64!==!0){encodeFloat16(n);let i=readFloat16(ui8a,1);if(n===i||Number.isNaN(n))return 3;if(encodeFloat32(n),i=readFloat32(ui8a,1),n===i)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(r){if(r===1/0)dataView.setUint16(0,31744,!1);else if(r===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(r))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,r);const t=dataView.getUint32(0),e=(t&2139095040)>>23,n=t&8388607;if(e===255)dataView.setUint16(0,31744,!1);else if(e===0)dataView.setUint16(0,(r&2147483648)>>16|n>>13,!1);else{const i=e-127;i<-24?dataView.setUint16(0,0):i<-14?dataView.setUint16(0,(t&2147483648)>>16|1<<24+i,!1):dataView.setUint16(0,(t&2147483648)>>16|i+15<<10|n>>13,!1)}}}function readFloat16(r,t){if(r.length-t<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const e=(r[t]<<8)+r[t+1];if(e===31744)return 1/0;if(e===64512)return-1/0;if(e===32256)return NaN;const n=e>>10&31,i=e&1023;let o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,e&32768?-o:o}function encodeFloat32(r){dataView.setFloat32(0,r,!1)}function readFloat32(r,t){if(r.length-t<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,4).getFloat32(0,!1)}function encodeFloat64(r){dataView.setFloat64(0,r,!1)}function readFloat64(r,t){if(r.length-t<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function makeCborEncoders(){const r=[];return r[Type.uint.major]=encodeUint,r[Type.negint.major]=encodeNegint,r[Type.bytes.major]=encodeBytes,r[Type.string.major]=encodeString,r[Type.array.major]=encodeArray,r[Type.map.major]=encodeMap,r[Type.tag.major]=encodeTag,r[Type.float.major]=encodeFloat,r}makeCborEncoders();class Ref{constructor(t,e){this.obj=t,this.parent=e}includes(t){let e=this;do if(e.obj===t)return!0;while(e=e.parent);return!1}static createCheck(t,e){if(t&&t.includes(e))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(e,t)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(r,t,e,n){return!Number.isInteger(r)||!Number.isSafeInteger(r)?new Token(Type.float,r):r>=0?new Token(Type.uint,r):new Token(Type.negint,r)},bigint(r,t,e,n){return r>=BigInt(0)?new Token(Type.uint,r):new Token(Type.negint,r)},Uint8Array(r,t,e,n){return new Token(Type.bytes,r)},string(r,t,e,n){return new Token(Type.string,r)},boolean(r,t,e,n){return r?simpleTokens.true:simpleTokens.false},null(r,t,e,n){return simpleTokens.null},undefined(r,t,e,n){return simpleTokens.undefined},ArrayBuffer(r,t,e,n){return new Token(Type.bytes,new Uint8Array(r))},DataView(r,t,e,n){return new Token(Type.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))},Array(r,t,e,n){if(!r.length)return e.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,r);const i=[];let o=0;for(const s of r)i[o++]=objectToTokens(s,e,n);return e.addBreakTokens?[new Token(Type.array,r.length),i,new Token(Type.break)]:[new Token(Type.array,r.length),i]},Object(r,t,e,n){const i=t!=="Object",o=i?r.keys():Object.keys(r),s=i?r.size:o.length;if(!s)return e.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,r);const a=[];let c=0;for(const y of o)a[c++]=[objectToTokens(y,e,n),objectToTokens(i?r.get(y):r[y],e,n)];return sortMapEntries(a,e),e.addBreakTokens?[new Token(Type.map,s),a,new Token(Type.break)]:[new Token(Type.map,s),a]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${r}Array`]=typeEncoders.DataView;function objectToTokens(r,t={},e){const n=is(r),i=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders[n];if(typeof i=="function"){const s=i(r,n,t,e);if(s!=null)return s}const o=typeEncoders[n];if(!o)throw new Error(`${encodeErrPrefix} unsupported type: ${n}`);return o(r,n,t,e)}function sortMapEntries(r,t){t.mapSorter&&r.sort(t.mapSorter)}new TextDecoder;new TextEncoder;new TextEncoder;var throttledQueue$1={exports:{}},hasRequiredThrottledQueue;function requireThrottledQueue(){return hasRequiredThrottledQueue||(hasRequiredThrottledQueue=1,(function(r,t){Object.defineProperty(t,"__esModule",{value:!0});function e(n,i,o){o===void 0&&(o=!1),o&&(i=i/n,n=1);var s=[],a=0,c=0,y,g=function(){var h=a+i,l=Date.now();if(l<h){y!==void 0&&clearTimeout(y),y=setTimeout(g,h-l);return}a=l,c=0;for(var w=0,u=s.splice(0,n);w<u.length;w++){var p=u[w];c++,p()}s.length?y=setTimeout(g,i):y=void 0};return function(h){return new Promise(function(l,w){var u=function(){return Promise.resolve().then(h).then(l).catch(w)},p=Date.now();y===void 0&&p-a>i&&(a=p,c=0),c++<n?u():(s.push(u),y===void 0&&(y=setTimeout(g,a+i-p)))})}}r.exports=e,t.default=e})(throttledQueue$1,throttledQueue$1.exports)),throttledQueue$1.exports}var throttledQueueExports=requireThrottledQueue();const throttledQueue=getDefaultExportFromCjs(throttledQueueExports),RATE_LIMIT_REQUESTS=30,RATE_LIMIT_PERIOD=10*1e3;function createRateLimiter(){const r=throttledQueue(RATE_LIMIT_REQUESTS,RATE_LIMIT_PERIOD);return()=>r(()=>{})}createRateLimiter();export{create as c,getDefaultExportFromCjs as g};
